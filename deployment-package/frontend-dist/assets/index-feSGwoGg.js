function XC(t,s){for(var n=0;n<s.length;n++){const i=s[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(t,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Gb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tf={exports:{}},sc={};var Iv;function JC(){if(Iv)return sc;Iv=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function n(i,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:t,type:i,key:u,ref:o!==void 0?o:null,props:c}}return sc.Fragment=s,sc.jsx=n,sc.jsxs=n,sc}var Lv;function e4(){return Lv||(Lv=1,Tf.exports=JC()),Tf.exports}var e=e4(),Rf={exports:{}},et={};var Pv;function t4(){if(Pv)return et;Pv=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=b&&B[b]||B["@@iterator"],typeof B=="function"?B:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,C={};function A(B,te,T){this.props=B,this.context=te,this.refs=C,this.updater=T||N}A.prototype.isReactComponent={},A.prototype.setState=function(B,te){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,te,"setState")},A.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function E(){}E.prototype=A.prototype;function S(B,te,T){this.props=B,this.context=te,this.refs=C,this.updater=T||N}var R=S.prototype=new E;R.constructor=S,j(R,A.prototype),R.isPureReactComponent=!0;var _=Array.isArray;function L(){}var I={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function $(B,te,T){var ye=T.ref;return{$$typeof:t,type:B,key:te,ref:ye!==void 0?ye:null,props:T}}function H(B,te){return $(B.type,te,B.props)}function G(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function F(B){var te={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(T){return te[T]})}var de=/\/+/g;function z(B,te){return typeof B=="object"&&B!==null&&B.key!=null?F(""+B.key):te.toString(36)}function he(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(L,L):(B.status="pending",B.then(function(te){B.status==="pending"&&(B.status="fulfilled",B.value=te)},function(te){B.status==="pending"&&(B.status="rejected",B.reason=te)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function O(B,te,T,ye,Ce){var Pe=typeof B;(Pe==="undefined"||Pe==="boolean")&&(B=null);var be=!1;if(B===null)be=!0;else switch(Pe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(B.$$typeof){case t:case s:be=!0;break;case p:return be=B._init,O(be(B._payload),te,T,ye,Ce)}}if(be)return Ce=Ce(B),be=ye===""?"."+z(B,0):ye,_(Ce)?(T="",be!=null&&(T=be.replace(de,"$&/")+"/"),O(Ce,te,T,"",function(Ze){return Ze})):Ce!=null&&(G(Ce)&&(Ce=H(Ce,T+(Ce.key==null||B&&B.key===Ce.key?"":(""+Ce.key).replace(de,"$&/")+"/")+be)),te.push(Ce)),1;be=0;var $e=ye===""?".":ye+":";if(_(B))for(var qe=0;qe<B.length;qe++)ye=B[qe],Pe=$e+z(ye,qe),be+=O(ye,te,T,Pe,Ce);else if(qe=w(B),typeof qe=="function")for(B=qe.call(B),qe=0;!(ye=B.next()).done;)ye=ye.value,Pe=$e+z(ye,qe++),be+=O(ye,te,T,Pe,Ce);else if(Pe==="object"){if(typeof B.then=="function")return O(he(B),te,T,ye,Ce);throw te=String(B),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return be}function P(B,te,T){if(B==null)return B;var ye=[],Ce=0;return O(B,ye,"","",function(Pe){return te.call(T,Pe,Ce++)}),ye}function U(B){if(B._status===-1){var te=B._result;te=te(),te.then(function(T){(B._status===0||B._status===-1)&&(B._status=1,B._result=T)},function(T){(B._status===0||B._status===-1)&&(B._status=2,B._result=T)}),B._status===-1&&(B._status=0,B._result=te)}if(B._status===1)return B._result.default;throw B._result}var pe=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Ne={map:P,forEach:function(B,te,T){P(B,function(){te.apply(this,arguments)},T)},count:function(B){var te=0;return P(B,function(){te++}),te},toArray:function(B){return P(B,function(te){return te})||[]},only:function(B){if(!G(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return et.Activity=y,et.Children=Ne,et.Component=A,et.Fragment=n,et.Profiler=o,et.PureComponent=S,et.StrictMode=i,et.Suspense=h,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,et.__COMPILER_RUNTIME={__proto__:null,c:function(B){return I.H.useMemoCache(B)}},et.cache=function(B){return function(){return B.apply(null,arguments)}},et.cacheSignal=function(){return null},et.cloneElement=function(B,te,T){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ye=j({},B.props),Ce=B.key;if(te!=null)for(Pe in te.key!==void 0&&(Ce=""+te.key),te)!q.call(te,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&te.ref===void 0||(ye[Pe]=te[Pe]);var Pe=arguments.length-2;if(Pe===1)ye.children=T;else if(1<Pe){for(var be=Array(Pe),$e=0;$e<Pe;$e++)be[$e]=arguments[$e+2];ye.children=be}return $(B.type,Ce,ye)},et.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:c,_context:B},B},et.createElement=function(B,te,T){var ye,Ce={},Pe=null;if(te!=null)for(ye in te.key!==void 0&&(Pe=""+te.key),te)q.call(te,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Ce[ye]=te[ye]);var be=arguments.length-2;if(be===1)Ce.children=T;else if(1<be){for(var $e=Array(be),qe=0;qe<be;qe++)$e[qe]=arguments[qe+2];Ce.children=$e}if(B&&B.defaultProps)for(ye in be=B.defaultProps,be)Ce[ye]===void 0&&(Ce[ye]=be[ye]);return $(B,Pe,Ce)},et.createRef=function(){return{current:null}},et.forwardRef=function(B){return{$$typeof:m,render:B}},et.isValidElement=G,et.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:U}},et.memo=function(B,te){return{$$typeof:f,type:B,compare:te===void 0?null:te}},et.startTransition=function(B){var te=I.T,T={};I.T=T;try{var ye=B(),Ce=I.S;Ce!==null&&Ce(T,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(L,pe)}catch(Pe){pe(Pe)}finally{te!==null&&T.types!==null&&(te.types=T.types),I.T=te}},et.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},et.use=function(B){return I.H.use(B)},et.useActionState=function(B,te,T){return I.H.useActionState(B,te,T)},et.useCallback=function(B,te){return I.H.useCallback(B,te)},et.useContext=function(B){return I.H.useContext(B)},et.useDebugValue=function(){},et.useDeferredValue=function(B,te){return I.H.useDeferredValue(B,te)},et.useEffect=function(B,te){return I.H.useEffect(B,te)},et.useEffectEvent=function(B){return I.H.useEffectEvent(B)},et.useId=function(){return I.H.useId()},et.useImperativeHandle=function(B,te,T){return I.H.useImperativeHandle(B,te,T)},et.useInsertionEffect=function(B,te){return I.H.useInsertionEffect(B,te)},et.useLayoutEffect=function(B,te){return I.H.useLayoutEffect(B,te)},et.useMemo=function(B,te){return I.H.useMemo(B,te)},et.useOptimistic=function(B,te){return I.H.useOptimistic(B,te)},et.useReducer=function(B,te,T){return I.H.useReducer(B,te,T)},et.useRef=function(B){return I.H.useRef(B)},et.useState=function(B){return I.H.useState(B)},et.useSyncExternalStore=function(B,te,T){return I.H.useSyncExternalStore(B,te,T)},et.useTransition=function(){return I.H.useTransition()},et.version="19.2.0",et}var Uv;function Zx(){return Uv||(Uv=1,Rf.exports=t4()),Rf.exports}var v=Zx();const as=Gb(v),Yb=XC({__proto__:null,default:as},[v]);var Df={exports:{}},ac={},Of={exports:{}},Mf={};var Fv;function s4(){return Fv||(Fv=1,(function(t){function s(O,P){var U=O.length;O.push(P);e:for(;0<U;){var pe=U-1>>>1,Ne=O[pe];if(0<o(Ne,P))O[pe]=P,O[U]=Ne,U=pe;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var P=O[0],U=O.pop();if(U!==P){O[0]=U;e:for(var pe=0,Ne=O.length,B=Ne>>>1;pe<B;){var te=2*(pe+1)-1,T=O[te],ye=te+1,Ce=O[ye];if(0>o(T,U))ye<Ne&&0>o(Ce,T)?(O[pe]=Ce,O[ye]=U,pe=ye):(O[pe]=T,O[te]=U,pe=te);else if(ye<Ne&&0>o(Ce,U))O[pe]=Ce,O[ye]=U,pe=ye;else break e}}return P}function o(O,P){var U=O.sortIndex-P.sortIndex;return U!==0?U:O.id-P.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var h=[],f=[],p=1,y=null,b=3,w=!1,N=!1,j=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function R(O){for(var P=n(f);P!==null;){if(P.callback===null)i(f);else if(P.startTime<=O)i(f),P.sortIndex=P.expirationTime,s(h,P);else break;P=n(f)}}function _(O){if(j=!1,R(O),!N)if(n(h)!==null)N=!0,L||(L=!0,F());else{var P=n(f);P!==null&&he(_,P.startTime-O)}}var L=!1,I=-1,q=5,$=-1;function H(){return C?!0:!(t.unstable_now()-$<q)}function G(){if(C=!1,L){var O=t.unstable_now();$=O;var P=!0;try{e:{N=!1,j&&(j=!1,E(I),I=-1),w=!0;var U=b;try{t:{for(R(O),y=n(h);y!==null&&!(y.expirationTime>O&&H());){var pe=y.callback;if(typeof pe=="function"){y.callback=null,b=y.priorityLevel;var Ne=pe(y.expirationTime<=O);if(O=t.unstable_now(),typeof Ne=="function"){y.callback=Ne,R(O),P=!0;break t}y===n(h)&&i(h),R(O)}else i(h);y=n(h)}if(y!==null)P=!0;else{var B=n(f);B!==null&&he(_,B.startTime-O),P=!1}}break e}finally{y=null,b=U,w=!1}P=void 0}}finally{P?F():L=!1}}}var F;if(typeof S=="function")F=function(){S(G)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,z=de.port2;de.port1.onmessage=G,F=function(){z.postMessage(null)}}else F=function(){A(G,0)};function he(O,P){I=A(function(){O(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(O){switch(b){case 1:case 2:case 3:var P=3;break;default:P=b}var U=b;b=P;try{return O()}finally{b=U}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(O,P){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=b;b=O;try{return P()}finally{b=U}},t.unstable_scheduleCallback=function(O,P,U){var pe=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?pe+U:pe):U=pe,O){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=U+Ne,O={id:p++,callback:P,priorityLevel:O,startTime:U,expirationTime:Ne,sortIndex:-1},U>pe?(O.sortIndex=U,s(f,O),n(h)===null&&O===n(f)&&(j?(E(I),I=-1):j=!0,he(_,U-pe))):(O.sortIndex=Ne,s(h,O),N||w||(N=!0,L||(L=!0,F()))),O},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(O){var P=b;return function(){var U=b;b=P;try{return O.apply(this,arguments)}finally{b=U}}}})(Mf)),Mf}var qv;function a4(){return qv||(qv=1,Of.exports=s4()),Of.exports}var If={exports:{}},Fs={};var zv;function n4(){if(zv)return Fs;zv=1;var t=Zx();function s(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(s(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(h,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:h,containerInfo:f,implementation:p}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Fs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Fs.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(s(299));return c(h,f,null,p)},Fs.flushSync=function(h){var f=u.T,p=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=f,i.p=p,i.d.f()}},Fs.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},Fs.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Fs.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,y=m(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:w}):p==="script"&&i.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Fs.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=m(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},Fs.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=m(p,f.crossOrigin);i.d.L(h,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Fs.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=m(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},Fs.requestFormReset=function(h){i.d.r(h)},Fs.unstable_batchedUpdates=function(h,f){return h(f)},Fs.useFormState=function(h,f,p){return u.H.useFormState(h,f,p)},Fs.useFormStatus=function(){return u.H.useHostTransitionStatus()},Fs.version="19.2.0",Fs}var Bv;function Zb(){if(Bv)return If.exports;Bv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),If.exports=n4(),If.exports}var Vv;function r4(){if(Vv)return ac;Vv=1;var t=a4(),s=Zx(),n=Zb();function i(a){var r="https://react.dev/errors/"+a;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function c(a){var r=a,l=a;if(a.alternate)for(;r.return;)r=r.return;else{a=r;do r=a,(r.flags&4098)!==0&&(l=r.return),a=r.return;while(a)}return r.tag===3?l:null}function u(a){if(a.tag===13){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function m(a){if(a.tag===31){var r=a.memoizedState;if(r===null&&(a=a.alternate,a!==null&&(r=a.memoizedState)),r!==null)return r.dehydrated}return null}function h(a){if(c(a)!==a)throw Error(i(188))}function f(a){var r=a.alternate;if(!r){if(r=c(a),r===null)throw Error(i(188));return r!==a?null:a}for(var l=a,d=r;;){var x=l.return;if(x===null)break;var g=x.alternate;if(g===null){if(d=x.return,d!==null){l=d;continue}break}if(x.child===g.child){for(g=x.child;g;){if(g===l)return h(x),a;if(g===d)return h(x),r;g=g.sibling}throw Error(i(188))}if(l.return!==d.return)l=x,d=g;else{for(var k=!1,D=x.child;D;){if(D===l){k=!0,l=x,d=g;break}if(D===d){k=!0,d=x,l=g;break}D=D.sibling}if(!k){for(D=g.child;D;){if(D===l){k=!0,l=g,d=x;break}if(D===d){k=!0,d=g,l=x;break}D=D.sibling}if(!k)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?a:r}function p(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a;for(a=a.child;a!==null;){if(r=p(a),r!==null)return r;a=a.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=G&&a[G]||a["@@iterator"],typeof a=="function"?a:null)}var de=Symbol.for("react.client.reference");function z(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===de?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case A:return"Profiler";case C:return"StrictMode";case _:return"Suspense";case L:return"SuspenseList";case $:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case N:return"Portal";case S:return a.displayName||"Context";case E:return(a._context.displayName||"Context")+".Consumer";case R:var r=a.render;return a=a.displayName,a||(a=r.displayName||r.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return r=a.displayName||null,r!==null?r:z(a.type)||"Memo";case q:r=a._payload,a=a._init;try{return z(a(r))}catch{}}return null}var he=Array.isArray,O=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},pe=[],Ne=-1;function B(a){return{current:a}}function te(a){0>Ne||(a.current=pe[Ne],pe[Ne]=null,Ne--)}function T(a,r){Ne++,pe[Ne]=a.current,a.current=r}var ye=B(null),Ce=B(null),Pe=B(null),be=B(null);function $e(a,r){switch(T(Pe,r),T(Ce,a),T(ye,null),r.nodeType){case 9:case 11:a=(a=r.documentElement)&&(a=a.namespaceURI)?nv(a):0;break;default:if(a=r.tagName,r=r.namespaceURI)r=nv(r),a=rv(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}te(ye),T(ye,a)}function qe(){te(ye),te(Ce),te(Pe)}function Ze(a){a.memoizedState!==null&&T(be,a);var r=ye.current,l=rv(r,a.type);r!==l&&(T(Ce,a),T(ye,l))}function at(a){Ce.current===a&&(te(ye),te(Ce)),be.current===a&&(te(be),Xo._currentValue=U)}var Xe,es;function zt(a){if(Xe===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Xe=r&&r[1]||"",es=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+a+es}var $s=!1;function Ps(a,r){if(!a||$s)return"";$s=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(r){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(ue){var re=ue}Reflect.construct(a,[],je)}else{try{je.call()}catch(ue){re=ue}a.call(je.prototype)}}else{try{throw Error()}catch(ue){re=ue}(je=a())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(ue){if(ue&&re&&typeof ue.stack=="string")return[ue.stack,re.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=d.DetermineComponentFrameRoot(),k=g[0],D=g[1];if(k&&D){var K=k.split(`
`),ne=D.split(`
`);for(x=d=0;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;for(;x<ne.length&&!ne[x].includes("DetermineComponentFrameRoot");)x++;if(d===K.length||x===ne.length)for(d=K.length-1,x=ne.length-1;1<=d&&0<=x&&K[d]!==ne[x];)x--;for(;1<=d&&0<=x;d--,x--)if(K[d]!==ne[x]){if(d!==1||x!==1)do if(d--,x--,0>x||K[d]!==ne[x]){var ge=`
`+K[d].replace(" at new "," at ");return a.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",a.displayName)),ge}while(1<=d&&0<=x);break}}}finally{$s=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?zt(l):""}function Us(a,r){switch(a.tag){case 26:case 27:case 5:return zt(a.type);case 16:return zt("Lazy");case 13:return a.child!==r&&r!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return Ps(a.type,!1);case 11:return Ps(a.type.render,!1);case 1:return Ps(a.type,!0);case 31:return zt("Activity");default:return""}}function An(a){try{var r="",l=null;do r+=Us(a,l),l=a,a=a.return;while(a);return r}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var xa=Object.prototype.hasOwnProperty,Q=t.unstable_scheduleCallback,ae=t.unstable_cancelCallback,xe=t.unstable_shouldYield,_e=t.unstable_requestPaint,Se=t.unstable_now,ke=t.unstable_getCurrentPriorityLevel,Ue=t.unstable_ImmediatePriority,ft=t.unstable_UserBlockingPriority,bt=t.unstable_NormalPriority,ws=t.unstable_LowPriority,Ks=t.unstable_IdlePriority,_s=t.log,Ra=t.unstable_setDisableYieldValue,ie=null,nt=null;function Zt(a){if(typeof _s=="function"&&Ra(a),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(ie,a)}catch{}}var Kt=Math.clz32?Math.clz32:gm,Fi=Math.log,qi=Math.LN2;function gm(a){return a>>>=0,a===0?32:31-(Fi(a)/qi|0)|0}var zi=256,Bi=262144,V=4194304;function Re(a){var r=a&42;if(r!==0)return r;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function mt(a,r,l){var d=a.pendingLanes;if(d===0)return 0;var x=0,g=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var D=d&134217727;return D!==0?(d=D&~g,d!==0?x=Re(d):(k&=D,k!==0?x=Re(k):l||(l=D&~a,l!==0&&(x=Re(l))))):(D=d&~g,D!==0?x=Re(D):k!==0?x=Re(k):l||(l=d&~a,l!==0&&(x=Re(l)))),x===0?0:r!==0&&r!==x&&(r&g)===0&&(g=x&-x,l=r&-r,g>=l||g===32&&(l&4194048)!==0)?r:x}function Tt(a,r){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&r)===0}function yt(a,r){switch(a){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qt(){var a=V;return V<<=1,(V&62914560)===0&&(V=4194304),a}function Gt(a){for(var r=[],l=0;31>l;l++)r.push(a);return r}function Xs(a,r){a.pendingLanes|=r,r!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function zc(a,r,l,d,x,g){var k=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var D=a.entanglements,K=a.expirationTimes,ne=a.hiddenUpdates;for(l=k&~l;0<l;){var ge=31-Kt(l),je=1<<ge;D[ge]=0,K[ge]=-1;var re=ne[ge];if(re!==null)for(ne[ge]=null,ge=0;ge<re.length;ge++){var ue=re[ge];ue!==null&&(ue.lane&=-536870913)}l&=~je}d!==0&&Bc(a,d,0),g!==0&&x===0&&a.tag!==0&&(a.suspendedLanes|=g&~(k&~r))}function Bc(a,r,l){a.pendingLanes|=r,a.suspendedLanes&=~r;var d=31-Kt(r);a.entangledLanes|=r,a.entanglements[d]=a.entanglements[d]|1073741824|l&261930}function zp(a,r){var l=a.entangledLanes|=r;for(a=a.entanglements;l;){var d=31-Kt(l),x=1<<d;x&r|a[d]&r&&(a[d]|=r),l&=~x}}function Bp(a,r){var l=r&-r;return l=(l&42)!==0?1:ym(l),(l&(a.suspendedLanes|r))!==0?0:l}function ym(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function vm(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Vp(){var a=P.p;return a!==0?a:(a=window.event,a===void 0?32:Av(a.type))}function Hp(a,r){var l=P.p;try{return P.p=a,r()}finally{P.p=l}}var nr=Math.random().toString(36).slice(2),Ts="__reactFiber$"+nr,Js="__reactProps$"+nr,Vi="__reactContainer$"+nr,jm="__reactEvents$"+nr,z2="__reactListeners$"+nr,B2="__reactHandles$"+nr,$p="__reactResources$"+nr,ho="__reactMarker$"+nr;function bm(a){delete a[Ts],delete a[Js],delete a[jm],delete a[z2],delete a[B2]}function Hi(a){var r=a[Ts];if(r)return r;for(var l=a.parentNode;l;){if(r=l[Vi]||l[Ts]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(a=mv(a);a!==null;){if(l=a[Ts])return l;a=mv(a)}return r}a=l,l=a.parentNode}return null}function $i(a){if(a=a[Ts]||a[Vi]){var r=a.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return a}return null}function fo(a){var r=a.tag;if(r===5||r===26||r===27||r===6)return a.stateNode;throw Error(i(33))}function Ki(a){var r=a[$p];return r||(r=a[$p]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ss(a){a[ho]=!0}var Kp=new Set,Qp={};function Kr(a,r){Qi(a,r),Qi(a+"Capture",r)}function Qi(a,r){for(Qp[a]=r,a=0;a<r.length;a++)Kp.add(r[a])}var V2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gp={},Yp={};function H2(a){return xa.call(Yp,a)?!0:xa.call(Gp,a)?!1:V2.test(a)?Yp[a]=!0:(Gp[a]=!0,!1)}function Vc(a,r,l){if(H2(r))if(l===null)a.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(r);return;case"boolean":var d=r.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(r);return}}a.setAttribute(r,""+l)}}function Hc(a,r,l){if(l===null)a.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(r);return}a.setAttribute(r,""+l)}}function _n(a,r,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(r,l,""+d)}}function Da(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Zp(a){var r=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $2(a,r,l){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,r);if(!a.hasOwnProperty(r)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,g=d.set;return Object.defineProperty(a,r,{configurable:!0,get:function(){return x.call(this)},set:function(k){l=""+k,g.call(this,k)}}),Object.defineProperty(a,r,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(k){l=""+k},stopTracking:function(){a._valueTracker=null,delete a[r]}}}}function Nm(a){if(!a._valueTracker){var r=Zp(a)?"checked":"value";a._valueTracker=$2(a,r,""+a[r])}}function Wp(a){if(!a)return!1;var r=a._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return a&&(d=Zp(a)?a.checked?"true":"false":a.value),a=d,a!==l?(r.setValue(a),!0):!1}function $c(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var K2=/[\n"\\]/g;function Oa(a){return a.replace(K2,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wm(a,r,l,d,x,g,k,D){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),r!=null?k==="number"?(r===0&&a.value===""||a.value!=r)&&(a.value=""+Da(r)):a.value!==""+Da(r)&&(a.value=""+Da(r)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),r!=null?Sm(a,k,Da(r)):l!=null?Sm(a,k,Da(l)):d!=null&&a.removeAttribute("value"),x==null&&g!=null&&(a.defaultChecked=!!g),x!=null&&(a.checked=x&&typeof x!="function"&&typeof x!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.name=""+Da(D):a.removeAttribute("name")}function Xp(a,r,l,d,x,g,k,D){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(a.type=g),r!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Nm(a);return}l=l!=null?""+Da(l):"",r=r!=null?""+Da(r):l,D||r===a.value||(a.value=r),a.defaultValue=r}d=d??x,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=D?a.checked:!!d,a.defaultChecked=!!d,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),Nm(a)}function Sm(a,r,l){r==="number"&&$c(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function Gi(a,r,l,d){if(a=a.options,r){r={};for(var x=0;x<l.length;x++)r["$"+l[x]]=!0;for(l=0;l<a.length;l++)x=r.hasOwnProperty("$"+a[l].value),a[l].selected!==x&&(a[l].selected=x),x&&d&&(a[l].defaultSelected=!0)}else{for(l=""+Da(l),r=null,x=0;x<a.length;x++){if(a[x].value===l){a[x].selected=!0,d&&(a[x].defaultSelected=!0);return}r!==null||a[x].disabled||(r=a[x])}r!==null&&(r.selected=!0)}}function Jp(a,r,l){if(r!=null&&(r=""+Da(r),r!==a.value&&(a.value=r),l==null)){a.defaultValue!==r&&(a.defaultValue=r);return}a.defaultValue=l!=null?""+Da(l):""}function eg(a,r,l,d){if(r==null){if(d!=null){if(l!=null)throw Error(i(92));if(he(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),r=l}l=Da(r),a.defaultValue=l,d=a.textContent,d===l&&d!==""&&d!==null&&(a.value=d),Nm(a)}function Yi(a,r){if(r){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=r;return}}a.textContent=r}var Q2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tg(a,r,l){var d=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?a.setProperty(r,""):r==="float"?a.cssFloat="":a[r]="":d?a.setProperty(r,l):typeof l!="number"||l===0||Q2.has(r)?r==="float"?a.cssFloat=l:a[r]=(""+l).trim():a[r]=l+"px"}function sg(a,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(a=a.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||r!=null&&r.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var x in r)d=r[x],r.hasOwnProperty(x)&&l[x]!==d&&tg(a,x,d)}else for(var g in r)r.hasOwnProperty(g)&&tg(a,g,r[g])}function Cm(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kc(a){return Y2.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Tn(){}var km=null;function Em(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Zi=null,Wi=null;function ag(a){var r=$i(a);if(r&&(a=r.stateNode)){var l=a[Js]||null;e:switch(a=r.stateNode,r.type){case"input":if(wm(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Oa(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==a&&d.form===a.form){var x=d[Js]||null;if(!x)throw Error(i(90));wm(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(r=0;r<l.length;r++)d=l[r],d.form===a.form&&Wp(d)}break e;case"textarea":Jp(a,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Gi(a,!!l.multiple,r,!1)}}}var Am=!1;function ng(a,r,l){if(Am)return a(r,l);Am=!0;try{var d=a(r);return d}finally{if(Am=!1,(Zi!==null||Wi!==null)&&(Od(),Zi&&(r=Zi,a=Wi,Wi=Zi=null,ag(r),a)))for(r=0;r<a.length;r++)ag(a[r])}}function xo(a,r){var l=a.stateNode;if(l===null)return null;var d=l[Js]||null;if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_m=!1;if(Rn)try{var po={};Object.defineProperty(po,"passive",{get:function(){_m=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{_m=!1}var rr=null,Tm=null,Qc=null;function rg(){if(Qc)return Qc;var a,r=Tm,l=r.length,d,x="value"in rr?rr.value:rr.textContent,g=x.length;for(a=0;a<l&&r[a]===x[a];a++);var k=l-a;for(d=1;d<=k&&r[l-d]===x[g-d];d++);return Qc=x.slice(a,1<d?1-d:void 0)}function Gc(a){var r=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&r===13&&(a=13)):a=r,a===10&&(a=13),32<=a||a===13?a:0}function Yc(){return!0}function ig(){return!1}function ea(a){function r(l,d,x,g,k){this._reactName=l,this._targetInst=x,this.type=d,this.nativeEvent=g,this.target=k,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(l=a[D],this[D]=l?l(g):g[D]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Yc:ig,this.isPropagationStopped=ig,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),r}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zc=ea(Qr),go=y({},Qr,{view:0,detail:0}),Z2=ea(go),Rm,Dm,yo,Wc=y({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yo&&(yo&&a.type==="mousemove"?(Rm=a.screenX-yo.screenX,Dm=a.screenY-yo.screenY):Dm=Rm=0,yo=a),Rm)},movementY:function(a){return"movementY"in a?a.movementY:Dm}}),lg=ea(Wc),W2=y({},Wc,{dataTransfer:0}),X2=ea(W2),J2=y({},go,{relatedTarget:0}),Om=ea(J2),eS=y({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),tS=ea(eS),sS=y({},Qr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),aS=ea(sS),nS=y({},Qr,{data:0}),og=ea(nS),rS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oS(a){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(a):(a=lS[a])?!!r[a]:!1}function Mm(){return oS}var cS=y({},go,{key:function(a){if(a.key){var r=rS[a.key]||a.key;if(r!=="Unidentified")return r}return a.type==="keypress"?(a=Gc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?iS[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mm,charCode:function(a){return a.type==="keypress"?Gc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Gc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),dS=ea(cS),uS=y({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cg=ea(uS),mS=y({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mm}),hS=ea(mS),fS=y({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),xS=ea(fS),pS=y({},Wc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),gS=ea(pS),yS=y({},Qr,{newState:0,oldState:0}),vS=ea(yS),jS=[9,13,27,32],Im=Rn&&"CompositionEvent"in window,vo=null;Rn&&"documentMode"in document&&(vo=document.documentMode);var bS=Rn&&"TextEvent"in window&&!vo,dg=Rn&&(!Im||vo&&8<vo&&11>=vo),ug=" ",mg=!1;function hg(a,r){switch(a){case"keyup":return jS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Xi=!1;function NS(a,r){switch(a){case"compositionend":return fg(r);case"keypress":return r.which!==32?null:(mg=!0,ug);case"textInput":return a=r.data,a===ug&&mg?null:a;default:return null}}function wS(a,r){if(Xi)return a==="compositionend"||!Im&&hg(a,r)?(a=rg(),Qc=Tm=rr=null,Xi=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return dg&&r.locale!=="ko"?null:r.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r==="input"?!!SS[a.type]:r==="textarea"}function pg(a,r,l,d){Zi?Wi?Wi.push(d):Wi=[d]:Zi=d,r=qd(r,"onChange"),0<r.length&&(l=new Zc("onChange","change",null,l,d),a.push({event:l,listeners:r}))}var jo=null,bo=null;function CS(a){Xy(a,0)}function Xc(a){var r=fo(a);if(Wp(r))return a}function gg(a,r){if(a==="change")return r}var yg=!1;if(Rn){var Lm;if(Rn){var Pm="oninput"in document;if(!Pm){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),Pm=typeof vg.oninput=="function"}Lm=Pm}else Lm=!1;yg=Lm&&(!document.documentMode||9<document.documentMode)}function jg(){jo&&(jo.detachEvent("onpropertychange",bg),bo=jo=null)}function bg(a){if(a.propertyName==="value"&&Xc(bo)){var r=[];pg(r,bo,a,Em(a)),ng(CS,r)}}function kS(a,r,l){a==="focusin"?(jg(),jo=r,bo=l,jo.attachEvent("onpropertychange",bg)):a==="focusout"&&jg()}function ES(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Xc(bo)}function AS(a,r){if(a==="click")return Xc(r)}function _S(a,r){if(a==="input"||a==="change")return Xc(r)}function TS(a,r){return a===r&&(a!==0||1/a===1/r)||a!==a&&r!==r}var pa=typeof Object.is=="function"?Object.is:TS;function No(a,r){if(pa(a,r))return!0;if(typeof a!="object"||a===null||typeof r!="object"||r===null)return!1;var l=Object.keys(a),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var x=l[d];if(!xa.call(r,x)||!pa(a[x],r[x]))return!1}return!0}function Ng(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function wg(a,r){var l=Ng(a);a=0;for(var d;l;){if(l.nodeType===3){if(d=a+l.textContent.length,a<=r&&d>=r)return{node:l,offset:r-a};a=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ng(l)}}function Sg(a,r){return a&&r?a===r?!0:a&&a.nodeType===3?!1:r&&r.nodeType===3?Sg(a,r.parentNode):"contains"in a?a.contains(r):a.compareDocumentPosition?!!(a.compareDocumentPosition(r)&16):!1:!1}function Cg(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var r=$c(a.document);r instanceof a.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)a=r.contentWindow;else break;r=$c(a.document)}return r}function Um(a){var r=a&&a.nodeName&&a.nodeName.toLowerCase();return r&&(r==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||r==="textarea"||a.contentEditable==="true")}var RS=Rn&&"documentMode"in document&&11>=document.documentMode,Ji=null,Fm=null,wo=null,qm=!1;function kg(a,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;qm||Ji==null||Ji!==$c(d)||(d=Ji,"selectionStart"in d&&Um(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),wo&&No(wo,d)||(wo=d,d=qd(Fm,"onSelect"),0<d.length&&(r=new Zc("onSelect","select",null,r,l),a.push({event:r,listeners:d}),r.target=Ji)))}function Gr(a,r){var l={};return l[a.toLowerCase()]=r.toLowerCase(),l["Webkit"+a]="webkit"+r,l["Moz"+a]="moz"+r,l}var el={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},zm={},Eg={};Rn&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function Yr(a){if(zm[a])return zm[a];if(!el[a])return a;var r=el[a],l;for(l in r)if(r.hasOwnProperty(l)&&l in Eg)return zm[a]=r[l];return a}var Ag=Yr("animationend"),_g=Yr("animationiteration"),Tg=Yr("animationstart"),DS=Yr("transitionrun"),OS=Yr("transitionstart"),MS=Yr("transitioncancel"),Rg=Yr("transitionend"),Dg=new Map,Bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bm.push("scrollEnd");function Ga(a,r){Dg.set(a,r),Kr(r,[a])}var Jc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ma=[],tl=0,Vm=0;function ed(){for(var a=tl,r=Vm=tl=0;r<a;){var l=Ma[r];Ma[r++]=null;var d=Ma[r];Ma[r++]=null;var x=Ma[r];Ma[r++]=null;var g=Ma[r];if(Ma[r++]=null,d!==null&&x!==null){var k=d.pending;k===null?x.next=x:(x.next=k.next,k.next=x),d.pending=x}g!==0&&Og(l,x,g)}}function td(a,r,l,d){Ma[tl++]=a,Ma[tl++]=r,Ma[tl++]=l,Ma[tl++]=d,Vm|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function Hm(a,r,l,d){return td(a,r,l,d),sd(a)}function Zr(a,r){return td(a,null,null,r),sd(a)}function Og(a,r,l){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l);for(var x=!1,g=a.return;g!==null;)g.childLanes|=l,d=g.alternate,d!==null&&(d.childLanes|=l),g.tag===22&&(a=g.stateNode,a===null||a._visibility&1||(x=!0)),a=g,g=g.return;return a.tag===3?(g=a.stateNode,x&&r!==null&&(x=31-Kt(l),a=g.hiddenUpdates,d=a[x],d===null?a[x]=[r]:d.push(r),r.lane=l|536870912),g):null}function sd(a){if(50<$o)throw $o=0,Jh=null,Error(i(185));for(var r=a.return;r!==null;)a=r,r=a.return;return a.tag===3?a.stateNode:null}var sl={};function IS(a,r,l,d){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ga(a,r,l,d){return new IS(a,r,l,d)}function $m(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Dn(a,r){var l=a.alternate;return l===null?(l=ga(a.tag,r,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=r,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,r=a.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function Mg(a,r){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=r,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,r=l.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a}function ad(a,r,l,d,x,g){var k=0;if(d=a,typeof a=="function")$m(a)&&(k=1);else if(typeof a=="string")k=qC(a,l,ye.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case $:return a=ga(31,l,r,x),a.elementType=$,a.lanes=g,a;case j:return Wr(l.children,x,g,r);case C:k=8,x|=24;break;case A:return a=ga(12,l,r,x|2),a.elementType=A,a.lanes=g,a;case _:return a=ga(13,l,r,x),a.elementType=_,a.lanes=g,a;case L:return a=ga(19,l,r,x),a.elementType=L,a.lanes=g,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case S:k=10;break e;case E:k=9;break e;case R:k=11;break e;case I:k=14;break e;case q:k=16,d=null;break e}k=29,l=Error(i(130,a===null?"null":typeof a,"")),d=null}return r=ga(k,l,r,x),r.elementType=a,r.type=d,r.lanes=g,r}function Wr(a,r,l,d){return a=ga(7,a,d,r),a.lanes=l,a}function Km(a,r,l){return a=ga(6,a,null,r),a.lanes=l,a}function Ig(a){var r=ga(18,null,null,0);return r.stateNode=a,r}function Qm(a,r,l){return r=ga(4,a.children!==null?a.children:[],a.key,r),r.lanes=l,r.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},r}var Lg=new WeakMap;function Ia(a,r){if(typeof a=="object"&&a!==null){var l=Lg.get(a);return l!==void 0?l:(r={value:a,source:r,stack:An(r)},Lg.set(a,r),r)}return{value:a,source:r,stack:An(r)}}var al=[],nl=0,nd=null,So=0,La=[],Pa=0,ir=null,cn=1,dn="";function On(a,r){al[nl++]=So,al[nl++]=nd,nd=a,So=r}function Pg(a,r,l){La[Pa++]=cn,La[Pa++]=dn,La[Pa++]=ir,ir=a;var d=cn;a=dn;var x=32-Kt(d)-1;d&=~(1<<x),l+=1;var g=32-Kt(r)+x;if(30<g){var k=x-x%5;g=(d&(1<<k)-1).toString(32),d>>=k,x-=k,cn=1<<32-Kt(r)+x|l<<x|d,dn=g+a}else cn=1<<g|l<<x|d,dn=a}function Gm(a){a.return!==null&&(On(a,1),Pg(a,1,0))}function Ym(a){for(;a===nd;)nd=al[--nl],al[nl]=null,So=al[--nl],al[nl]=null;for(;a===ir;)ir=La[--Pa],La[Pa]=null,dn=La[--Pa],La[Pa]=null,cn=La[--Pa],La[Pa]=null}function Ug(a,r){La[Pa++]=cn,La[Pa++]=dn,La[Pa++]=ir,cn=r.id,dn=r.overflow,ir=a}var Rs=null,Ft=null,Nt=!1,lr=null,Ua=!1,Zm=Error(i(519));function or(a){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Co(Ia(r,a)),Zm}function Fg(a){var r=a.stateNode,l=a.type,d=a.memoizedProps;switch(r[Ts]=a,r[Js]=d,l){case"dialog":pt("cancel",r),pt("close",r);break;case"iframe":case"object":case"embed":pt("load",r);break;case"video":case"audio":for(l=0;l<Qo.length;l++)pt(Qo[l],r);break;case"source":pt("error",r);break;case"img":case"image":case"link":pt("error",r),pt("load",r);break;case"details":pt("toggle",r);break;case"input":pt("invalid",r),Xp(r,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":pt("invalid",r);break;case"textarea":pt("invalid",r),eg(r,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||d.suppressHydrationWarning===!0||sv(r.textContent,l)?(d.popover!=null&&(pt("beforetoggle",r),pt("toggle",r)),d.onScroll!=null&&pt("scroll",r),d.onScrollEnd!=null&&pt("scrollend",r),d.onClick!=null&&(r.onclick=Tn),r=!0):r=!1,r||or(a,!0)}function qg(a){for(Rs=a.return;Rs;)switch(Rs.tag){case 5:case 31:case 13:Ua=!1;return;case 27:case 3:Ua=!0;return;default:Rs=Rs.return}}function rl(a){if(a!==Rs)return!1;if(!Nt)return qg(a),Nt=!0,!1;var r=a.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||xf(a.type,a.memoizedProps)),l=!l),l&&Ft&&or(a),qg(a),r===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Ft=uv(a)}else if(r===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Ft=uv(a)}else r===27?(r=Ft,Nr(a.type)?(a=jf,jf=null,Ft=a):Ft=r):Ft=Rs?qa(a.stateNode.nextSibling):null;return!0}function Xr(){Ft=Rs=null,Nt=!1}function Wm(){var a=lr;return a!==null&&(na===null?na=a:na.push.apply(na,a),lr=null),a}function Co(a){lr===null?lr=[a]:lr.push(a)}var Xm=B(null),Jr=null,Mn=null;function cr(a,r,l){T(Xm,r._currentValue),r._currentValue=l}function In(a){a._currentValue=Xm.current,te(Xm)}function Jm(a,r,l){for(;a!==null;){var d=a.alternate;if((a.childLanes&r)!==r?(a.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),a===l)break;a=a.return}}function eh(a,r,l,d){var x=a.child;for(x!==null&&(x.return=a);x!==null;){var g=x.dependencies;if(g!==null){var k=x.child;g=g.firstContext;e:for(;g!==null;){var D=g;g=x;for(var K=0;K<r.length;K++)if(D.context===r[K]){g.lanes|=l,D=g.alternate,D!==null&&(D.lanes|=l),Jm(g.return,l,a),d||(k=null);break e}g=D.next}}else if(x.tag===18){if(k=x.return,k===null)throw Error(i(341));k.lanes|=l,g=k.alternate,g!==null&&(g.lanes|=l),Jm(k,l,a),k=null}else k=x.child;if(k!==null)k.return=x;else for(k=x;k!==null;){if(k===a){k=null;break}if(x=k.sibling,x!==null){x.return=k.return,k=x;break}k=k.return}x=k}}function il(a,r,l,d){a=null;for(var x=r,g=!1;x!==null;){if(!g){if((x.flags&524288)!==0)g=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var k=x.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var D=x.type;pa(x.pendingProps.value,k.value)||(a!==null?a.push(D):a=[D])}}else if(x===be.current){if(k=x.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(a!==null?a.push(Xo):a=[Xo])}x=x.return}a!==null&&eh(r,a,l,d),r.flags|=262144}function rd(a){for(a=a.firstContext;a!==null;){if(!pa(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ei(a){Jr=a,Mn=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ds(a){return zg(Jr,a)}function id(a,r){return Jr===null&&ei(a),zg(a,r)}function zg(a,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Mn===null){if(a===null)throw Error(i(308));Mn=r,a.dependencies={lanes:0,firstContext:r},a.flags|=524288}else Mn=Mn.next=r;return l}var LS=typeof AbortController<"u"?AbortController:function(){var a=[],r=this.signal={aborted:!1,addEventListener:function(l,d){a.push(d)}};this.abort=function(){r.aborted=!0,a.forEach(function(l){return l()})}},PS=t.unstable_scheduleCallback,US=t.unstable_NormalPriority,os={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function th(){return{controller:new LS,data:new Map,refCount:0}}function ko(a){a.refCount--,a.refCount===0&&PS(US,function(){a.controller.abort()})}var Eo=null,sh=0,ll=0,ol=null;function FS(a,r){if(Eo===null){var l=Eo=[];sh=0,ll=rf(),ol={status:"pending",value:void 0,then:function(d){l.push(d)}}}return sh++,r.then(Bg,Bg),r}function Bg(){if(--sh===0&&Eo!==null){ol!==null&&(ol.status="fulfilled");var a=Eo;Eo=null,ll=0,ol=null;for(var r=0;r<a.length;r++)(0,a[r])()}}function qS(a,r){var l=[],d={status:"pending",value:null,reason:null,then:function(x){l.push(x)}};return a.then(function(){d.status="fulfilled",d.value=r;for(var x=0;x<l.length;x++)(0,l[x])(r)},function(x){for(d.status="rejected",d.reason=x,x=0;x<l.length;x++)(0,l[x])(void 0)}),d}var Vg=O.S;O.S=function(a,r){ky=Se(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&FS(a,r),Vg!==null&&Vg(a,r)};var ti=B(null);function ah(){var a=ti.current;return a!==null?a:Pt.pooledCache}function ld(a,r){r===null?T(ti,ti.current):T(ti,r.pool)}function Hg(){var a=ah();return a===null?null:{parent:os._currentValue,pool:a}}var cl=Error(i(460)),nh=Error(i(474)),od=Error(i(542)),cd={then:function(){}};function $g(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Kg(a,r,l){switch(l=a[l],l===void 0?a.push(r):l!==r&&(r.then(Tn,Tn),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,Gg(a),a;default:if(typeof r.status=="string")r.then(Tn,Tn);else{if(a=Pt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=r,a.status="pending",a.then(function(d){if(r.status==="pending"){var x=r;x.status="fulfilled",x.value=d}},function(d){if(r.status==="pending"){var x=r;x.status="rejected",x.reason=d}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw a=r.reason,Gg(a),a}throw ai=r,cl}}function si(a){try{var r=a._init;return r(a._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ai=l,cl):l}}var ai=null;function Qg(){if(ai===null)throw Error(i(459));var a=ai;return ai=null,a}function Gg(a){if(a===cl||a===od)throw Error(i(483))}var dl=null,Ao=0;function dd(a){var r=Ao;return Ao+=1,dl===null&&(dl=[]),Kg(dl,a,r)}function _o(a,r){r=r.props.ref,a.ref=r!==void 0?r:null}function ud(a,r){throw r.$$typeof===b?Error(i(525)):(a=Object.prototype.toString.call(r),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":a)))}function Yg(a){function r(J,Y){if(a){var se=J.deletions;se===null?(J.deletions=[Y],J.flags|=16):se.push(Y)}}function l(J,Y){if(!a)return null;for(;Y!==null;)r(J,Y),Y=Y.sibling;return null}function d(J){for(var Y=new Map;J!==null;)J.key!==null?Y.set(J.key,J):Y.set(J.index,J),J=J.sibling;return Y}function x(J,Y){return J=Dn(J,Y),J.index=0,J.sibling=null,J}function g(J,Y,se){return J.index=se,a?(se=J.alternate,se!==null?(se=se.index,se<Y?(J.flags|=67108866,Y):se):(J.flags|=67108866,Y)):(J.flags|=1048576,Y)}function k(J){return a&&J.alternate===null&&(J.flags|=67108866),J}function D(J,Y,se,ve){return Y===null||Y.tag!==6?(Y=Km(se,J.mode,ve),Y.return=J,Y):(Y=x(Y,se),Y.return=J,Y)}function K(J,Y,se,ve){var Ke=se.type;return Ke===j?ge(J,Y,se.props.children,ve,se.key):Y!==null&&(Y.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===q&&si(Ke)===Y.type)?(Y=x(Y,se.props),_o(Y,se),Y.return=J,Y):(Y=ad(se.type,se.key,se.props,null,J.mode,ve),_o(Y,se),Y.return=J,Y)}function ne(J,Y,se,ve){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==se.containerInfo||Y.stateNode.implementation!==se.implementation?(Y=Qm(se,J.mode,ve),Y.return=J,Y):(Y=x(Y,se.children||[]),Y.return=J,Y)}function ge(J,Y,se,ve,Ke){return Y===null||Y.tag!==7?(Y=Wr(se,J.mode,ve,Ke),Y.return=J,Y):(Y=x(Y,se),Y.return=J,Y)}function je(J,Y,se){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Km(""+Y,J.mode,se),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return se=ad(Y.type,Y.key,Y.props,null,J.mode,se),_o(se,Y),se.return=J,se;case N:return Y=Qm(Y,J.mode,se),Y.return=J,Y;case q:return Y=si(Y),je(J,Y,se)}if(he(Y)||F(Y))return Y=Wr(Y,J.mode,se,null),Y.return=J,Y;if(typeof Y.then=="function")return je(J,dd(Y),se);if(Y.$$typeof===S)return je(J,id(J,Y),se);ud(J,Y)}return null}function re(J,Y,se,ve){var Ke=Y!==null?Y.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Ke!==null?null:D(J,Y,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case w:return se.key===Ke?K(J,Y,se,ve):null;case N:return se.key===Ke?ne(J,Y,se,ve):null;case q:return se=si(se),re(J,Y,se,ve)}if(he(se)||F(se))return Ke!==null?null:ge(J,Y,se,ve,null);if(typeof se.then=="function")return re(J,Y,dd(se),ve);if(se.$$typeof===S)return re(J,Y,id(J,se),ve);ud(J,se)}return null}function ue(J,Y,se,ve,Ke){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return J=J.get(se)||null,D(Y,J,""+ve,Ke);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case w:return J=J.get(ve.key===null?se:ve.key)||null,K(Y,J,ve,Ke);case N:return J=J.get(ve.key===null?se:ve.key)||null,ne(Y,J,ve,Ke);case q:return ve=si(ve),ue(J,Y,se,ve,Ke)}if(he(ve)||F(ve))return J=J.get(se)||null,ge(Y,J,ve,Ke,null);if(typeof ve.then=="function")return ue(J,Y,se,dd(ve),Ke);if(ve.$$typeof===S)return ue(J,Y,se,id(Y,ve),Ke);ud(Y,ve)}return null}function Oe(J,Y,se,ve){for(var Ke=null,kt=null,Be=Y,ot=Y=0,jt=null;Be!==null&&ot<se.length;ot++){Be.index>ot?(jt=Be,Be=null):jt=Be.sibling;var Et=re(J,Be,se[ot],ve);if(Et===null){Be===null&&(Be=jt);break}a&&Be&&Et.alternate===null&&r(J,Be),Y=g(Et,Y,ot),kt===null?Ke=Et:kt.sibling=Et,kt=Et,Be=jt}if(ot===se.length)return l(J,Be),Nt&&On(J,ot),Ke;if(Be===null){for(;ot<se.length;ot++)Be=je(J,se[ot],ve),Be!==null&&(Y=g(Be,Y,ot),kt===null?Ke=Be:kt.sibling=Be,kt=Be);return Nt&&On(J,ot),Ke}for(Be=d(Be);ot<se.length;ot++)jt=ue(Be,J,ot,se[ot],ve),jt!==null&&(a&&jt.alternate!==null&&Be.delete(jt.key===null?ot:jt.key),Y=g(jt,Y,ot),kt===null?Ke=jt:kt.sibling=jt,kt=jt);return a&&Be.forEach(function(Er){return r(J,Er)}),Nt&&On(J,ot),Ke}function Ge(J,Y,se,ve){if(se==null)throw Error(i(151));for(var Ke=null,kt=null,Be=Y,ot=Y=0,jt=null,Et=se.next();Be!==null&&!Et.done;ot++,Et=se.next()){Be.index>ot?(jt=Be,Be=null):jt=Be.sibling;var Er=re(J,Be,Et.value,ve);if(Er===null){Be===null&&(Be=jt);break}a&&Be&&Er.alternate===null&&r(J,Be),Y=g(Er,Y,ot),kt===null?Ke=Er:kt.sibling=Er,kt=Er,Be=jt}if(Et.done)return l(J,Be),Nt&&On(J,ot),Ke;if(Be===null){for(;!Et.done;ot++,Et=se.next())Et=je(J,Et.value,ve),Et!==null&&(Y=g(Et,Y,ot),kt===null?Ke=Et:kt.sibling=Et,kt=Et);return Nt&&On(J,ot),Ke}for(Be=d(Be);!Et.done;ot++,Et=se.next())Et=ue(Be,J,ot,Et.value,ve),Et!==null&&(a&&Et.alternate!==null&&Be.delete(Et.key===null?ot:Et.key),Y=g(Et,Y,ot),kt===null?Ke=Et:kt.sibling=Et,kt=Et);return a&&Be.forEach(function(WC){return r(J,WC)}),Nt&&On(J,ot),Ke}function Lt(J,Y,se,ve){if(typeof se=="object"&&se!==null&&se.type===j&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case w:e:{for(var Ke=se.key;Y!==null;){if(Y.key===Ke){if(Ke=se.type,Ke===j){if(Y.tag===7){l(J,Y.sibling),ve=x(Y,se.props.children),ve.return=J,J=ve;break e}}else if(Y.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===q&&si(Ke)===Y.type){l(J,Y.sibling),ve=x(Y,se.props),_o(ve,se),ve.return=J,J=ve;break e}l(J,Y);break}else r(J,Y);Y=Y.sibling}se.type===j?(ve=Wr(se.props.children,J.mode,ve,se.key),ve.return=J,J=ve):(ve=ad(se.type,se.key,se.props,null,J.mode,ve),_o(ve,se),ve.return=J,J=ve)}return k(J);case N:e:{for(Ke=se.key;Y!==null;){if(Y.key===Ke)if(Y.tag===4&&Y.stateNode.containerInfo===se.containerInfo&&Y.stateNode.implementation===se.implementation){l(J,Y.sibling),ve=x(Y,se.children||[]),ve.return=J,J=ve;break e}else{l(J,Y);break}else r(J,Y);Y=Y.sibling}ve=Qm(se,J.mode,ve),ve.return=J,J=ve}return k(J);case q:return se=si(se),Lt(J,Y,se,ve)}if(he(se))return Oe(J,Y,se,ve);if(F(se)){if(Ke=F(se),typeof Ke!="function")throw Error(i(150));return se=Ke.call(se),Ge(J,Y,se,ve)}if(typeof se.then=="function")return Lt(J,Y,dd(se),ve);if(se.$$typeof===S)return Lt(J,Y,id(J,se),ve);ud(J,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,Y!==null&&Y.tag===6?(l(J,Y.sibling),ve=x(Y,se),ve.return=J,J=ve):(l(J,Y),ve=Km(se,J.mode,ve),ve.return=J,J=ve),k(J)):l(J,Y)}return function(J,Y,se,ve){try{Ao=0;var Ke=Lt(J,Y,se,ve);return dl=null,Ke}catch(Be){if(Be===cl||Be===od)throw Be;var kt=ga(29,Be,null,J.mode);return kt.lanes=ve,kt.return=J,kt}finally{}}}var ni=Yg(!0),Zg=Yg(!1),dr=!1;function rh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ih(a,r){a=a.updateQueue,r.updateQueue===a&&(r.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ur(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function mr(a,r,l){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Rt&2)!==0){var x=d.pending;return x===null?r.next=r:(r.next=x.next,x.next=r),d.pending=r,r=sd(a),Og(a,null,l),r}return td(a,d,r,l),sd(a)}function To(a,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var d=r.lanes;d&=a.pendingLanes,l|=d,r.lanes=l,zp(a,l)}}function lh(a,r){var l=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var x=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var k={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?x=g=k:g=g.next=k,l=l.next}while(l!==null);g===null?x=g=r:g=g.next=r}else x=g=r;l={baseState:d.baseState,firstBaseUpdate:x,lastBaseUpdate:g,shared:d.shared,callbacks:d.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=r:a.next=r,l.lastBaseUpdate=r}var oh=!1;function Ro(){if(oh){var a=ol;if(a!==null)throw a}}function Do(a,r,l,d){oh=!1;var x=a.updateQueue;dr=!1;var g=x.firstBaseUpdate,k=x.lastBaseUpdate,D=x.shared.pending;if(D!==null){x.shared.pending=null;var K=D,ne=K.next;K.next=null,k===null?g=ne:k.next=ne,k=K;var ge=a.alternate;ge!==null&&(ge=ge.updateQueue,D=ge.lastBaseUpdate,D!==k&&(D===null?ge.firstBaseUpdate=ne:D.next=ne,ge.lastBaseUpdate=K))}if(g!==null){var je=x.baseState;k=0,ge=ne=K=null,D=g;do{var re=D.lane&-536870913,ue=re!==D.lane;if(ue?(vt&re)===re:(d&re)===re){re!==0&&re===ll&&(oh=!0),ge!==null&&(ge=ge.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Oe=a,Ge=D;re=r;var Lt=l;switch(Ge.tag){case 1:if(Oe=Ge.payload,typeof Oe=="function"){je=Oe.call(Lt,je,re);break e}je=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ge.payload,re=typeof Oe=="function"?Oe.call(Lt,je,re):Oe,re==null)break e;je=y({},je,re);break e;case 2:dr=!0}}re=D.callback,re!==null&&(a.flags|=64,ue&&(a.flags|=8192),ue=x.callbacks,ue===null?x.callbacks=[re]:ue.push(re))}else ue={lane:re,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ge===null?(ne=ge=ue,K=je):ge=ge.next=ue,k|=re;if(D=D.next,D===null){if(D=x.shared.pending,D===null)break;ue=D,D=ue.next,ue.next=null,x.lastBaseUpdate=ue,x.shared.pending=null}}while(!0);ge===null&&(K=je),x.baseState=K,x.firstBaseUpdate=ne,x.lastBaseUpdate=ge,g===null&&(x.shared.lanes=0),gr|=k,a.lanes=k,a.memoizedState=je}}function Wg(a,r){if(typeof a!="function")throw Error(i(191,a));a.call(r)}function Xg(a,r){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)Wg(l[a],r)}var ul=B(null),md=B(0);function Jg(a,r){a=Hn,T(md,a),T(ul,r),Hn=a|r.baseLanes}function ch(){T(md,Hn),T(ul,ul.current)}function dh(){Hn=md.current,te(ul),te(md)}var ya=B(null),Fa=null;function hr(a){var r=a.alternate;T(ts,ts.current&1),T(ya,a),Fa===null&&(r===null||ul.current!==null||r.memoizedState!==null)&&(Fa=a)}function uh(a){T(ts,ts.current),T(ya,a),Fa===null&&(Fa=a)}function e0(a){a.tag===22?(T(ts,ts.current),T(ya,a),Fa===null&&(Fa=a)):fr()}function fr(){T(ts,ts.current),T(ya,ya.current)}function va(a){te(ya),Fa===a&&(Fa=null),te(ts)}var ts=B(0);function hd(a){for(var r=a;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||yf(l)||vf(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ln=0,rt=null,Mt=null,cs=null,fd=!1,ml=!1,ri=!1,xd=0,Oo=0,hl=null,zS=0;function Wt(){throw Error(i(321))}function mh(a,r){if(r===null)return!1;for(var l=0;l<r.length&&l<a.length;l++)if(!pa(a[l],r[l]))return!1;return!0}function hh(a,r,l,d,x,g){return Ln=g,rt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,O.H=a===null||a.memoizedState===null?P0:Ah,ri=!1,g=l(d,x),ri=!1,ml&&(g=s0(r,l,d,x)),t0(a),g}function t0(a){O.H=Lo;var r=Mt!==null&&Mt.next!==null;if(Ln=0,cs=Mt=rt=null,fd=!1,Oo=0,hl=null,r)throw Error(i(300));a===null||ds||(a=a.dependencies,a!==null&&rd(a)&&(ds=!0))}function s0(a,r,l,d){rt=a;var x=0;do{if(ml&&(hl=null),Oo=0,ml=!1,25<=x)throw Error(i(301));if(x+=1,cs=Mt=null,a.updateQueue!=null){var g=a.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}O.H=U0,g=r(l,d)}while(ml);return g}function BS(){var a=O.H,r=a.useState()[0];return r=typeof r.then=="function"?Mo(r):r,a=a.useState()[0],(Mt!==null?Mt.memoizedState:null)!==a&&(rt.flags|=1024),r}function fh(){var a=xd!==0;return xd=0,a}function xh(a,r,l){r.updateQueue=a.updateQueue,r.flags&=-2053,a.lanes&=~l}function ph(a){if(fd){for(a=a.memoizedState;a!==null;){var r=a.queue;r!==null&&(r.pending=null),a=a.next}fd=!1}Ln=0,cs=Mt=rt=null,ml=!1,Oo=xd=0,hl=null}function Qs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cs===null?rt.memoizedState=cs=a:cs=cs.next=a,cs}function ss(){if(Mt===null){var a=rt.alternate;a=a!==null?a.memoizedState:null}else a=Mt.next;var r=cs===null?rt.memoizedState:cs.next;if(r!==null)cs=r,Mt=a;else{if(a===null)throw rt.alternate===null?Error(i(467)):Error(i(310));Mt=a,a={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},cs===null?rt.memoizedState=cs=a:cs=cs.next=a}return cs}function pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(a){var r=Oo;return Oo+=1,hl===null&&(hl=[]),a=Kg(hl,a,r),r=rt,(cs===null?r.memoizedState:cs.next)===null&&(r=r.alternate,O.H=r===null||r.memoizedState===null?P0:Ah),a}function gd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Mo(a);if(a.$$typeof===S)return Ds(a)}throw Error(i(438,String(a)))}function gh(a){var r=null,l=rt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var d=rt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(r={data:d.data.map(function(x){return x.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=pd(),rt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(a),d=0;d<a;d++)l[d]=H;return r.index++,l}function Pn(a,r){return typeof r=="function"?r(a):r}function yd(a){var r=ss();return yh(r,Mt,a)}function yh(a,r,l){var d=a.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var x=a.baseQueue,g=d.pending;if(g!==null){if(x!==null){var k=x.next;x.next=g.next,g.next=k}r.baseQueue=x=g,d.pending=null}if(g=a.baseState,x===null)a.memoizedState=g;else{r=x.next;var D=k=null,K=null,ne=r,ge=!1;do{var je=ne.lane&-536870913;if(je!==ne.lane?(vt&je)===je:(Ln&je)===je){var re=ne.revertLane;if(re===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),je===ll&&(ge=!0);else if((Ln&re)===re){ne=ne.next,re===ll&&(ge=!0);continue}else je={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},K===null?(D=K=je,k=g):K=K.next=je,rt.lanes|=re,gr|=re;je=ne.action,ri&&l(g,je),g=ne.hasEagerState?ne.eagerState:l(g,je)}else re={lane:je,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},K===null?(D=K=re,k=g):K=K.next=re,rt.lanes|=je,gr|=je;ne=ne.next}while(ne!==null&&ne!==r);if(K===null?k=g:K.next=D,!pa(g,a.memoizedState)&&(ds=!0,ge&&(l=ol,l!==null)))throw l;a.memoizedState=g,a.baseState=k,a.baseQueue=K,d.lastRenderedState=g}return x===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function vh(a){var r=ss(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var d=l.dispatch,x=l.pending,g=r.memoizedState;if(x!==null){l.pending=null;var k=x=x.next;do g=a(g,k.action),k=k.next;while(k!==x);pa(g,r.memoizedState)||(ds=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),l.lastRenderedState=g}return[g,d]}function a0(a,r,l){var d=rt,x=ss(),g=Nt;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=r();var k=!pa((Mt||x).memoizedState,l);if(k&&(x.memoizedState=l,ds=!0),x=x.queue,Nh(i0.bind(null,d,x,a),[a]),x.getSnapshot!==r||k||cs!==null&&cs.memoizedState.tag&1){if(d.flags|=2048,fl(9,{destroy:void 0},r0.bind(null,d,x,l,r),null),Pt===null)throw Error(i(349));g||(Ln&127)!==0||n0(d,r,l)}return l}function n0(a,r,l){a.flags|=16384,a={getSnapshot:r,value:l},r=rt.updateQueue,r===null?(r=pd(),rt.updateQueue=r,r.stores=[a]):(l=r.stores,l===null?r.stores=[a]:l.push(a))}function r0(a,r,l,d){r.value=l,r.getSnapshot=d,l0(r)&&o0(a)}function i0(a,r,l){return l(function(){l0(r)&&o0(a)})}function l0(a){var r=a.getSnapshot;a=a.value;try{var l=r();return!pa(a,l)}catch{return!0}}function o0(a){var r=Zr(a,2);r!==null&&ra(r,a,2)}function jh(a){var r=Qs();if(typeof a=="function"){var l=a;if(a=l(),ri){Zt(!0);try{l()}finally{Zt(!1)}}}return r.memoizedState=r.baseState=a,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:a},r}function c0(a,r,l,d){return a.baseState=l,yh(a,Mt,typeof d=="function"?d:Pn)}function VS(a,r,l,d,x){if(bd(a))throw Error(i(485));if(a=r.action,a!==null){var g={payload:x,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){g.listeners.push(k)}};O.T!==null?l(!0):g.isTransition=!1,d(g),l=r.pending,l===null?(g.next=r.pending=g,d0(r,g)):(g.next=l.next,r.pending=l.next=g)}}function d0(a,r){var l=r.action,d=r.payload,x=a.state;if(r.isTransition){var g=O.T,k={};O.T=k;try{var D=l(x,d),K=O.S;K!==null&&K(k,D),u0(a,r,D)}catch(ne){bh(a,r,ne)}finally{g!==null&&k.types!==null&&(g.types=k.types),O.T=g}}else try{g=l(x,d),u0(a,r,g)}catch(ne){bh(a,r,ne)}}function u0(a,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){m0(a,r,d)},function(d){return bh(a,r,d)}):m0(a,r,l)}function m0(a,r,l){r.status="fulfilled",r.value=l,h0(r),a.state=l,r=a.pending,r!==null&&(l=r.next,l===r?a.pending=null:(l=l.next,r.next=l,d0(a,l)))}function bh(a,r,l){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do r.status="rejected",r.reason=l,h0(r),r=r.next;while(r!==d)}a.action=null}function h0(a){a=a.listeners;for(var r=0;r<a.length;r++)(0,a[r])()}function f0(a,r){return r}function x0(a,r){if(Nt){var l=Pt.formState;if(l!==null){e:{var d=rt;if(Nt){if(Ft){t:{for(var x=Ft,g=Ua;x.nodeType!==8;){if(!g){x=null;break t}if(x=qa(x.nextSibling),x===null){x=null;break t}}g=x.data,x=g==="F!"||g==="F"?x:null}if(x){Ft=qa(x.nextSibling),d=x.data==="F!";break e}}or(d)}d=!1}d&&(r=l[0])}}return l=Qs(),l.memoizedState=l.baseState=r,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f0,lastRenderedState:r},l.queue=d,l=M0.bind(null,rt,d),d.dispatch=l,d=jh(!1),g=Eh.bind(null,rt,!1,d.queue),d=Qs(),x={state:r,dispatch:null,action:a,pending:null},d.queue=x,l=VS.bind(null,rt,x,g,l),x.dispatch=l,d.memoizedState=a,[r,l,!1]}function p0(a){var r=ss();return g0(r,Mt,a)}function g0(a,r,l){if(r=yh(a,r,f0)[0],a=yd(Pn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var d=Mo(r)}catch(k){throw k===cl?od:k}else d=r;r=ss();var x=r.queue,g=x.dispatch;return l!==r.memoizedState&&(rt.flags|=2048,fl(9,{destroy:void 0},HS.bind(null,x,l),null)),[d,g,a]}function HS(a,r){a.action=r}function y0(a){var r=ss(),l=Mt;if(l!==null)return g0(r,l,a);ss(),r=r.memoizedState,l=ss();var d=l.queue.dispatch;return l.memoizedState=a,[r,d,!1]}function fl(a,r,l,d){return a={tag:a,create:l,deps:d,inst:r,next:null},r=rt.updateQueue,r===null&&(r=pd(),rt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=a.next=a:(d=l.next,l.next=a,a.next=d,r.lastEffect=a),a}function v0(){return ss().memoizedState}function vd(a,r,l,d){var x=Qs();rt.flags|=a,x.memoizedState=fl(1|r,{destroy:void 0},l,d===void 0?null:d)}function jd(a,r,l,d){var x=ss();d=d===void 0?null:d;var g=x.memoizedState.inst;Mt!==null&&d!==null&&mh(d,Mt.memoizedState.deps)?x.memoizedState=fl(r,g,l,d):(rt.flags|=a,x.memoizedState=fl(1|r,g,l,d))}function j0(a,r){vd(8390656,8,a,r)}function Nh(a,r){jd(2048,8,a,r)}function $S(a){rt.flags|=4;var r=rt.updateQueue;if(r===null)r=pd(),rt.updateQueue=r,r.events=[a];else{var l=r.events;l===null?r.events=[a]:l.push(a)}}function b0(a){var r=ss().memoizedState;return $S({ref:r,nextImpl:a}),function(){if((Rt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function N0(a,r){return jd(4,2,a,r)}function w0(a,r){return jd(4,4,a,r)}function S0(a,r){if(typeof r=="function"){a=a();var l=r(a);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return a=a(),r.current=a,function(){r.current=null}}function C0(a,r,l){l=l!=null?l.concat([a]):null,jd(4,4,S0.bind(null,r,a),l)}function wh(){}function k0(a,r){var l=ss();r=r===void 0?null:r;var d=l.memoizedState;return r!==null&&mh(r,d[1])?d[0]:(l.memoizedState=[a,r],a)}function E0(a,r){var l=ss();r=r===void 0?null:r;var d=l.memoizedState;if(r!==null&&mh(r,d[1]))return d[0];if(d=a(),ri){Zt(!0);try{a()}finally{Zt(!1)}}return l.memoizedState=[d,r],d}function Sh(a,r,l){return l===void 0||(Ln&1073741824)!==0&&(vt&261930)===0?a.memoizedState=r:(a.memoizedState=l,a=Ay(),rt.lanes|=a,gr|=a,l)}function A0(a,r,l,d){return pa(l,r)?l:ul.current!==null?(a=Sh(a,l,d),pa(a,r)||(ds=!0),a):(Ln&42)===0||(Ln&1073741824)!==0&&(vt&261930)===0?(ds=!0,a.memoizedState=l):(a=Ay(),rt.lanes|=a,gr|=a,r)}function _0(a,r,l,d,x){var g=P.p;P.p=g!==0&&8>g?g:8;var k=O.T,D={};O.T=D,Eh(a,!1,r,l);try{var K=x(),ne=O.S;if(ne!==null&&ne(D,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ge=qS(K,d);Io(a,r,ge,Na(a))}else Io(a,r,d,Na(a))}catch(je){Io(a,r,{then:function(){},status:"rejected",reason:je},Na())}finally{P.p=g,k!==null&&D.types!==null&&(k.types=D.types),O.T=k}}function KS(){}function Ch(a,r,l,d){if(a.tag!==5)throw Error(i(476));var x=T0(a).queue;_0(a,x,r,U,l===null?KS:function(){return R0(a),l(d)})}function T0(a){var r=a.memoizedState;if(r!==null)return r;r={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:U},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:l},next:null},a.memoizedState=r,a=a.alternate,a!==null&&(a.memoizedState=r),r}function R0(a){var r=T0(a);r.next===null&&(r=a.alternate.memoizedState),Io(a,r.next.queue,{},Na())}function kh(){return Ds(Xo)}function D0(){return ss().memoizedState}function O0(){return ss().memoizedState}function QS(a){for(var r=a.return;r!==null;){switch(r.tag){case 24:case 3:var l=Na();a=ur(l);var d=mr(r,a,l);d!==null&&(ra(d,r,l),To(d,r,l)),r={cache:th()},a.payload=r;return}r=r.return}}function GS(a,r,l){var d=Na();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bd(a)?I0(r,l):(l=Hm(a,r,l,d),l!==null&&(ra(l,a,d),L0(l,r,d)))}function M0(a,r,l){var d=Na();Io(a,r,l,d)}function Io(a,r,l,d){var x={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(bd(a))I0(r,x);else{var g=a.alternate;if(a.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var k=r.lastRenderedState,D=g(k,l);if(x.hasEagerState=!0,x.eagerState=D,pa(D,k))return td(a,r,x,0),Pt===null&&ed(),!1}catch{}finally{}if(l=Hm(a,r,x,d),l!==null)return ra(l,a,d),L0(l,r,d),!0}return!1}function Eh(a,r,l,d){if(d={lane:2,revertLane:rf(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},bd(a)){if(r)throw Error(i(479))}else r=Hm(a,l,d,2),r!==null&&ra(r,a,2)}function bd(a){var r=a.alternate;return a===rt||r!==null&&r===rt}function I0(a,r){ml=fd=!0;var l=a.pending;l===null?r.next=r:(r.next=l.next,l.next=r),a.pending=r}function L0(a,r,l){if((l&4194048)!==0){var d=r.lanes;d&=a.pendingLanes,l|=d,r.lanes=l,zp(a,l)}}var Lo={readContext:Ds,use:gd,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt};Lo.useEffectEvent=Wt;var P0={readContext:Ds,use:gd,useCallback:function(a,r){return Qs().memoizedState=[a,r===void 0?null:r],a},useContext:Ds,useEffect:j0,useImperativeHandle:function(a,r,l){l=l!=null?l.concat([a]):null,vd(4194308,4,S0.bind(null,r,a),l)},useLayoutEffect:function(a,r){return vd(4194308,4,a,r)},useInsertionEffect:function(a,r){vd(4,2,a,r)},useMemo:function(a,r){var l=Qs();r=r===void 0?null:r;var d=a();if(ri){Zt(!0);try{a()}finally{Zt(!1)}}return l.memoizedState=[d,r],d},useReducer:function(a,r,l){var d=Qs();if(l!==void 0){var x=l(r);if(ri){Zt(!0);try{l(r)}finally{Zt(!1)}}}else x=r;return d.memoizedState=d.baseState=x,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:x},d.queue=a,a=a.dispatch=GS.bind(null,rt,a),[d.memoizedState,a]},useRef:function(a){var r=Qs();return a={current:a},r.memoizedState=a},useState:function(a){a=jh(a);var r=a.queue,l=M0.bind(null,rt,r);return r.dispatch=l,[a.memoizedState,l]},useDebugValue:wh,useDeferredValue:function(a,r){var l=Qs();return Sh(l,a,r)},useTransition:function(){var a=jh(!1);return a=_0.bind(null,rt,a.queue,!0,!1),Qs().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,r,l){var d=rt,x=Qs();if(Nt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),Pt===null)throw Error(i(349));(vt&127)!==0||n0(d,r,l)}x.memoizedState=l;var g={value:l,getSnapshot:r};return x.queue=g,j0(i0.bind(null,d,g,a),[a]),d.flags|=2048,fl(9,{destroy:void 0},r0.bind(null,d,g,l,r),null),l},useId:function(){var a=Qs(),r=Pt.identifierPrefix;if(Nt){var l=dn,d=cn;l=(d&~(1<<32-Kt(d)-1)).toString(32)+l,r="_"+r+"R_"+l,l=xd++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=zS++,r="_"+r+"r_"+l.toString(32)+"_";return a.memoizedState=r},useHostTransitionStatus:kh,useFormState:x0,useActionState:x0,useOptimistic:function(a){var r=Qs();r.memoizedState=r.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Eh.bind(null,rt,!0,l),l.dispatch=r,[a,r]},useMemoCache:gh,useCacheRefresh:function(){return Qs().memoizedState=QS.bind(null,rt)},useEffectEvent:function(a){var r=Qs(),l={impl:a};return r.memoizedState=l,function(){if((Rt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Ah={readContext:Ds,use:gd,useCallback:k0,useContext:Ds,useEffect:Nh,useImperativeHandle:C0,useInsertionEffect:N0,useLayoutEffect:w0,useMemo:E0,useReducer:yd,useRef:v0,useState:function(){return yd(Pn)},useDebugValue:wh,useDeferredValue:function(a,r){var l=ss();return A0(l,Mt.memoizedState,a,r)},useTransition:function(){var a=yd(Pn)[0],r=ss().memoizedState;return[typeof a=="boolean"?a:Mo(a),r]},useSyncExternalStore:a0,useId:D0,useHostTransitionStatus:kh,useFormState:p0,useActionState:p0,useOptimistic:function(a,r){var l=ss();return c0(l,Mt,a,r)},useMemoCache:gh,useCacheRefresh:O0};Ah.useEffectEvent=b0;var U0={readContext:Ds,use:gd,useCallback:k0,useContext:Ds,useEffect:Nh,useImperativeHandle:C0,useInsertionEffect:N0,useLayoutEffect:w0,useMemo:E0,useReducer:vh,useRef:v0,useState:function(){return vh(Pn)},useDebugValue:wh,useDeferredValue:function(a,r){var l=ss();return Mt===null?Sh(l,a,r):A0(l,Mt.memoizedState,a,r)},useTransition:function(){var a=vh(Pn)[0],r=ss().memoizedState;return[typeof a=="boolean"?a:Mo(a),r]},useSyncExternalStore:a0,useId:D0,useHostTransitionStatus:kh,useFormState:y0,useActionState:y0,useOptimistic:function(a,r){var l=ss();return Mt!==null?c0(l,Mt,a,r):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:gh,useCacheRefresh:O0};U0.useEffectEvent=b0;function _h(a,r,l,d){r=a.memoizedState,l=l(d,r),l=l==null?r:y({},r,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var Th={enqueueSetState:function(a,r,l){a=a._reactInternals;var d=Na(),x=ur(d);x.payload=r,l!=null&&(x.callback=l),r=mr(a,x,d),r!==null&&(ra(r,a,d),To(r,a,d))},enqueueReplaceState:function(a,r,l){a=a._reactInternals;var d=Na(),x=ur(d);x.tag=1,x.payload=r,l!=null&&(x.callback=l),r=mr(a,x,d),r!==null&&(ra(r,a,d),To(r,a,d))},enqueueForceUpdate:function(a,r){a=a._reactInternals;var l=Na(),d=ur(l);d.tag=2,r!=null&&(d.callback=r),r=mr(a,d,l),r!==null&&(ra(r,a,l),To(r,a,l))}};function F0(a,r,l,d,x,g,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,g,k):r.prototype&&r.prototype.isPureReactComponent?!No(l,d)||!No(x,g):!0}function q0(a,r,l,d){a=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==a&&Th.enqueueReplaceState(r,r.state,null)}function ii(a,r){var l=r;if("ref"in r){l={};for(var d in r)d!=="ref"&&(l[d]=r[d])}if(a=a.defaultProps){l===r&&(l=y({},l));for(var x in a)l[x]===void 0&&(l[x]=a[x])}return l}function z0(a){Jc(a)}function B0(a){console.error(a)}function V0(a){Jc(a)}function Nd(a,r){try{var l=a.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(d){setTimeout(function(){throw d})}}function H0(a,r,l){try{var d=a.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Rh(a,r,l){return l=ur(l),l.tag=3,l.payload={element:null},l.callback=function(){Nd(a,r)},l}function $0(a){return a=ur(a),a.tag=3,a}function K0(a,r,l,d){var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var g=d.value;a.payload=function(){return x(g)},a.callback=function(){H0(r,l,d)}}var k=l.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){H0(r,l,d),typeof x!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var D=d.stack;this.componentDidCatch(d.value,{componentStack:D!==null?D:""})})}function YS(a,r,l,d,x){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(r=l.alternate,r!==null&&il(r,l,x,!0),l=ya.current,l!==null){switch(l.tag){case 31:case 13:return Fa===null?Md():l.alternate===null&&Xt===0&&(Xt=3),l.flags&=-257,l.flags|=65536,l.lanes=x,d===cd?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([d]):r.add(d),sf(a,d,x)),!1;case 22:return l.flags|=65536,d===cd?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([d]):l.add(d)),sf(a,d,x)),!1}throw Error(i(435,l.tag))}return sf(a,d,x),Md(),!1}if(Nt)return r=ya.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=x,d!==Zm&&(a=Error(i(422),{cause:d}),Co(Ia(a,l)))):(d!==Zm&&(r=Error(i(423),{cause:d}),Co(Ia(r,l))),a=a.current.alternate,a.flags|=65536,x&=-x,a.lanes|=x,d=Ia(d,l),x=Rh(a.stateNode,d,x),lh(a,x),Xt!==4&&(Xt=2)),!1;var g=Error(i(520),{cause:d});if(g=Ia(g,l),Ho===null?Ho=[g]:Ho.push(g),Xt!==4&&(Xt=2),r===null)return!0;d=Ia(d,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,a=x&-x,l.lanes|=a,a=Rh(l.stateNode,d,a),lh(l,a),!1;case 1:if(r=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(yr===null||!yr.has(g))))return l.flags|=65536,x&=-x,l.lanes|=x,x=$0(x),K0(x,a,l,d),lh(l,x),!1}l=l.return}while(l!==null);return!1}var Dh=Error(i(461)),ds=!1;function Os(a,r,l,d){r.child=a===null?Zg(r,null,l,d):ni(r,a.child,l,d)}function Q0(a,r,l,d,x){l=l.render;var g=r.ref;if("ref"in d){var k={};for(var D in d)D!=="ref"&&(k[D]=d[D])}else k=d;return ei(r),d=hh(a,r,l,k,g,x),D=fh(),a!==null&&!ds?(xh(a,r,x),Un(a,r,x)):(Nt&&D&&Gm(r),r.flags|=1,Os(a,r,d,x),r.child)}function G0(a,r,l,d,x){if(a===null){var g=l.type;return typeof g=="function"&&!$m(g)&&g.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=g,Y0(a,r,g,d,x)):(a=ad(l.type,null,d,r,r.mode,x),a.ref=r.ref,a.return=r,r.child=a)}if(g=a.child,!qh(a,x)){var k=g.memoizedProps;if(l=l.compare,l=l!==null?l:No,l(k,d)&&a.ref===r.ref)return Un(a,r,x)}return r.flags|=1,a=Dn(g,d),a.ref=r.ref,a.return=r,r.child=a}function Y0(a,r,l,d,x){if(a!==null){var g=a.memoizedProps;if(No(g,d)&&a.ref===r.ref)if(ds=!1,r.pendingProps=d=g,qh(a,x))(a.flags&131072)!==0&&(ds=!0);else return r.lanes=a.lanes,Un(a,r,x)}return Oh(a,r,l,d,x)}function Z0(a,r,l,d){var x=d.children,g=a!==null?a.memoizedState:null;if(a===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,a!==null){for(d=r.child=a.child,x=0;d!==null;)x=x|d.lanes|d.childLanes,d=d.sibling;d=x&~g}else d=0,r.child=null;return W0(a,r,g,l,d)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},a!==null&&ld(r,g!==null?g.cachePool:null),g!==null?Jg(r,g):ch(),e0(r);else return d=r.lanes=536870912,W0(a,r,g!==null?g.baseLanes|l:l,l,d)}else g!==null?(ld(r,g.cachePool),Jg(r,g),fr(),r.memoizedState=null):(a!==null&&ld(r,null),ch(),fr());return Os(a,r,x,l),r.child}function Po(a,r){return a!==null&&a.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function W0(a,r,l,d,x){var g=ah();return g=g===null?null:{parent:os._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},a!==null&&ld(r,null),ch(),e0(r),a!==null&&il(a,r,d,!0),r.childLanes=x,null}function wd(a,r){return r=Cd({mode:r.mode,children:r.children},a.mode),r.ref=a.ref,a.child=r,r.return=a,r}function X0(a,r,l){return ni(r,a.child,null,l),a=wd(r,r.pendingProps),a.flags|=2,va(r),r.memoizedState=null,a}function ZS(a,r,l){var d=r.pendingProps,x=(r.flags&128)!==0;if(r.flags&=-129,a===null){if(Nt){if(d.mode==="hidden")return a=wd(r,d),r.lanes=536870912,Po(null,a);if(uh(r),(a=Ft)?(a=dv(a,Ua),a=a!==null&&a.data==="&"?a:null,a!==null&&(r.memoizedState={dehydrated:a,treeContext:ir!==null?{id:cn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},l=Ig(a),l.return=r,r.child=l,Rs=r,Ft=null)):a=null,a===null)throw or(r);return r.lanes=536870912,null}return wd(r,d)}var g=a.memoizedState;if(g!==null){var k=g.dehydrated;if(uh(r),x)if(r.flags&256)r.flags&=-257,r=X0(a,r,l);else if(r.memoizedState!==null)r.child=a.child,r.flags|=128,r=null;else throw Error(i(558));else if(ds||il(a,r,l,!1),x=(l&a.childLanes)!==0,ds||x){if(d=Pt,d!==null&&(k=Bp(d,l),k!==0&&k!==g.retryLane))throw g.retryLane=k,Zr(a,k),ra(d,a,k),Dh;Md(),r=X0(a,r,l)}else a=g.treeContext,Ft=qa(k.nextSibling),Rs=r,Nt=!0,lr=null,Ua=!1,a!==null&&Ug(r,a),r=wd(r,d),r.flags|=4096;return r}return a=Dn(a.child,{mode:d.mode,children:d.children}),a.ref=r.ref,r.child=a,a.return=r,a}function Sd(a,r){var l=r.ref;if(l===null)a!==null&&a.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(a===null||a.ref!==l)&&(r.flags|=4194816)}}function Oh(a,r,l,d,x){return ei(r),l=hh(a,r,l,d,void 0,x),d=fh(),a!==null&&!ds?(xh(a,r,x),Un(a,r,x)):(Nt&&d&&Gm(r),r.flags|=1,Os(a,r,l,x),r.child)}function J0(a,r,l,d,x,g){return ei(r),r.updateQueue=null,l=s0(r,d,l,x),t0(a),d=fh(),a!==null&&!ds?(xh(a,r,g),Un(a,r,g)):(Nt&&d&&Gm(r),r.flags|=1,Os(a,r,l,g),r.child)}function ey(a,r,l,d,x){if(ei(r),r.stateNode===null){var g=sl,k=l.contextType;typeof k=="object"&&k!==null&&(g=Ds(k)),g=new l(d,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Th,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=d,g.state=r.memoizedState,g.refs={},rh(r),k=l.contextType,g.context=typeof k=="object"&&k!==null?Ds(k):sl,g.state=r.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(_h(r,l,k,d),g.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(k=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),k!==g.state&&Th.enqueueReplaceState(g,g.state,null),Do(r,d,g,x),Ro(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),d=!0}else if(a===null){g=r.stateNode;var D=r.memoizedProps,K=ii(l,D);g.props=K;var ne=g.context,ge=l.contextType;k=sl,typeof ge=="object"&&ge!==null&&(k=Ds(ge));var je=l.getDerivedStateFromProps;ge=typeof je=="function"||typeof g.getSnapshotBeforeUpdate=="function",D=r.pendingProps!==D,ge||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(D||ne!==k)&&q0(r,g,d,k),dr=!1;var re=r.memoizedState;g.state=re,Do(r,d,g,x),Ro(),ne=r.memoizedState,D||re!==ne||dr?(typeof je=="function"&&(_h(r,l,je,d),ne=r.memoizedState),(K=dr||F0(r,l,K,d,re,ne,k))?(ge||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=ne),g.props=d,g.state=ne,g.context=k,d=K):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{g=r.stateNode,ih(a,r),k=r.memoizedProps,ge=ii(l,k),g.props=ge,je=r.pendingProps,re=g.context,ne=l.contextType,K=sl,typeof ne=="object"&&ne!==null&&(K=Ds(ne)),D=l.getDerivedStateFromProps,(ne=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k!==je||re!==K)&&q0(r,g,d,K),dr=!1,re=r.memoizedState,g.state=re,Do(r,d,g,x),Ro();var ue=r.memoizedState;k!==je||re!==ue||dr||a!==null&&a.dependencies!==null&&rd(a.dependencies)?(typeof D=="function"&&(_h(r,l,D,d),ue=r.memoizedState),(ge=dr||F0(r,l,ge,d,re,ue,K)||a!==null&&a.dependencies!==null&&rd(a.dependencies))?(ne||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(d,ue,K),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(d,ue,K)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||k===a.memoizedProps&&re===a.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&re===a.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ue),g.props=d,g.state=ue,g.context=K,d=ge):(typeof g.componentDidUpdate!="function"||k===a.memoizedProps&&re===a.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&re===a.memoizedState||(r.flags|=1024),d=!1)}return g=d,Sd(a,r),d=(r.flags&128)!==0,g||d?(g=r.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,a!==null&&d?(r.child=ni(r,a.child,null,x),r.child=ni(r,null,l,x)):Os(a,r,l,x),r.memoizedState=g.state,a=r.child):a=Un(a,r,x),a}function ty(a,r,l,d){return Xr(),r.flags|=256,Os(a,r,l,d),r.child}var Mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ih(a){return{baseLanes:a,cachePool:Hg()}}function Lh(a,r,l){return a=a!==null?a.childLanes&~l:0,r&&(a|=ba),a}function sy(a,r,l){var d=r.pendingProps,x=!1,g=(r.flags&128)!==0,k;if((k=g)||(k=a!==null&&a.memoizedState===null?!1:(ts.current&2)!==0),k&&(x=!0,r.flags&=-129),k=(r.flags&32)!==0,r.flags&=-33,a===null){if(Nt){if(x?hr(r):fr(),(a=Ft)?(a=dv(a,Ua),a=a!==null&&a.data!=="&"?a:null,a!==null&&(r.memoizedState={dehydrated:a,treeContext:ir!==null?{id:cn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},l=Ig(a),l.return=r,r.child=l,Rs=r,Ft=null)):a=null,a===null)throw or(r);return vf(a)?r.lanes=32:r.lanes=536870912,null}var D=d.children;return d=d.fallback,x?(fr(),x=r.mode,D=Cd({mode:"hidden",children:D},x),d=Wr(d,x,l,null),D.return=r,d.return=r,D.sibling=d,r.child=D,d=r.child,d.memoizedState=Ih(l),d.childLanes=Lh(a,k,l),r.memoizedState=Mh,Po(null,d)):(hr(r),Ph(r,D))}var K=a.memoizedState;if(K!==null&&(D=K.dehydrated,D!==null)){if(g)r.flags&256?(hr(r),r.flags&=-257,r=Uh(a,r,l)):r.memoizedState!==null?(fr(),r.child=a.child,r.flags|=128,r=null):(fr(),D=d.fallback,x=r.mode,d=Cd({mode:"visible",children:d.children},x),D=Wr(D,x,l,null),D.flags|=2,d.return=r,D.return=r,d.sibling=D,r.child=d,ni(r,a.child,null,l),d=r.child,d.memoizedState=Ih(l),d.childLanes=Lh(a,k,l),r.memoizedState=Mh,r=Po(null,d));else if(hr(r),vf(D)){if(k=D.nextSibling&&D.nextSibling.dataset,k)var ne=k.dgst;k=ne,d=Error(i(419)),d.stack="",d.digest=k,Co({value:d,source:null,stack:null}),r=Uh(a,r,l)}else if(ds||il(a,r,l,!1),k=(l&a.childLanes)!==0,ds||k){if(k=Pt,k!==null&&(d=Bp(k,l),d!==0&&d!==K.retryLane))throw K.retryLane=d,Zr(a,d),ra(k,a,d),Dh;yf(D)||Md(),r=Uh(a,r,l)}else yf(D)?(r.flags|=192,r.child=a.child,r=null):(a=K.treeContext,Ft=qa(D.nextSibling),Rs=r,Nt=!0,lr=null,Ua=!1,a!==null&&Ug(r,a),r=Ph(r,d.children),r.flags|=4096);return r}return x?(fr(),D=d.fallback,x=r.mode,K=a.child,ne=K.sibling,d=Dn(K,{mode:"hidden",children:d.children}),d.subtreeFlags=K.subtreeFlags&65011712,ne!==null?D=Dn(ne,D):(D=Wr(D,x,l,null),D.flags|=2),D.return=r,d.return=r,d.sibling=D,r.child=d,Po(null,d),d=r.child,D=a.child.memoizedState,D===null?D=Ih(l):(x=D.cachePool,x!==null?(K=os._currentValue,x=x.parent!==K?{parent:K,pool:K}:x):x=Hg(),D={baseLanes:D.baseLanes|l,cachePool:x}),d.memoizedState=D,d.childLanes=Lh(a,k,l),r.memoizedState=Mh,Po(a.child,d)):(hr(r),l=a.child,a=l.sibling,l=Dn(l,{mode:"visible",children:d.children}),l.return=r,l.sibling=null,a!==null&&(k=r.deletions,k===null?(r.deletions=[a],r.flags|=16):k.push(a)),r.child=l,r.memoizedState=null,l)}function Ph(a,r){return r=Cd({mode:"visible",children:r},a.mode),r.return=a,a.child=r}function Cd(a,r){return a=ga(22,a,null,r),a.lanes=0,a}function Uh(a,r,l){return ni(r,a.child,null,l),a=Ph(r,r.pendingProps.children),a.flags|=2,r.memoizedState=null,a}function ay(a,r,l){a.lanes|=r;var d=a.alternate;d!==null&&(d.lanes|=r),Jm(a.return,r,l)}function Fh(a,r,l,d,x,g){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:x,treeForkCount:g}:(k.isBackwards=r,k.rendering=null,k.renderingStartTime=0,k.last=d,k.tail=l,k.tailMode=x,k.treeForkCount=g)}function ny(a,r,l){var d=r.pendingProps,x=d.revealOrder,g=d.tail;d=d.children;var k=ts.current,D=(k&2)!==0;if(D?(k=k&1|2,r.flags|=128):k&=1,T(ts,k),Os(a,r,d,l),d=Nt?So:0,!D&&a!==null&&(a.flags&128)!==0)e:for(a=r.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ay(a,l,r);else if(a.tag===19)ay(a,l,r);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(x){case"forwards":for(l=r.child,x=null;l!==null;)a=l.alternate,a!==null&&hd(a)===null&&(x=l),l=l.sibling;l=x,l===null?(x=r.child,r.child=null):(x=l.sibling,l.sibling=null),Fh(r,!1,x,l,g,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,x=r.child,r.child=null;x!==null;){if(a=x.alternate,a!==null&&hd(a)===null){r.child=x;break}a=x.sibling,x.sibling=l,l=x,x=a}Fh(r,!0,l,null,g,d);break;case"together":Fh(r,!1,null,null,void 0,d);break;default:r.memoizedState=null}return r.child}function Un(a,r,l){if(a!==null&&(r.dependencies=a.dependencies),gr|=r.lanes,(l&r.childLanes)===0)if(a!==null){if(il(a,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(a!==null&&r.child!==a.child)throw Error(i(153));if(r.child!==null){for(a=r.child,l=Dn(a,a.pendingProps),r.child=l,l.return=r;a.sibling!==null;)a=a.sibling,l=l.sibling=Dn(a,a.pendingProps),l.return=r;l.sibling=null}return r.child}function qh(a,r){return(a.lanes&r)!==0?!0:(a=a.dependencies,!!(a!==null&&rd(a)))}function WS(a,r,l){switch(r.tag){case 3:$e(r,r.stateNode.containerInfo),cr(r,os,a.memoizedState.cache),Xr();break;case 27:case 5:Ze(r);break;case 4:$e(r,r.stateNode.containerInfo);break;case 10:cr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,uh(r),null;break;case 13:var d=r.memoizedState;if(d!==null)return d.dehydrated!==null?(hr(r),r.flags|=128,null):(l&r.child.childLanes)!==0?sy(a,r,l):(hr(r),a=Un(a,r,l),a!==null?a.sibling:null);hr(r);break;case 19:var x=(a.flags&128)!==0;if(d=(l&r.childLanes)!==0,d||(il(a,r,l,!1),d=(l&r.childLanes)!==0),x){if(d)return ny(a,r,l);r.flags|=128}if(x=r.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),T(ts,ts.current),d)break;return null;case 22:return r.lanes=0,Z0(a,r,l,r.pendingProps);case 24:cr(r,os,a.memoizedState.cache)}return Un(a,r,l)}function ry(a,r,l){if(a!==null)if(a.memoizedProps!==r.pendingProps)ds=!0;else{if(!qh(a,l)&&(r.flags&128)===0)return ds=!1,WS(a,r,l);ds=(a.flags&131072)!==0}else ds=!1,Nt&&(r.flags&1048576)!==0&&Pg(r,So,r.index);switch(r.lanes=0,r.tag){case 16:e:{var d=r.pendingProps;if(a=si(r.elementType),r.type=a,typeof a=="function")$m(a)?(d=ii(a,d),r.tag=1,r=ey(null,r,a,d,l)):(r.tag=0,r=Oh(null,r,a,d,l));else{if(a!=null){var x=a.$$typeof;if(x===R){r.tag=11,r=Q0(null,r,a,d,l);break e}else if(x===I){r.tag=14,r=G0(null,r,a,d,l);break e}}throw r=z(a)||a,Error(i(306,r,""))}}return r;case 0:return Oh(a,r,r.type,r.pendingProps,l);case 1:return d=r.type,x=ii(d,r.pendingProps),ey(a,r,d,x,l);case 3:e:{if($e(r,r.stateNode.containerInfo),a===null)throw Error(i(387));d=r.pendingProps;var g=r.memoizedState;x=g.element,ih(a,r),Do(r,d,null,l);var k=r.memoizedState;if(d=k.cache,cr(r,os,d),d!==g.cache&&eh(r,[os],l,!0),Ro(),d=k.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:k.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=ty(a,r,d,l);break e}else if(d!==x){x=Ia(Error(i(424)),r),Co(x),r=ty(a,r,d,l);break e}else{switch(a=r.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ft=qa(a.firstChild),Rs=r,Nt=!0,lr=null,Ua=!0,l=Zg(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Xr(),d===x){r=Un(a,r,l);break e}Os(a,r,d,l)}r=r.child}return r;case 26:return Sd(a,r),a===null?(l=pv(r.type,null,r.pendingProps,null))?r.memoizedState=l:Nt||(l=r.type,a=r.pendingProps,d=zd(Pe.current).createElement(l),d[Ts]=r,d[Js]=a,Ms(d,l,a),Ss(d),r.stateNode=d):r.memoizedState=pv(r.type,a.memoizedProps,r.pendingProps,a.memoizedState),null;case 27:return Ze(r),a===null&&Nt&&(d=r.stateNode=hv(r.type,r.pendingProps,Pe.current),Rs=r,Ua=!0,x=Ft,Nr(r.type)?(jf=x,Ft=qa(d.firstChild)):Ft=x),Os(a,r,r.pendingProps.children,l),Sd(a,r),a===null&&(r.flags|=4194304),r.child;case 5:return a===null&&Nt&&((x=d=Ft)&&(d=EC(d,r.type,r.pendingProps,Ua),d!==null?(r.stateNode=d,Rs=r,Ft=qa(d.firstChild),Ua=!1,x=!0):x=!1),x||or(r)),Ze(r),x=r.type,g=r.pendingProps,k=a!==null?a.memoizedProps:null,d=g.children,xf(x,g)?d=null:k!==null&&xf(x,k)&&(r.flags|=32),r.memoizedState!==null&&(x=hh(a,r,BS,null,null,l),Xo._currentValue=x),Sd(a,r),Os(a,r,d,l),r.child;case 6:return a===null&&Nt&&((a=l=Ft)&&(l=AC(l,r.pendingProps,Ua),l!==null?(r.stateNode=l,Rs=r,Ft=null,a=!0):a=!1),a||or(r)),null;case 13:return sy(a,r,l);case 4:return $e(r,r.stateNode.containerInfo),d=r.pendingProps,a===null?r.child=ni(r,null,d,l):Os(a,r,d,l),r.child;case 11:return Q0(a,r,r.type,r.pendingProps,l);case 7:return Os(a,r,r.pendingProps,l),r.child;case 8:return Os(a,r,r.pendingProps.children,l),r.child;case 12:return Os(a,r,r.pendingProps.children,l),r.child;case 10:return d=r.pendingProps,cr(r,r.type,d.value),Os(a,r,d.children,l),r.child;case 9:return x=r.type._context,d=r.pendingProps.children,ei(r),x=Ds(x),d=d(x),r.flags|=1,Os(a,r,d,l),r.child;case 14:return G0(a,r,r.type,r.pendingProps,l);case 15:return Y0(a,r,r.type,r.pendingProps,l);case 19:return ny(a,r,l);case 31:return ZS(a,r,l);case 22:return Z0(a,r,l,r.pendingProps);case 24:return ei(r),d=Ds(os),a===null?(x=ah(),x===null&&(x=Pt,g=th(),x.pooledCache=g,g.refCount++,g!==null&&(x.pooledCacheLanes|=l),x=g),r.memoizedState={parent:d,cache:x},rh(r),cr(r,os,x)):((a.lanes&l)!==0&&(ih(a,r),Do(r,null,null,l),Ro()),x=a.memoizedState,g=r.memoizedState,x.parent!==d?(x={parent:d,cache:d},r.memoizedState=x,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=x),cr(r,os,d)):(d=g.cache,cr(r,os,d),d!==x.cache&&eh(r,[os],l,!0))),Os(a,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Fn(a){a.flags|=4}function zh(a,r,l,d,x){if((r=(a.mode&32)!==0)&&(r=!1),r){if(a.flags|=16777216,(x&335544128)===x)if(a.stateNode.complete)a.flags|=8192;else if(Dy())a.flags|=8192;else throw ai=cd,nh}else a.flags&=-16777217}function iy(a,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!bv(r))if(Dy())a.flags|=8192;else throw ai=cd,nh}function kd(a,r){r!==null&&(a.flags|=4),a.flags&16384&&(r=a.tag!==22?Qt():536870912,a.lanes|=r,yl|=r)}function Uo(a,r){if(!Nt)switch(a.tailMode){case"hidden":r=a.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function qt(a){var r=a.alternate!==null&&a.alternate.child===a.child,l=0,d=0;if(r)for(var x=a.child;x!==null;)l|=x.lanes|x.childLanes,d|=x.subtreeFlags&65011712,d|=x.flags&65011712,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)l|=x.lanes|x.childLanes,d|=x.subtreeFlags,d|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=d,a.childLanes=l,r}function XS(a,r,l){var d=r.pendingProps;switch(Ym(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(r),null;case 1:return qt(r),null;case 3:return l=r.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),r.memoizedState.cache!==d&&(r.flags|=2048),In(os),qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(rl(r)?Fn(r):a===null||a.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Wm())),qt(r),null;case 26:var x=r.type,g=r.memoizedState;return a===null?(Fn(r),g!==null?(qt(r),iy(r,g)):(qt(r),zh(r,x,null,d,l))):g?g!==a.memoizedState?(Fn(r),qt(r),iy(r,g)):(qt(r),r.flags&=-16777217):(a=a.memoizedProps,a!==d&&Fn(r),qt(r),zh(r,x,a,d,l)),null;case 27:if(at(r),l=Pe.current,x=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==d&&Fn(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return qt(r),null}a=ye.current,rl(r)?Fg(r):(a=hv(x,d,l),r.stateNode=a,Fn(r))}return qt(r),null;case 5:if(at(r),x=r.type,a!==null&&r.stateNode!=null)a.memoizedProps!==d&&Fn(r);else{if(!d){if(r.stateNode===null)throw Error(i(166));return qt(r),null}if(g=ye.current,rl(r))Fg(r);else{var k=zd(Pe.current);switch(g){case 1:g=k.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:g=k.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":g=k.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":g=k.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":g=k.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof d.is=="string"?k.createElement("select",{is:d.is}):k.createElement("select"),d.multiple?g.multiple=!0:d.size&&(g.size=d.size);break;default:g=typeof d.is=="string"?k.createElement(x,{is:d.is}):k.createElement(x)}}g[Ts]=r,g[Js]=d;e:for(k=r.child;k!==null;){if(k.tag===5||k.tag===6)g.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===r)break e;for(;k.sibling===null;){if(k.return===null||k.return===r)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}r.stateNode=g;e:switch(Ms(g,x,d),x){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Fn(r)}}return qt(r),zh(r,r.type,a===null?null:a.memoizedProps,r.pendingProps,l),null;case 6:if(a&&r.stateNode!=null)a.memoizedProps!==d&&Fn(r);else{if(typeof d!="string"&&r.stateNode===null)throw Error(i(166));if(a=Pe.current,rl(r)){if(a=r.stateNode,l=r.memoizedProps,d=null,x=Rs,x!==null)switch(x.tag){case 27:case 5:d=x.memoizedProps}a[Ts]=r,a=!!(a.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||sv(a.nodeValue,l)),a||or(r,!0)}else a=zd(a).createTextNode(d),a[Ts]=r,r.stateNode=a}return qt(r),null;case 31:if(l=r.memoizedState,a===null||a.memoizedState!==null){if(d=rl(r),l!==null){if(a===null){if(!d)throw Error(i(318));if(a=r.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[Ts]=r}else Xr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;qt(r),a=!1}else l=Wm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=l),a=!0;if(!a)return r.flags&256?(va(r),r):(va(r),null);if((r.flags&128)!==0)throw Error(i(558))}return qt(r),null;case 13:if(d=r.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(x=rl(r),d!==null&&d.dehydrated!==null){if(a===null){if(!x)throw Error(i(318));if(x=r.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(i(317));x[Ts]=r}else Xr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;qt(r),x=!1}else x=Wm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=x),x=!0;if(!x)return r.flags&256?(va(r),r):(va(r),null)}return va(r),(r.flags&128)!==0?(r.lanes=l,r):(l=d!==null,a=a!==null&&a.memoizedState!==null,l&&(d=r.child,x=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(x=d.alternate.memoizedState.cachePool.pool),g=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(g=d.memoizedState.cachePool.pool),g!==x&&(d.flags|=2048)),l!==a&&l&&(r.child.flags|=8192),kd(r,r.updateQueue),qt(r),null);case 4:return qe(),a===null&&df(r.stateNode.containerInfo),qt(r),null;case 10:return In(r.type),qt(r),null;case 19:if(te(ts),d=r.memoizedState,d===null)return qt(r),null;if(x=(r.flags&128)!==0,g=d.rendering,g===null)if(x)Uo(d,!1);else{if(Xt!==0||a!==null&&(a.flags&128)!==0)for(a=r.child;a!==null;){if(g=hd(a),g!==null){for(r.flags|=128,Uo(d,!1),a=g.updateQueue,r.updateQueue=a,kd(r,a),r.subtreeFlags=0,a=l,l=r.child;l!==null;)Mg(l,a),l=l.sibling;return T(ts,ts.current&1|2),Nt&&On(r,d.treeForkCount),r.child}a=a.sibling}d.tail!==null&&Se()>Rd&&(r.flags|=128,x=!0,Uo(d,!1),r.lanes=4194304)}else{if(!x)if(a=hd(g),a!==null){if(r.flags|=128,x=!0,a=a.updateQueue,r.updateQueue=a,kd(r,a),Uo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Nt)return qt(r),null}else 2*Se()-d.renderingStartTime>Rd&&l!==536870912&&(r.flags|=128,x=!0,Uo(d,!1),r.lanes=4194304);d.isBackwards?(g.sibling=r.child,r.child=g):(a=d.last,a!==null?a.sibling=g:r.child=g,d.last=g)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Se(),a.sibling=null,l=ts.current,T(ts,x?l&1|2:l&1),Nt&&On(r,d.treeForkCount),a):(qt(r),null);case 22:case 23:return va(r),dh(),d=r.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(r.flags|=8192):d&&(r.flags|=8192),d?(l&536870912)!==0&&(r.flags&128)===0&&(qt(r),r.subtreeFlags&6&&(r.flags|=8192)):qt(r),l=r.updateQueue,l!==null&&kd(r,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==l&&(r.flags|=2048),a!==null&&te(ti),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),In(os),qt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function JS(a,r){switch(Ym(r),r.tag){case 1:return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 3:return In(os),qe(),a=r.flags,(a&65536)!==0&&(a&128)===0?(r.flags=a&-65537|128,r):null;case 26:case 27:case 5:return at(r),null;case 31:if(r.memoizedState!==null){if(va(r),r.alternate===null)throw Error(i(340));Xr()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 13:if(va(r),a=r.memoizedState,a!==null&&a.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Xr()}return a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 19:return te(ts),null;case 4:return qe(),null;case 10:return In(r.type),null;case 22:case 23:return va(r),dh(),a!==null&&te(ti),a=r.flags,a&65536?(r.flags=a&-65537|128,r):null;case 24:return In(os),null;case 25:return null;default:return null}}function ly(a,r){switch(Ym(r),r.tag){case 3:In(os),qe();break;case 26:case 27:case 5:at(r);break;case 4:qe();break;case 31:r.memoizedState!==null&&va(r);break;case 13:va(r);break;case 19:te(ts);break;case 10:In(r.type);break;case 22:case 23:va(r),dh(),a!==null&&te(ti);break;case 24:In(os)}}function Fo(a,r){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var x=d.next;l=x;do{if((l.tag&a)===a){d=void 0;var g=l.create,k=l.inst;d=g(),k.destroy=d}l=l.next}while(l!==x)}}catch(D){Ot(r,r.return,D)}}function xr(a,r,l){try{var d=r.updateQueue,x=d!==null?d.lastEffect:null;if(x!==null){var g=x.next;d=g;do{if((d.tag&a)===a){var k=d.inst,D=k.destroy;if(D!==void 0){k.destroy=void 0,x=r;var K=l,ne=D;try{ne()}catch(ge){Ot(x,K,ge)}}}d=d.next}while(d!==g)}}catch(ge){Ot(r,r.return,ge)}}function oy(a){var r=a.updateQueue;if(r!==null){var l=a.stateNode;try{Xg(r,l)}catch(d){Ot(a,a.return,d)}}}function cy(a,r,l){l.props=ii(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(d){Ot(a,r,d)}}function qo(a,r){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof l=="function"?a.refCleanup=l(d):l.current=d}}catch(x){Ot(a,r,x)}}function un(a,r){var l=a.ref,d=a.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(x){Ot(a,r,x)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(x){Ot(a,r,x)}else l.current=null}function dy(a){var r=a.type,l=a.memoizedProps,d=a.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(x){Ot(a,a.return,x)}}function Bh(a,r,l){try{var d=a.stateNode;bC(d,a.type,l,r),d[Js]=r}catch(x){Ot(a,a.return,x)}}function uy(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Nr(a.type)||a.tag===4}function Vh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||uy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Nr(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Hh(a,r,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(a),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Tn));else if(d!==4&&(d===27&&Nr(a.type)&&(l=a.stateNode,r=null),a=a.child,a!==null))for(Hh(a,r,l),a=a.sibling;a!==null;)Hh(a,r,l),a=a.sibling}function Ed(a,r,l){var d=a.tag;if(d===5||d===6)a=a.stateNode,r?l.insertBefore(a,r):l.appendChild(a);else if(d!==4&&(d===27&&Nr(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(Ed(a,r,l),a=a.sibling;a!==null;)Ed(a,r,l),a=a.sibling}function my(a){var r=a.stateNode,l=a.memoizedProps;try{for(var d=a.type,x=r.attributes;x.length;)r.removeAttributeNode(x[0]);Ms(r,d,l),r[Ts]=a,r[Js]=l}catch(g){Ot(a,a.return,g)}}var qn=!1,us=!1,$h=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Cs=null;function eC(a,r){if(a=a.containerInfo,hf=Gd,a=Cg(a),Um(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var x=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var k=0,D=-1,K=-1,ne=0,ge=0,je=a,re=null;t:for(;;){for(var ue;je!==l||x!==0&&je.nodeType!==3||(D=k+x),je!==g||d!==0&&je.nodeType!==3||(K=k+d),je.nodeType===3&&(k+=je.nodeValue.length),(ue=je.firstChild)!==null;)re=je,je=ue;for(;;){if(je===a)break t;if(re===l&&++ne===x&&(D=k),re===g&&++ge===d&&(K=k),(ue=je.nextSibling)!==null)break;je=re,re=je.parentNode}je=ue}l=D===-1||K===-1?null:{start:D,end:K}}else l=null}l=l||{start:0,end:0}}else l=null;for(ff={focusedElem:a,selectionRange:l},Gd=!1,Cs=r;Cs!==null;)if(r=Cs,a=r.child,(r.subtreeFlags&1028)!==0&&a!==null)a.return=r,Cs=a;else for(;Cs!==null;){switch(r=Cs,g=r.alternate,a=r.flags,r.tag){case 0:if((a&4)!==0&&(a=r.updateQueue,a=a!==null?a.events:null,a!==null))for(l=0;l<a.length;l++)x=a[l],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&g!==null){a=void 0,l=r,x=g.memoizedProps,g=g.memoizedState,d=l.stateNode;try{var Oe=ii(l.type,x);a=d.getSnapshotBeforeUpdate(Oe,g),d.__reactInternalSnapshotBeforeUpdate=a}catch(Ge){Ot(l,l.return,Ge)}}break;case 3:if((a&1024)!==0){if(a=r.stateNode.containerInfo,l=a.nodeType,l===9)gf(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":gf(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=r.sibling,a!==null){a.return=r.return,Cs=a;break}Cs=r.return}}function fy(a,r,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Bn(a,l),d&4&&Fo(5,l);break;case 1:if(Bn(a,l),d&4)if(a=l.stateNode,r===null)try{a.componentDidMount()}catch(k){Ot(l,l.return,k)}else{var x=ii(l.type,r.memoizedProps);r=r.memoizedState;try{a.componentDidUpdate(x,r,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Ot(l,l.return,k)}}d&64&&oy(l),d&512&&qo(l,l.return);break;case 3:if(Bn(a,l),d&64&&(a=l.updateQueue,a!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Xg(a,r)}catch(k){Ot(l,l.return,k)}}break;case 27:r===null&&d&4&&my(l);case 26:case 5:Bn(a,l),r===null&&d&4&&dy(l),d&512&&qo(l,l.return);break;case 12:Bn(a,l);break;case 31:Bn(a,l),d&4&&gy(a,l);break;case 13:Bn(a,l),d&4&&yy(a,l),d&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=cC.bind(null,l),_C(a,l))));break;case 22:if(d=l.memoizedState!==null||qn,!d){r=r!==null&&r.memoizedState!==null||us,x=qn;var g=us;qn=d,(us=r)&&!g?Vn(a,l,(l.subtreeFlags&8772)!==0):Bn(a,l),qn=x,us=g}break;case 30:break;default:Bn(a,l)}}function xy(a){var r=a.alternate;r!==null&&(a.alternate=null,xy(r)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(r=a.stateNode,r!==null&&bm(r)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Bt=null,ta=!1;function zn(a,r,l){for(l=l.child;l!==null;)py(a,r,l),l=l.sibling}function py(a,r,l){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(ie,l)}catch{}switch(l.tag){case 26:us||un(l,r),zn(a,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:us||un(l,r);var d=Bt,x=ta;Nr(l.type)&&(Bt=l.stateNode,ta=!1),zn(a,r,l),Yo(l.stateNode),Bt=d,ta=x;break;case 5:us||un(l,r);case 6:if(d=Bt,x=ta,Bt=null,zn(a,r,l),Bt=d,ta=x,Bt!==null)if(ta)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(l.stateNode)}catch(g){Ot(l,r,g)}else try{Bt.removeChild(l.stateNode)}catch(g){Ot(l,r,g)}break;case 18:Bt!==null&&(ta?(a=Bt,ov(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),kl(a)):ov(Bt,l.stateNode));break;case 4:d=Bt,x=ta,Bt=l.stateNode.containerInfo,ta=!0,zn(a,r,l),Bt=d,ta=x;break;case 0:case 11:case 14:case 15:xr(2,l,r),us||xr(4,l,r),zn(a,r,l);break;case 1:us||(un(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"&&cy(l,r,d)),zn(a,r,l);break;case 21:zn(a,r,l);break;case 22:us=(d=us)||l.memoizedState!==null,zn(a,r,l),us=d;break;default:zn(a,r,l)}}function gy(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{kl(a)}catch(l){Ot(r,r.return,l)}}}function yy(a,r){if(r.memoizedState===null&&(a=r.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{kl(a)}catch(l){Ot(r,r.return,l)}}function tC(a){switch(a.tag){case 31:case 13:case 19:var r=a.stateNode;return r===null&&(r=a.stateNode=new hy),r;case 22:return a=a.stateNode,r=a._retryCache,r===null&&(r=a._retryCache=new hy),r;default:throw Error(i(435,a.tag))}}function Ad(a,r){var l=tC(a);r.forEach(function(d){if(!l.has(d)){l.add(d);var x=dC.bind(null,a,d);d.then(x,x)}})}function sa(a,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var x=l[d],g=a,k=r,D=k;e:for(;D!==null;){switch(D.tag){case 27:if(Nr(D.type)){Bt=D.stateNode,ta=!1;break e}break;case 5:Bt=D.stateNode,ta=!1;break e;case 3:case 4:Bt=D.stateNode.containerInfo,ta=!0;break e}D=D.return}if(Bt===null)throw Error(i(160));py(g,k,x),Bt=null,ta=!1,g=x.alternate,g!==null&&(g.return=null),x.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)vy(r,a),r=r.sibling}var Ya=null;function vy(a,r){var l=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:sa(r,a),aa(a),d&4&&(xr(3,a,a.return),Fo(3,a),xr(5,a,a.return));break;case 1:sa(r,a),aa(a),d&512&&(us||l===null||un(l,l.return)),d&64&&qn&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var x=Ya;if(sa(r,a),aa(a),d&512&&(us||l===null||un(l,l.return)),d&4){var g=l!==null?l.memoizedState:null;if(d=a.memoizedState,l===null)if(d===null)if(a.stateNode===null){e:{d=a.type,l=a.memoizedProps,x=x.ownerDocument||x;t:switch(d){case"title":g=x.getElementsByTagName("title")[0],(!g||g[ho]||g[Ts]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=x.createElement(d),x.head.insertBefore(g,x.querySelector("head > title"))),Ms(g,d,l),g[Ts]=a,Ss(g),d=g;break e;case"link":var k=vv("link","href",x).get(d+(l.href||""));if(k){for(var D=0;D<k.length;D++)if(g=k[D],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){k.splice(D,1);break t}}g=x.createElement(d),Ms(g,d,l),x.head.appendChild(g);break;case"meta":if(k=vv("meta","content",x).get(d+(l.content||""))){for(D=0;D<k.length;D++)if(g=k[D],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){k.splice(D,1);break t}}g=x.createElement(d),Ms(g,d,l),x.head.appendChild(g);break;default:throw Error(i(468,d))}g[Ts]=a,Ss(g),d=g}a.stateNode=d}else jv(x,a.type,a.stateNode);else a.stateNode=yv(x,d,a.memoizedProps);else g!==d?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,d===null?jv(x,a.type,a.stateNode):yv(x,d,a.memoizedProps)):d===null&&a.stateNode!==null&&Bh(a,a.memoizedProps,l.memoizedProps)}break;case 27:sa(r,a),aa(a),d&512&&(us||l===null||un(l,l.return)),l!==null&&d&4&&Bh(a,a.memoizedProps,l.memoizedProps);break;case 5:if(sa(r,a),aa(a),d&512&&(us||l===null||un(l,l.return)),a.flags&32){x=a.stateNode;try{Yi(x,"")}catch(Oe){Ot(a,a.return,Oe)}}d&4&&a.stateNode!=null&&(x=a.memoizedProps,Bh(a,x,l!==null?l.memoizedProps:x)),d&1024&&($h=!0);break;case 6:if(sa(r,a),aa(a),d&4){if(a.stateNode===null)throw Error(i(162));d=a.memoizedProps,l=a.stateNode;try{l.nodeValue=d}catch(Oe){Ot(a,a.return,Oe)}}break;case 3:if(Hd=null,x=Ya,Ya=Bd(r.containerInfo),sa(r,a),Ya=x,aa(a),d&4&&l!==null&&l.memoizedState.isDehydrated)try{kl(r.containerInfo)}catch(Oe){Ot(a,a.return,Oe)}$h&&($h=!1,jy(a));break;case 4:d=Ya,Ya=Bd(a.stateNode.containerInfo),sa(r,a),aa(a),Ya=d;break;case 12:sa(r,a),aa(a);break;case 31:sa(r,a),aa(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Ad(a,d)));break;case 13:sa(r,a),aa(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Td=Se()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Ad(a,d)));break;case 22:x=a.memoizedState!==null;var K=l!==null&&l.memoizedState!==null,ne=qn,ge=us;if(qn=ne||x,us=ge||K,sa(r,a),us=ge,qn=ne,aa(a),d&8192)e:for(r=a.stateNode,r._visibility=x?r._visibility&-2:r._visibility|1,x&&(l===null||K||qn||us||li(a)),l=null,r=a;;){if(r.tag===5||r.tag===26){if(l===null){K=l=r;try{if(g=K.stateNode,x)k=g.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{D=K.stateNode;var je=K.memoizedProps.style,re=je!=null&&je.hasOwnProperty("display")?je.display:null;D.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Oe){Ot(K,K.return,Oe)}}}else if(r.tag===6){if(l===null){K=r;try{K.stateNode.nodeValue=x?"":K.memoizedProps}catch(Oe){Ot(K,K.return,Oe)}}}else if(r.tag===18){if(l===null){K=r;try{var ue=K.stateNode;x?cv(ue,!0):cv(K.stateNode,!1)}catch(Oe){Ot(K,K.return,Oe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===a)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}d&4&&(d=a.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Ad(a,l))));break;case 19:sa(r,a),aa(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,Ad(a,d)));break;case 30:break;case 21:break;default:sa(r,a),aa(a)}}function aa(a){var r=a.flags;if(r&2){try{for(var l,d=a.return;d!==null;){if(uy(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var x=l.stateNode,g=Vh(a);Ed(a,g,x);break;case 5:var k=l.stateNode;l.flags&32&&(Yi(k,""),l.flags&=-33);var D=Vh(a);Ed(a,D,k);break;case 3:case 4:var K=l.stateNode.containerInfo,ne=Vh(a);Hh(a,ne,K);break;default:throw Error(i(161))}}catch(ge){Ot(a,a.return,ge)}a.flags&=-3}r&4096&&(a.flags&=-4097)}function jy(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var r=a;jy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),a=a.sibling}}function Bn(a,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)fy(a,r.alternate,r),r=r.sibling}function li(a){for(a=a.child;a!==null;){var r=a;switch(r.tag){case 0:case 11:case 14:case 15:xr(4,r,r.return),li(r);break;case 1:un(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&cy(r,r.return,l),li(r);break;case 27:Yo(r.stateNode);case 26:case 5:un(r,r.return),li(r);break;case 22:r.memoizedState===null&&li(r);break;case 30:li(r);break;default:li(r)}a=a.sibling}}function Vn(a,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var d=r.alternate,x=a,g=r,k=g.flags;switch(g.tag){case 0:case 11:case 15:Vn(x,g,l),Fo(4,g);break;case 1:if(Vn(x,g,l),d=g,x=d.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ne){Ot(d,d.return,ne)}if(d=g,x=d.updateQueue,x!==null){var D=d.stateNode;try{var K=x.shared.hiddenCallbacks;if(K!==null)for(x.shared.hiddenCallbacks=null,x=0;x<K.length;x++)Wg(K[x],D)}catch(ne){Ot(d,d.return,ne)}}l&&k&64&&oy(g),qo(g,g.return);break;case 27:my(g);case 26:case 5:Vn(x,g,l),l&&d===null&&k&4&&dy(g),qo(g,g.return);break;case 12:Vn(x,g,l);break;case 31:Vn(x,g,l),l&&k&4&&gy(x,g);break;case 13:Vn(x,g,l),l&&k&4&&yy(x,g);break;case 22:g.memoizedState===null&&Vn(x,g,l),qo(g,g.return);break;case 30:break;default:Vn(x,g,l)}r=r.sibling}}function Kh(a,r){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&ko(l))}function Qh(a,r){a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&ko(a))}function Za(a,r,l,d){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)by(a,r,l,d),r=r.sibling}function by(a,r,l,d){var x=r.flags;switch(r.tag){case 0:case 11:case 15:Za(a,r,l,d),x&2048&&Fo(9,r);break;case 1:Za(a,r,l,d);break;case 3:Za(a,r,l,d),x&2048&&(a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==a&&(r.refCount++,a!=null&&ko(a)));break;case 12:if(x&2048){Za(a,r,l,d),a=r.stateNode;try{var g=r.memoizedProps,k=g.id,D=g.onPostCommit;typeof D=="function"&&D(k,r.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){Ot(r,r.return,K)}}else Za(a,r,l,d);break;case 31:Za(a,r,l,d);break;case 13:Za(a,r,l,d);break;case 23:break;case 22:g=r.stateNode,k=r.alternate,r.memoizedState!==null?g._visibility&2?Za(a,r,l,d):zo(a,r):g._visibility&2?Za(a,r,l,d):(g._visibility|=2,xl(a,r,l,d,(r.subtreeFlags&10256)!==0||!1)),x&2048&&Kh(k,r);break;case 24:Za(a,r,l,d),x&2048&&Qh(r.alternate,r);break;default:Za(a,r,l,d)}}function xl(a,r,l,d,x){for(x=x&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=a,k=r,D=l,K=d,ne=k.flags;switch(k.tag){case 0:case 11:case 15:xl(g,k,D,K,x),Fo(8,k);break;case 23:break;case 22:var ge=k.stateNode;k.memoizedState!==null?ge._visibility&2?xl(g,k,D,K,x):zo(g,k):(ge._visibility|=2,xl(g,k,D,K,x)),x&&ne&2048&&Kh(k.alternate,k);break;case 24:xl(g,k,D,K,x),x&&ne&2048&&Qh(k.alternate,k);break;default:xl(g,k,D,K,x)}r=r.sibling}}function zo(a,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=a,d=r,x=d.flags;switch(d.tag){case 22:zo(l,d),x&2048&&Kh(d.alternate,d);break;case 24:zo(l,d),x&2048&&Qh(d.alternate,d);break;default:zo(l,d)}r=r.sibling}}var Bo=8192;function pl(a,r,l){if(a.subtreeFlags&Bo)for(a=a.child;a!==null;)Ny(a,r,l),a=a.sibling}function Ny(a,r,l){switch(a.tag){case 26:pl(a,r,l),a.flags&Bo&&a.memoizedState!==null&&zC(l,Ya,a.memoizedState,a.memoizedProps);break;case 5:pl(a,r,l);break;case 3:case 4:var d=Ya;Ya=Bd(a.stateNode.containerInfo),pl(a,r,l),Ya=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=Bo,Bo=16777216,pl(a,r,l),Bo=d):pl(a,r,l));break;default:pl(a,r,l)}}function wy(a){var r=a.alternate;if(r!==null&&(a=r.child,a!==null)){r.child=null;do r=a.sibling,a.sibling=null,a=r;while(a!==null)}}function Vo(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Cs=d,Cy(d,a)}wy(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Sy(a),a=a.sibling}function Sy(a){switch(a.tag){case 0:case 11:case 15:Vo(a),a.flags&2048&&xr(9,a,a.return);break;case 3:Vo(a);break;case 12:Vo(a);break;case 22:var r=a.stateNode;a.memoizedState!==null&&r._visibility&2&&(a.return===null||a.return.tag!==13)?(r._visibility&=-3,_d(a)):Vo(a);break;default:Vo(a)}}function _d(a){var r=a.deletions;if((a.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var d=r[l];Cs=d,Cy(d,a)}wy(a)}for(a=a.child;a!==null;){switch(r=a,r.tag){case 0:case 11:case 15:xr(8,r,r.return),_d(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,_d(r));break;default:_d(r)}a=a.sibling}}function Cy(a,r){for(;Cs!==null;){var l=Cs;switch(l.tag){case 0:case 11:case 15:xr(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ko(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Cs=d;else e:for(l=a;Cs!==null;){d=Cs;var x=d.sibling,g=d.return;if(xy(d),d===l){Cs=null;break e}if(x!==null){x.return=g,Cs=x;break e}Cs=g}}}var sC={getCacheForType:function(a){var r=Ds(os),l=r.data.get(a);return l===void 0&&(l=a(),r.data.set(a,l)),l},cacheSignal:function(){return Ds(os).controller.signal}},aC=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Pt=null,xt=null,vt=0,Dt=0,ja=null,pr=!1,gl=!1,Gh=!1,Hn=0,Xt=0,gr=0,oi=0,Yh=0,ba=0,yl=0,Ho=null,na=null,Zh=!1,Td=0,ky=0,Rd=1/0,Dd=null,yr=null,gs=0,vr=null,vl=null,$n=0,Wh=0,Xh=null,Ey=null,$o=0,Jh=null;function Na(){return(Rt&2)!==0&&vt!==0?vt&-vt:O.T!==null?rf():Vp()}function Ay(){if(ba===0)if((vt&536870912)===0||Nt){var a=Bi;Bi<<=1,(Bi&3932160)===0&&(Bi=262144),ba=a}else ba=536870912;return a=ya.current,a!==null&&(a.flags|=32),ba}function ra(a,r,l){(a===Pt&&(Dt===2||Dt===9)||a.cancelPendingCommit!==null)&&(jl(a,0),jr(a,vt,ba,!1)),Xs(a,l),((Rt&2)===0||a!==Pt)&&(a===Pt&&((Rt&2)===0&&(oi|=l),Xt===4&&jr(a,vt,ba,!1)),mn(a))}function _y(a,r,l){if((Rt&6)!==0)throw Error(i(327));var d=!l&&(r&127)===0&&(r&a.expiredLanes)===0||Tt(a,r),x=d?iC(a,r):tf(a,r,!0),g=d;do{if(x===0){gl&&!d&&jr(a,r,0,!1);break}else{if(l=a.current.alternate,g&&!nC(l)){x=tf(a,r,!1),g=!1;continue}if(x===2){if(g=r,a.errorRecoveryDisabledLanes&g)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){r=k;e:{var D=a;x=Ho;var K=D.current.memoizedState.isDehydrated;if(K&&(jl(D,k).flags|=256),k=tf(D,k,!1),k!==2){if(Gh&&!K){D.errorRecoveryDisabledLanes|=g,oi|=g,x=4;break e}g=na,na=x,g!==null&&(na===null?na=g:na.push.apply(na,g))}x=k}if(g=!1,x!==2)continue}}if(x===1){jl(a,0),jr(a,r,0,!0);break}e:{switch(d=a,g=x,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:jr(d,r,ba,!pr);break e;case 2:na=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(x=Td+300-Se(),10<x)){if(jr(d,r,ba,!pr),mt(d,0,!0)!==0)break e;$n=r,d.timeoutHandle=iv(Ty.bind(null,d,l,na,Dd,Zh,r,ba,oi,yl,pr,g,"Throttled",-0,0),x);break e}Ty(d,l,na,Dd,Zh,r,ba,oi,yl,pr,g,null,-0,0)}}break}while(!0);mn(a)}function Ty(a,r,l,d,x,g,k,D,K,ne,ge,je,re,ue){if(a.timeoutHandle=-1,je=r.subtreeFlags,je&8192||(je&16785408)===16785408){je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tn},Ny(r,g,je);var Oe=(g&62914560)===g?Td-Se():(g&4194048)===g?ky-Se():0;if(Oe=BC(je,Oe),Oe!==null){$n=g,a.cancelPendingCommit=Oe(Uy.bind(null,a,r,g,l,d,x,k,D,K,ge,je,null,re,ue)),jr(a,g,k,!ne);return}}Uy(a,r,g,l,d,x,k,D,K)}function nC(a){for(var r=a;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var x=l[d],g=x.getSnapshot;x=x.value;try{if(!pa(g(),x))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===a)break;for(;r.sibling===null;){if(r.return===null||r.return===a)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jr(a,r,l,d){r&=~Yh,r&=~oi,a.suspendedLanes|=r,a.pingedLanes&=~r,d&&(a.warmLanes|=r),d=a.expirationTimes;for(var x=r;0<x;){var g=31-Kt(x),k=1<<g;d[g]=-1,x&=~k}l!==0&&Bc(a,l,r)}function Od(){return(Rt&6)===0?(Ko(0),!1):!0}function ef(){if(xt!==null){if(Dt===0)var a=xt.return;else a=xt,Mn=Jr=null,ph(a),dl=null,Ao=0,a=xt;for(;a!==null;)ly(a.alternate,a),a=a.return;xt=null}}function jl(a,r){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,SC(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),$n=0,ef(),Pt=a,xt=l=Dn(a.current,null),vt=r,Dt=0,ja=null,pr=!1,gl=Tt(a,r),Gh=!1,yl=ba=Yh=oi=gr=Xt=0,na=Ho=null,Zh=!1,(r&8)!==0&&(r|=r&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=r;0<d;){var x=31-Kt(d),g=1<<x;r|=a[x],d&=~g}return Hn=r,ed(),l}function Ry(a,r){rt=null,O.H=Lo,r===cl||r===od?(r=Qg(),Dt=3):r===nh?(r=Qg(),Dt=4):Dt=r===Dh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ja=r,xt===null&&(Xt=1,Nd(a,Ia(r,a.current)))}function Dy(){var a=ya.current;return a===null?!0:(vt&4194048)===vt?Fa===null:(vt&62914560)===vt||(vt&536870912)!==0?a===Fa:!1}function Oy(){var a=O.H;return O.H=Lo,a===null?Lo:a}function My(){var a=O.A;return O.A=sC,a}function Md(){Xt=4,pr||(vt&4194048)!==vt&&ya.current!==null||(gl=!0),(gr&134217727)===0&&(oi&134217727)===0||Pt===null||jr(Pt,vt,ba,!1)}function tf(a,r,l){var d=Rt;Rt|=2;var x=Oy(),g=My();(Pt!==a||vt!==r)&&(Dd=null,jl(a,r)),r=!1;var k=Xt;e:do try{if(Dt!==0&&xt!==null){var D=xt,K=ja;switch(Dt){case 8:ef(),k=6;break e;case 3:case 2:case 9:case 6:ya.current===null&&(r=!0);var ne=Dt;if(Dt=0,ja=null,bl(a,D,K,ne),l&&gl){k=0;break e}break;default:ne=Dt,Dt=0,ja=null,bl(a,D,K,ne)}}rC(),k=Xt;break}catch(ge){Ry(a,ge)}while(!0);return r&&a.shellSuspendCounter++,Mn=Jr=null,Rt=d,O.H=x,O.A=g,xt===null&&(Pt=null,vt=0,ed()),k}function rC(){for(;xt!==null;)Iy(xt)}function iC(a,r){var l=Rt;Rt|=2;var d=Oy(),x=My();Pt!==a||vt!==r?(Dd=null,Rd=Se()+500,jl(a,r)):gl=Tt(a,r);e:do try{if(Dt!==0&&xt!==null){r=xt;var g=ja;t:switch(Dt){case 1:Dt=0,ja=null,bl(a,r,g,1);break;case 2:case 9:if($g(g)){Dt=0,ja=null,Ly(r);break}r=function(){Dt!==2&&Dt!==9||Pt!==a||(Dt=7),mn(a)},g.then(r,r);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:$g(g)?(Dt=0,ja=null,Ly(r)):(Dt=0,ja=null,bl(a,r,g,7));break;case 5:var k=null;switch(xt.tag){case 26:k=xt.memoizedState;case 5:case 27:var D=xt;if(k?bv(k):D.stateNode.complete){Dt=0,ja=null;var K=D.sibling;if(K!==null)xt=K;else{var ne=D.return;ne!==null?(xt=ne,Id(ne)):xt=null}break t}}Dt=0,ja=null,bl(a,r,g,5);break;case 6:Dt=0,ja=null,bl(a,r,g,6);break;case 8:ef(),Xt=6;break e;default:throw Error(i(462))}}lC();break}catch(ge){Ry(a,ge)}while(!0);return Mn=Jr=null,O.H=d,O.A=x,Rt=l,xt!==null?0:(Pt=null,vt=0,ed(),Xt)}function lC(){for(;xt!==null&&!xe();)Iy(xt)}function Iy(a){var r=ry(a.alternate,a,Hn);a.memoizedProps=a.pendingProps,r===null?Id(a):xt=r}function Ly(a){var r=a,l=r.alternate;switch(r.tag){case 15:case 0:r=J0(l,r,r.pendingProps,r.type,void 0,vt);break;case 11:r=J0(l,r,r.pendingProps,r.type.render,r.ref,vt);break;case 5:ph(r);default:ly(l,r),r=xt=Mg(r,Hn),r=ry(l,r,Hn)}a.memoizedProps=a.pendingProps,r===null?Id(a):xt=r}function bl(a,r,l,d){Mn=Jr=null,ph(r),dl=null,Ao=0;var x=r.return;try{if(YS(a,x,r,l,vt)){Xt=1,Nd(a,Ia(l,a.current)),xt=null;return}}catch(g){if(x!==null)throw xt=x,g;Xt=1,Nd(a,Ia(l,a.current)),xt=null;return}r.flags&32768?(Nt||d===1?a=!0:gl||(vt&536870912)!==0?a=!1:(pr=a=!0,(d===2||d===9||d===3||d===6)&&(d=ya.current,d!==null&&d.tag===13&&(d.flags|=16384))),Py(r,a)):Id(r)}function Id(a){var r=a;do{if((r.flags&32768)!==0){Py(r,pr);return}a=r.return;var l=XS(r.alternate,r,Hn);if(l!==null){xt=l;return}if(r=r.sibling,r!==null){xt=r;return}xt=r=a}while(r!==null);Xt===0&&(Xt=5)}function Py(a,r){do{var l=JS(a.alternate,a);if(l!==null){l.flags&=32767,xt=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(a=a.sibling,a!==null)){xt=a;return}xt=a=l}while(a!==null);Xt=6,xt=null}function Uy(a,r,l,d,x,g,k,D,K){a.cancelPendingCommit=null;do Ld();while(gs!==0);if((Rt&6)!==0)throw Error(i(327));if(r!==null){if(r===a.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=Vm,zc(a,l,g,k,D,K),a===Pt&&(xt=Pt=null,vt=0),vl=r,vr=a,$n=l,Wh=g,Xh=x,Ey=d,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,uC(bt,function(){return Vy(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||d){d=O.T,O.T=null,x=P.p,P.p=2,k=Rt,Rt|=4;try{eC(a,r,l)}finally{Rt=k,P.p=x,O.T=d}}gs=1,Fy(),qy(),zy()}}function Fy(){if(gs===1){gs=0;var a=vr,r=vl,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=O.T,O.T=null;var d=P.p;P.p=2;var x=Rt;Rt|=4;try{vy(r,a);var g=ff,k=Cg(a.containerInfo),D=g.focusedElem,K=g.selectionRange;if(k!==D&&D&&D.ownerDocument&&Sg(D.ownerDocument.documentElement,D)){if(K!==null&&Um(D)){var ne=K.start,ge=K.end;if(ge===void 0&&(ge=ne),"selectionStart"in D)D.selectionStart=ne,D.selectionEnd=Math.min(ge,D.value.length);else{var je=D.ownerDocument||document,re=je&&je.defaultView||window;if(re.getSelection){var ue=re.getSelection(),Oe=D.textContent.length,Ge=Math.min(K.start,Oe),Lt=K.end===void 0?Ge:Math.min(K.end,Oe);!ue.extend&&Ge>Lt&&(k=Lt,Lt=Ge,Ge=k);var J=wg(D,Ge),Y=wg(D,Lt);if(J&&Y&&(ue.rangeCount!==1||ue.anchorNode!==J.node||ue.anchorOffset!==J.offset||ue.focusNode!==Y.node||ue.focusOffset!==Y.offset)){var se=je.createRange();se.setStart(J.node,J.offset),ue.removeAllRanges(),Ge>Lt?(ue.addRange(se),ue.extend(Y.node,Y.offset)):(se.setEnd(Y.node,Y.offset),ue.addRange(se))}}}}for(je=[],ue=D;ue=ue.parentNode;)ue.nodeType===1&&je.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<je.length;D++){var ve=je[D];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Gd=!!hf,ff=hf=null}finally{Rt=x,P.p=d,O.T=l}}a.current=r,gs=2}}function qy(){if(gs===2){gs=0;var a=vr,r=vl,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=O.T,O.T=null;var d=P.p;P.p=2;var x=Rt;Rt|=4;try{fy(a,r.alternate,r)}finally{Rt=x,P.p=d,O.T=l}}gs=3}}function zy(){if(gs===4||gs===3){gs=0,_e();var a=vr,r=vl,l=$n,d=Ey;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?gs=5:(gs=0,vl=vr=null,By(a,a.pendingLanes));var x=a.pendingLanes;if(x===0&&(yr=null),vm(l),r=r.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(ie,r,void 0,(r.current.flags&128)===128)}catch{}if(d!==null){r=O.T,x=P.p,P.p=2,O.T=null;try{for(var g=a.onRecoverableError,k=0;k<d.length;k++){var D=d[k];g(D.value,{componentStack:D.stack})}}finally{O.T=r,P.p=x}}($n&3)!==0&&Ld(),mn(a),x=a.pendingLanes,(l&261930)!==0&&(x&42)!==0?a===Jh?$o++:($o=0,Jh=a):$o=0,Ko(0)}}function By(a,r){(a.pooledCacheLanes&=r)===0&&(r=a.pooledCache,r!=null&&(a.pooledCache=null,ko(r)))}function Ld(){return Fy(),qy(),zy(),Vy()}function Vy(){if(gs!==5)return!1;var a=vr,r=Wh;Wh=0;var l=vm($n),d=O.T,x=P.p;try{P.p=32>l?32:l,O.T=null,l=Xh,Xh=null;var g=vr,k=$n;if(gs=0,vl=vr=null,$n=0,(Rt&6)!==0)throw Error(i(331));var D=Rt;if(Rt|=4,Sy(g.current),by(g,g.current,k,l),Rt=D,Ko(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(ie,g)}catch{}return!0}finally{P.p=x,O.T=d,By(a,r)}}function Hy(a,r,l){r=Ia(l,r),r=Rh(a.stateNode,r,2),a=mr(a,r,2),a!==null&&(Xs(a,2),mn(a))}function Ot(a,r,l){if(a.tag===3)Hy(a,a,l);else for(;r!==null;){if(r.tag===3){Hy(r,a,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(yr===null||!yr.has(d))){a=Ia(l,a),l=$0(2),d=mr(r,l,2),d!==null&&(K0(l,d,r,a),Xs(d,2),mn(d));break}}r=r.return}}function sf(a,r,l){var d=a.pingCache;if(d===null){d=a.pingCache=new aC;var x=new Set;d.set(r,x)}else x=d.get(r),x===void 0&&(x=new Set,d.set(r,x));x.has(l)||(Gh=!0,x.add(l),a=oC.bind(null,a,r,l),r.then(a,a))}function oC(a,r,l){var d=a.pingCache;d!==null&&d.delete(r),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,Pt===a&&(vt&l)===l&&(Xt===4||Xt===3&&(vt&62914560)===vt&&300>Se()-Td?(Rt&2)===0&&jl(a,0):Yh|=l,yl===vt&&(yl=0)),mn(a)}function $y(a,r){r===0&&(r=Qt()),a=Zr(a,r),a!==null&&(Xs(a,r),mn(a))}function cC(a){var r=a.memoizedState,l=0;r!==null&&(l=r.retryLane),$y(a,l)}function dC(a,r){var l=0;switch(a.tag){case 31:case 13:var d=a.stateNode,x=a.memoizedState;x!==null&&(l=x.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(r),$y(a,l)}function uC(a,r){return Q(a,r)}var Pd=null,Nl=null,af=!1,Ud=!1,nf=!1,br=0;function mn(a){a!==Nl&&a.next===null&&(Nl===null?Pd=Nl=a:Nl=Nl.next=a),Ud=!0,af||(af=!0,hC())}function Ko(a,r){if(!nf&&Ud){nf=!0;do for(var l=!1,d=Pd;d!==null;){if(a!==0){var x=d.pendingLanes;if(x===0)var g=0;else{var k=d.suspendedLanes,D=d.pingedLanes;g=(1<<31-Kt(42|a)+1)-1,g&=x&~(k&~D),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,Yy(d,g))}else g=vt,g=mt(d,d===Pt?g:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(g&3)===0||Tt(d,g)||(l=!0,Yy(d,g));d=d.next}while(l);nf=!1}}function mC(){Ky()}function Ky(){Ud=af=!1;var a=0;br!==0&&wC()&&(a=br);for(var r=Se(),l=null,d=Pd;d!==null;){var x=d.next,g=Qy(d,r);g===0?(d.next=null,l===null?Pd=x:l.next=x,x===null&&(Nl=l)):(l=d,(a!==0||(g&3)!==0)&&(Ud=!0)),d=x}gs!==0&&gs!==5||Ko(a),br!==0&&(br=0)}function Qy(a,r){for(var l=a.suspendedLanes,d=a.pingedLanes,x=a.expirationTimes,g=a.pendingLanes&-62914561;0<g;){var k=31-Kt(g),D=1<<k,K=x[k];K===-1?((D&l)===0||(D&d)!==0)&&(x[k]=yt(D,r)):K<=r&&(a.expiredLanes|=D),g&=~D}if(r=Pt,l=vt,l=mt(a,a===r?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,l===0||a===r&&(Dt===2||Dt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&ae(d),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Tt(a,l)){if(r=l&-l,r===a.callbackPriority)return r;switch(d!==null&&ae(d),vm(l)){case 2:case 8:l=ft;break;case 32:l=bt;break;case 268435456:l=Ks;break;default:l=bt}return d=Gy.bind(null,a),l=Q(l,d),a.callbackPriority=r,a.callbackNode=l,r}return d!==null&&d!==null&&ae(d),a.callbackPriority=2,a.callbackNode=null,2}function Gy(a,r){if(gs!==0&&gs!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(Ld()&&a.callbackNode!==l)return null;var d=vt;return d=mt(a,a===Pt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(_y(a,d,r),Qy(a,Se()),a.callbackNode!=null&&a.callbackNode===l?Gy.bind(null,a):null)}function Yy(a,r){if(Ld())return null;_y(a,r,!0)}function hC(){CC(function(){(Rt&6)!==0?Q(Ue,mC):Ky()})}function rf(){if(br===0){var a=ll;a===0&&(a=zi,zi<<=1,(zi&261888)===0&&(zi=256)),br=a}return br}function Zy(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Kc(""+a)}function Wy(a,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,a.id&&l.setAttribute("form",a.id),r.parentNode.insertBefore(l,r),a=new FormData(a),l.parentNode.removeChild(l),a}function fC(a,r,l,d,x){if(r==="submit"&&l&&l.stateNode===x){var g=Zy((x[Js]||null).action),k=d.submitter;k&&(r=(r=k[Js]||null)?Zy(r.formAction):k.getAttribute("formAction"),r!==null&&(g=r,k=null));var D=new Zc("action","action",null,d,x);a.push({event:D,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(br!==0){var K=k?Wy(x,k):new FormData(x);Ch(l,{pending:!0,data:K,method:x.method,action:g},null,K)}}else typeof g=="function"&&(D.preventDefault(),K=k?Wy(x,k):new FormData(x),Ch(l,{pending:!0,data:K,method:x.method,action:g},g,K))},currentTarget:x}]})}}for(var lf=0;lf<Bm.length;lf++){var of=Bm[lf],xC=of.toLowerCase(),pC=of[0].toUpperCase()+of.slice(1);Ga(xC,"on"+pC)}Ga(Ag,"onAnimationEnd"),Ga(_g,"onAnimationIteration"),Ga(Tg,"onAnimationStart"),Ga("dblclick","onDoubleClick"),Ga("focusin","onFocus"),Ga("focusout","onBlur"),Ga(DS,"onTransitionRun"),Ga(OS,"onTransitionStart"),Ga(MS,"onTransitionCancel"),Ga(Rg,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qo));function Xy(a,r){r=(r&4)!==0;for(var l=0;l<a.length;l++){var d=a[l],x=d.event;d=d.listeners;e:{var g=void 0;if(r)for(var k=d.length-1;0<=k;k--){var D=d[k],K=D.instance,ne=D.currentTarget;if(D=D.listener,K!==g&&x.isPropagationStopped())break e;g=D,x.currentTarget=ne;try{g(x)}catch(ge){Jc(ge)}x.currentTarget=null,g=K}else for(k=0;k<d.length;k++){if(D=d[k],K=D.instance,ne=D.currentTarget,D=D.listener,K!==g&&x.isPropagationStopped())break e;g=D,x.currentTarget=ne;try{g(x)}catch(ge){Jc(ge)}x.currentTarget=null,g=K}}}}function pt(a,r){var l=r[jm];l===void 0&&(l=r[jm]=new Set);var d=a+"__bubble";l.has(d)||(Jy(r,a,2,!1),l.add(d))}function cf(a,r,l){var d=0;r&&(d|=4),Jy(l,a,d,r)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function df(a){if(!a[Fd]){a[Fd]=!0,Kp.forEach(function(l){l!=="selectionchange"&&(gC.has(l)||cf(l,!1,a),cf(l,!0,a))});var r=a.nodeType===9?a:a.ownerDocument;r===null||r[Fd]||(r[Fd]=!0,cf("selectionchange",!1,r))}}function Jy(a,r,l,d){switch(Av(r)){case 2:var x=$C;break;case 8:x=KC;break;default:x=Cf}l=x.bind(null,r,l,a),x=void 0,!_m||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(x=!0),d?x!==void 0?a.addEventListener(r,l,{capture:!0,passive:x}):a.addEventListener(r,l,!0):x!==void 0?a.addEventListener(r,l,{passive:x}):a.addEventListener(r,l,!1)}function uf(a,r,l,d,x){var g=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var k=d.tag;if(k===3||k===4){var D=d.stateNode.containerInfo;if(D===x)break;if(k===4)for(k=d.return;k!==null;){var K=k.tag;if((K===3||K===4)&&k.stateNode.containerInfo===x)return;k=k.return}for(;D!==null;){if(k=Hi(D),k===null)return;if(K=k.tag,K===5||K===6||K===26||K===27){d=g=k;continue e}D=D.parentNode}}d=d.return}ng(function(){var ne=g,ge=Em(l),je=[];e:{var re=Dg.get(a);if(re!==void 0){var ue=Zc,Oe=a;switch(a){case"keypress":if(Gc(l)===0)break e;case"keydown":case"keyup":ue=dS;break;case"focusin":Oe="focus",ue=Om;break;case"focusout":Oe="blur",ue=Om;break;case"beforeblur":case"afterblur":ue=Om;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=lg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=X2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=hS;break;case Ag:case _g:case Tg:ue=tS;break;case Rg:ue=xS;break;case"scroll":case"scrollend":ue=Z2;break;case"wheel":ue=gS;break;case"copy":case"cut":case"paste":ue=aS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=cg;break;case"toggle":case"beforetoggle":ue=vS}var Ge=(r&4)!==0,Lt=!Ge&&(a==="scroll"||a==="scrollend"),J=Ge?re!==null?re+"Capture":null:re;Ge=[];for(var Y=ne,se;Y!==null;){var ve=Y;if(se=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||se===null||J===null||(ve=xo(Y,J),ve!=null&&Ge.push(Go(Y,ve,se))),Lt)break;Y=Y.return}0<Ge.length&&(re=new ue(re,Oe,null,l,ge),je.push({event:re,listeners:Ge}))}}if((r&7)===0){e:{if(re=a==="mouseover"||a==="pointerover",ue=a==="mouseout"||a==="pointerout",re&&l!==km&&(Oe=l.relatedTarget||l.fromElement)&&(Hi(Oe)||Oe[Vi]))break e;if((ue||re)&&(re=ge.window===ge?ge:(re=ge.ownerDocument)?re.defaultView||re.parentWindow:window,ue?(Oe=l.relatedTarget||l.toElement,ue=ne,Oe=Oe?Hi(Oe):null,Oe!==null&&(Lt=c(Oe),Ge=Oe.tag,Oe!==Lt||Ge!==5&&Ge!==27&&Ge!==6)&&(Oe=null)):(ue=null,Oe=ne),ue!==Oe)){if(Ge=lg,ve="onMouseLeave",J="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Ge=cg,ve="onPointerLeave",J="onPointerEnter",Y="pointer"),Lt=ue==null?re:fo(ue),se=Oe==null?re:fo(Oe),re=new Ge(ve,Y+"leave",ue,l,ge),re.target=Lt,re.relatedTarget=se,ve=null,Hi(ge)===ne&&(Ge=new Ge(J,Y+"enter",Oe,l,ge),Ge.target=se,Ge.relatedTarget=Lt,ve=Ge),Lt=ve,ue&&Oe)t:{for(Ge=yC,J=ue,Y=Oe,se=0,ve=J;ve;ve=Ge(ve))se++;ve=0;for(var Ke=Y;Ke;Ke=Ge(Ke))ve++;for(;0<se-ve;)J=Ge(J),se--;for(;0<ve-se;)Y=Ge(Y),ve--;for(;se--;){if(J===Y||Y!==null&&J===Y.alternate){Ge=J;break t}J=Ge(J),Y=Ge(Y)}Ge=null}else Ge=null;ue!==null&&ev(je,re,ue,Ge,!1),Oe!==null&&Lt!==null&&ev(je,Lt,Oe,Ge,!0)}}e:{if(re=ne?fo(ne):window,ue=re.nodeName&&re.nodeName.toLowerCase(),ue==="select"||ue==="input"&&re.type==="file")var kt=gg;else if(xg(re))if(yg)kt=_S;else{kt=ES;var Be=kS}else ue=re.nodeName,!ue||ue.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&Cm(ne.elementType)&&(kt=gg):kt=AS;if(kt&&(kt=kt(a,ne))){pg(je,kt,l,ge);break e}Be&&Be(a,re,ne),a==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&Sm(re,"number",re.value)}switch(Be=ne?fo(ne):window,a){case"focusin":(xg(Be)||Be.contentEditable==="true")&&(Ji=Be,Fm=ne,wo=null);break;case"focusout":wo=Fm=Ji=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,kg(je,l,ge);break;case"selectionchange":if(RS)break;case"keydown":case"keyup":kg(je,l,ge)}var ot;if(Im)e:{switch(a){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else Xi?hg(a,l)&&(jt="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(jt="onCompositionStart");jt&&(dg&&l.locale!=="ko"&&(Xi||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Xi&&(ot=rg()):(rr=ge,Tm="value"in rr?rr.value:rr.textContent,Xi=!0)),Be=qd(ne,jt),0<Be.length&&(jt=new og(jt,a,null,l,ge),je.push({event:jt,listeners:Be}),ot?jt.data=ot:(ot=fg(l),ot!==null&&(jt.data=ot)))),(ot=bS?NS(a,l):wS(a,l))&&(jt=qd(ne,"onBeforeInput"),0<jt.length&&(Be=new og("onBeforeInput","beforeinput",null,l,ge),je.push({event:Be,listeners:jt}),Be.data=ot)),fC(je,a,ne,l,ge)}Xy(je,r)})}function Go(a,r,l){return{instance:a,listener:r,currentTarget:l}}function qd(a,r){for(var l=r+"Capture",d=[];a!==null;){var x=a,g=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||g===null||(x=xo(a,l),x!=null&&d.unshift(Go(a,x,g)),x=xo(a,r),x!=null&&d.push(Go(a,x,g))),a.tag===3)return d;a=a.return}return[]}function yC(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function ev(a,r,l,d,x){for(var g=r._reactName,k=[];l!==null&&l!==d;){var D=l,K=D.alternate,ne=D.stateNode;if(D=D.tag,K!==null&&K===d)break;D!==5&&D!==26&&D!==27||ne===null||(K=ne,x?(ne=xo(l,g),ne!=null&&k.unshift(Go(l,ne,K))):x||(ne=xo(l,g),ne!=null&&k.push(Go(l,ne,K)))),l=l.return}k.length!==0&&a.push({event:r,listeners:k})}var vC=/\r\n?/g,jC=/\u0000|\uFFFD/g;function tv(a){return(typeof a=="string"?a:""+a).replace(vC,`
`).replace(jC,"")}function sv(a,r){return r=tv(r),tv(a)===r}function It(a,r,l,d,x,g){switch(l){case"children":typeof d=="string"?r==="body"||r==="textarea"&&d===""||Yi(a,d):(typeof d=="number"||typeof d=="bigint")&&r!=="body"&&Yi(a,""+d);break;case"className":Hc(a,"class",d);break;case"tabIndex":Hc(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Hc(a,l,d);break;case"style":sg(a,d,g);break;case"data":if(r!=="object"){Hc(a,"data",d);break}case"src":case"href":if(d===""&&(r!=="a"||l!=="href")){a.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=Kc(""+d),a.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(r!=="input"&&It(a,r,"name",x.name,x,null),It(a,r,"formEncType",x.formEncType,x,null),It(a,r,"formMethod",x.formMethod,x,null),It(a,r,"formTarget",x.formTarget,x,null)):(It(a,r,"encType",x.encType,x,null),It(a,r,"method",x.method,x,null),It(a,r,"target",x.target,x,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(l);break}d=Kc(""+d),a.setAttribute(l,d);break;case"onClick":d!=null&&(a.onclick=Tn);break;case"onScroll":d!=null&&pt("scroll",a);break;case"onScrollEnd":d!=null&&pt("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(x.children!=null)throw Error(i(60));a.innerHTML=l}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}l=Kc(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""+d):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":d===!0?a.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(l,d):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(l,d):a.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(l):a.setAttribute(l,d);break;case"popover":pt("beforetoggle",a),pt("toggle",a),Vc(a,"popover",d);break;case"xlinkActuate":_n(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":_n(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":_n(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":_n(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":_n(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":_n(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":_n(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":_n(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":_n(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Vc(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=G2.get(l)||l,Vc(a,l,d))}}function mf(a,r,l,d,x,g){switch(l){case"style":sg(a,d,g);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(x.children!=null)throw Error(i(60));a.innerHTML=l}}break;case"children":typeof d=="string"?Yi(a,d):(typeof d=="number"||typeof d=="bigint")&&Yi(a,""+d);break;case"onScroll":d!=null&&pt("scroll",a);break;case"onScrollEnd":d!=null&&pt("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qp.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(x=l.endsWith("Capture"),r=l.slice(2,x?l.length-7:void 0),g=a[Js]||null,g=g!=null?g[l]:null,typeof g=="function"&&a.removeEventListener(r,g,x),typeof d=="function")){typeof g!="function"&&g!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(r,d,x);break e}l in a?a[l]=d:d===!0?a.setAttribute(l,""):Vc(a,l,d)}}}function Ms(a,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",a),pt("load",a);var d=!1,x=!1,g;for(g in l)if(l.hasOwnProperty(g)){var k=l[g];if(k!=null)switch(g){case"src":d=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:It(a,r,g,k,l,null)}}x&&It(a,r,"srcSet",l.srcSet,l,null),d&&It(a,r,"src",l.src,l,null);return;case"input":pt("invalid",a);var D=g=k=x=null,K=null,ne=null;for(d in l)if(l.hasOwnProperty(d)){var ge=l[d];if(ge!=null)switch(d){case"name":x=ge;break;case"type":k=ge;break;case"checked":K=ge;break;case"defaultChecked":ne=ge;break;case"value":g=ge;break;case"defaultValue":D=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(i(137,r));break;default:It(a,r,d,ge,l,null)}}Xp(a,g,D,K,ne,k,x,!1);return;case"select":pt("invalid",a),d=k=g=null;for(x in l)if(l.hasOwnProperty(x)&&(D=l[x],D!=null))switch(x){case"value":g=D;break;case"defaultValue":k=D;break;case"multiple":d=D;default:It(a,r,x,D,l,null)}r=g,l=k,a.multiple=!!d,r!=null?Gi(a,!!d,r,!1):l!=null&&Gi(a,!!d,l,!0);return;case"textarea":pt("invalid",a),g=x=d=null;for(k in l)if(l.hasOwnProperty(k)&&(D=l[k],D!=null))switch(k){case"value":d=D;break;case"defaultValue":x=D;break;case"children":g=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:It(a,r,k,D,l,null)}eg(a,d,x,g);return;case"option":for(K in l)if(l.hasOwnProperty(K)&&(d=l[K],d!=null))switch(K){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:It(a,r,K,d,l,null)}return;case"dialog":pt("beforetoggle",a),pt("toggle",a),pt("cancel",a),pt("close",a);break;case"iframe":case"object":pt("load",a);break;case"video":case"audio":for(d=0;d<Qo.length;d++)pt(Qo[d],a);break;case"image":pt("error",a),pt("load",a);break;case"details":pt("toggle",a);break;case"embed":case"source":case"link":pt("error",a),pt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in l)if(l.hasOwnProperty(ne)&&(d=l[ne],d!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:It(a,r,ne,d,l,null)}return;default:if(Cm(r)){for(ge in l)l.hasOwnProperty(ge)&&(d=l[ge],d!==void 0&&mf(a,r,ge,d,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(d=l[D],d!=null&&It(a,r,D,d,l,null))}function bC(a,r,l,d){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,g=null,k=null,D=null,K=null,ne=null,ge=null;for(ue in l){var je=l[ue];if(l.hasOwnProperty(ue)&&je!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":K=je;default:d.hasOwnProperty(ue)||It(a,r,ue,null,d,je)}}for(var re in d){var ue=d[re];if(je=l[re],d.hasOwnProperty(re)&&(ue!=null||je!=null))switch(re){case"type":g=ue;break;case"name":x=ue;break;case"checked":ne=ue;break;case"defaultChecked":ge=ue;break;case"value":k=ue;break;case"defaultValue":D=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,r));break;default:ue!==je&&It(a,r,re,ue,d,je)}}wm(a,k,D,K,ne,ge,g,x);return;case"select":ue=k=D=re=null;for(g in l)if(K=l[g],l.hasOwnProperty(g)&&K!=null)switch(g){case"value":break;case"multiple":ue=K;default:d.hasOwnProperty(g)||It(a,r,g,null,d,K)}for(x in d)if(g=d[x],K=l[x],d.hasOwnProperty(x)&&(g!=null||K!=null))switch(x){case"value":re=g;break;case"defaultValue":D=g;break;case"multiple":k=g;default:g!==K&&It(a,r,x,g,d,K)}r=D,l=k,d=ue,re!=null?Gi(a,!!l,re,!1):!!d!=!!l&&(r!=null?Gi(a,!!l,r,!0):Gi(a,!!l,l?[]:"",!1));return;case"textarea":ue=re=null;for(D in l)if(x=l[D],l.hasOwnProperty(D)&&x!=null&&!d.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:It(a,r,D,null,d,x)}for(k in d)if(x=d[k],g=l[k],d.hasOwnProperty(k)&&(x!=null||g!=null))switch(k){case"value":re=x;break;case"defaultValue":ue=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:x!==g&&It(a,r,k,x,d,g)}Jp(a,re,ue);return;case"option":for(var Oe in l)if(re=l[Oe],l.hasOwnProperty(Oe)&&re!=null&&!d.hasOwnProperty(Oe))switch(Oe){case"selected":a.selected=!1;break;default:It(a,r,Oe,null,d,re)}for(K in d)if(re=d[K],ue=l[K],d.hasOwnProperty(K)&&re!==ue&&(re!=null||ue!=null))switch(K){case"selected":a.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:It(a,r,K,re,d,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in l)re=l[Ge],l.hasOwnProperty(Ge)&&re!=null&&!d.hasOwnProperty(Ge)&&It(a,r,Ge,null,d,re);for(ne in d)if(re=d[ne],ue=l[ne],d.hasOwnProperty(ne)&&re!==ue&&(re!=null||ue!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,r));break;default:It(a,r,ne,re,d,ue)}return;default:if(Cm(r)){for(var Lt in l)re=l[Lt],l.hasOwnProperty(Lt)&&re!==void 0&&!d.hasOwnProperty(Lt)&&mf(a,r,Lt,void 0,d,re);for(ge in d)re=d[ge],ue=l[ge],!d.hasOwnProperty(ge)||re===ue||re===void 0&&ue===void 0||mf(a,r,ge,re,d,ue);return}}for(var J in l)re=l[J],l.hasOwnProperty(J)&&re!=null&&!d.hasOwnProperty(J)&&It(a,r,J,null,d,re);for(je in d)re=d[je],ue=l[je],!d.hasOwnProperty(je)||re===ue||re==null&&ue==null||It(a,r,je,re,d,ue)}function av(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NC(){if(typeof performance.getEntriesByType=="function"){for(var a=0,r=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var x=l[d],g=x.transferSize,k=x.initiatorType,D=x.duration;if(g&&D&&av(k)){for(k=0,D=x.responseEnd,d+=1;d<l.length;d++){var K=l[d],ne=K.startTime;if(ne>D)break;var ge=K.transferSize,je=K.initiatorType;ge&&av(je)&&(K=K.responseEnd,k+=ge*(K<D?1:(D-ne)/(K-ne)))}if(--d,r+=8*(g+k)/(x.duration/1e3),a++,10<a)break}}if(0<a)return r/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var hf=null,ff=null;function zd(a){return a.nodeType===9?a:a.ownerDocument}function nv(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(a,r){if(a===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&r==="foreignObject"?0:a}function xf(a,r){return a==="textarea"||a==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pf=null;function wC(){var a=window.event;return a&&a.type==="popstate"?a===pf?!1:(pf=a,!0):(pf=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,SC=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,CC=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(a){return lv.resolve(null).then(a).catch(kC)}:iv;function kC(a){setTimeout(function(){throw a})}function Nr(a){return a==="head"}function ov(a,r){var l=r,d=0;do{var x=l.nextSibling;if(a.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"||l==="/&"){if(d===0){a.removeChild(x),kl(r);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")Yo(a.ownerDocument.documentElement);else if(l==="head"){l=a.ownerDocument.head,Yo(l);for(var g=l.firstChild;g;){var k=g.nextSibling,D=g.nodeName;g[ho]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=k}}else l==="body"&&Yo(a.ownerDocument.body);l=x}while(l);kl(r)}function cv(a,r){var l=a;a=0;do{var d=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(a===0)break;a--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||a++;l=d}while(l)}function gf(a){var r=a.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":gf(l),bm(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function EC(a,r,l,d){for(;a.nodeType===1;){var x=l;if(a.nodeName.toLowerCase()!==r.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[ho])switch(r){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(g=a.getAttribute("rel"),g==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(g!==x.rel||a.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||a.getAttribute("title")!==(x.title==null?null:x.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(g=a.getAttribute("src"),(g!==(x.src==null?null:x.src)||a.getAttribute("type")!==(x.type==null?null:x.type)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&g&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(r==="input"&&a.type==="hidden"){var g=x.name==null?null:""+x.name;if(x.type==="hidden"&&a.getAttribute("name")===g)return a}else return a;if(a=qa(a.nextSibling),a===null)break}return null}function AC(a,r,l){if(r==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=qa(a.nextSibling),a===null))return null;return a}function dv(a,r){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!r||(a=qa(a.nextSibling),a===null))return null;return a}function yf(a){return a.data==="$?"||a.data==="$~"}function vf(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function _C(a,r){var l=a.ownerDocument;if(a.data==="$~")a._reactRetry=r;else if(a.data!=="$?"||l.readyState!=="loading")r();else{var d=function(){r(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function qa(a){for(;a!=null;a=a.nextSibling){var r=a.nodeType;if(r===1||r===3)break;if(r===8){if(r=a.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return a}var jf=null;function uv(a){a=a.nextSibling;for(var r=0;a;){if(a.nodeType===8){var l=a.data;if(l==="/$"||l==="/&"){if(r===0)return qa(a.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}a=a.nextSibling}return null}function mv(a){a=a.previousSibling;for(var r=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return a;r--}else l!=="/$"&&l!=="/&"||r++}a=a.previousSibling}return null}function hv(a,r,l){switch(r=zd(l),a){case"html":if(a=r.documentElement,!a)throw Error(i(452));return a;case"head":if(a=r.head,!a)throw Error(i(453));return a;case"body":if(a=r.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Yo(a){for(var r=a.attributes;r.length;)a.removeAttributeNode(r[0]);bm(a)}var za=new Map,fv=new Set;function Bd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Kn=P.d;P.d={f:TC,r:RC,D:DC,C:OC,L:MC,m:IC,X:PC,S:LC,M:UC};function TC(){var a=Kn.f(),r=Od();return a||r}function RC(a){var r=$i(a);r!==null&&r.tag===5&&r.type==="form"?R0(r):Kn.r(a)}var wl=typeof document>"u"?null:document;function xv(a,r,l){var d=wl;if(d&&typeof r=="string"&&r){var x=Oa(r);x='link[rel="'+a+'"][href="'+x+'"]',typeof l=="string"&&(x+='[crossorigin="'+l+'"]'),fv.has(x)||(fv.add(x),a={rel:a,crossOrigin:l,href:r},d.querySelector(x)===null&&(r=d.createElement("link"),Ms(r,"link",a),Ss(r),d.head.appendChild(r)))}}function DC(a){Kn.D(a),xv("dns-prefetch",a,null)}function OC(a,r){Kn.C(a,r),xv("preconnect",a,r)}function MC(a,r,l){Kn.L(a,r,l);var d=wl;if(d&&a&&r){var x='link[rel="preload"][as="'+Oa(r)+'"]';r==="image"&&l&&l.imageSrcSet?(x+='[imagesrcset="'+Oa(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(x+='[imagesizes="'+Oa(l.imageSizes)+'"]')):x+='[href="'+Oa(a)+'"]';var g=x;switch(r){case"style":g=Sl(a);break;case"script":g=Cl(a)}za.has(g)||(a=y({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:a,as:r},l),za.set(g,a),d.querySelector(x)!==null||r==="style"&&d.querySelector(Zo(g))||r==="script"&&d.querySelector(Wo(g))||(r=d.createElement("link"),Ms(r,"link",a),Ss(r),d.head.appendChild(r)))}}function IC(a,r){Kn.m(a,r);var l=wl;if(l&&a){var d=r&&typeof r.as=="string"?r.as:"script",x='link[rel="modulepreload"][as="'+Oa(d)+'"][href="'+Oa(a)+'"]',g=x;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Cl(a)}if(!za.has(g)&&(a=y({rel:"modulepreload",href:a},r),za.set(g,a),l.querySelector(x)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wo(g)))return}d=l.createElement("link"),Ms(d,"link",a),Ss(d),l.head.appendChild(d)}}}function LC(a,r,l){Kn.S(a,r,l);var d=wl;if(d&&a){var x=Ki(d).hoistableStyles,g=Sl(a);r=r||"default";var k=x.get(g);if(!k){var D={loading:0,preload:null};if(k=d.querySelector(Zo(g)))D.loading=5;else{a=y({rel:"stylesheet",href:a,"data-precedence":r},l),(l=za.get(g))&&bf(a,l);var K=k=d.createElement("link");Ss(K),Ms(K,"link",a),K._p=new Promise(function(ne,ge){K.onload=ne,K.onerror=ge}),K.addEventListener("load",function(){D.loading|=1}),K.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Vd(k,r,d)}k={type:"stylesheet",instance:k,count:1,state:D},x.set(g,k)}}}function PC(a,r){Kn.X(a,r);var l=wl;if(l&&a){var d=Ki(l).hoistableScripts,x=Cl(a),g=d.get(x);g||(g=l.querySelector(Wo(x)),g||(a=y({src:a,async:!0},r),(r=za.get(x))&&Nf(a,r),g=l.createElement("script"),Ss(g),Ms(g,"link",a),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},d.set(x,g))}}function UC(a,r){Kn.M(a,r);var l=wl;if(l&&a){var d=Ki(l).hoistableScripts,x=Cl(a),g=d.get(x);g||(g=l.querySelector(Wo(x)),g||(a=y({src:a,async:!0,type:"module"},r),(r=za.get(x))&&Nf(a,r),g=l.createElement("script"),Ss(g),Ms(g,"link",a),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},d.set(x,g))}}function pv(a,r,l,d){var x=(x=Pe.current)?Bd(x):null;if(!x)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Sl(l.href),l=Ki(x).hoistableStyles,d=l.get(r),d||(d={type:"style",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Sl(l.href);var g=Ki(x).hoistableStyles,k=g.get(a);if(k||(x=x.ownerDocument||x,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(a,k),(g=x.querySelector(Zo(a)))&&!g._p&&(k.instance=g,k.state.loading=5),za.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},za.set(a,l),g||FC(x,a,l,k.state))),r&&d===null)throw Error(i(528,""));return k}if(r&&d!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Cl(l),l=Ki(x).hoistableScripts,d=l.get(r),d||(d={type:"script",instance:null,count:0,state:null},l.set(r,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Sl(a){return'href="'+Oa(a)+'"'}function Zo(a){return'link[rel="stylesheet"]['+a+"]"}function gv(a){return y({},a,{"data-precedence":a.precedence,precedence:null})}function FC(a,r,l,d){a.querySelector('link[rel="preload"][as="style"]['+r+"]")?d.loading=1:(r=a.createElement("link"),d.preload=r,r.addEventListener("load",function(){return d.loading|=1}),r.addEventListener("error",function(){return d.loading|=2}),Ms(r,"link",l),Ss(r),a.head.appendChild(r))}function Cl(a){return'[src="'+Oa(a)+'"]'}function Wo(a){return"script[async]"+a}function yv(a,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var d=a.querySelector('style[data-href~="'+Oa(l.href)+'"]');if(d)return r.instance=d,Ss(d),d;var x=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),Ss(d),Ms(d,"style",x),Vd(d,l.precedence,a),r.instance=d;case"stylesheet":x=Sl(l.href);var g=a.querySelector(Zo(x));if(g)return r.state.loading|=4,r.instance=g,Ss(g),g;d=gv(l),(x=za.get(x))&&bf(d,x),g=(a.ownerDocument||a).createElement("link"),Ss(g);var k=g;return k._p=new Promise(function(D,K){k.onload=D,k.onerror=K}),Ms(g,"link",d),r.state.loading|=4,Vd(g,l.precedence,a),r.instance=g;case"script":return g=Cl(l.src),(x=a.querySelector(Wo(g)))?(r.instance=x,Ss(x),x):(d=l,(x=za.get(g))&&(d=y({},l),Nf(d,x)),a=a.ownerDocument||a,x=a.createElement("script"),Ss(x),Ms(x,"link",d),a.head.appendChild(x),r.instance=x);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(d=r.instance,r.state.loading|=4,Vd(d,l.precedence,a));return r.instance}function Vd(a,r,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=d.length?d[d.length-1]:null,g=x,k=0;k<d.length;k++){var D=d[k];if(D.dataset.precedence===r)g=D;else if(g!==x)break}g?g.parentNode.insertBefore(a,g.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(a,r.firstChild))}function bf(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.title==null&&(a.title=r.title)}function Nf(a,r){a.crossOrigin==null&&(a.crossOrigin=r.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=r.referrerPolicy),a.integrity==null&&(a.integrity=r.integrity)}var Hd=null;function vv(a,r,l){if(Hd===null){var d=new Map,x=Hd=new Map;x.set(l,d)}else x=Hd,d=x.get(l),d||(d=new Map,x.set(l,d));if(d.has(a))return d;for(d.set(a,null),l=l.getElementsByTagName(a),x=0;x<l.length;x++){var g=l[x];if(!(g[ho]||g[Ts]||a==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var k=g.getAttribute(r)||"";k=a+k;var D=d.get(k);D?D.push(g):d.set(k,[g])}}return d}function jv(a,r,l){a=a.ownerDocument||a,a.head.insertBefore(l,r==="title"?a.querySelector("head > title"):null)}function qC(a,r,l){if(l===1||r.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return a=r.disabled,typeof r.precedence=="string"&&a==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bv(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function zC(a,r,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var x=Sl(d.href),g=r.querySelector(Zo(x));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(a.count++,a=$d.bind(a),r.then(a,a)),l.state.loading|=4,l.instance=g,Ss(g);return}g=r.ownerDocument||r,d=gv(d),(x=za.get(x))&&bf(d,x),g=g.createElement("link"),Ss(g);var k=g;k._p=new Promise(function(D,K){k.onload=D,k.onerror=K}),Ms(g,"link",d),l.instance=g}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(a.count++,l=$d.bind(a),r.addEventListener("load",l),r.addEventListener("error",l))}}var wf=0;function BC(a,r){return a.stylesheets&&a.count===0&&Qd(a,a.stylesheets),0<a.count||0<a.imgCount?function(l){var d=setTimeout(function(){if(a.stylesheets&&Qd(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4+r);0<a.imgBytes&&wf===0&&(wf=62500*NC());var x=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Qd(a,a.stylesheets),a.unsuspend)){var g=a.unsuspend;a.unsuspend=null,g()}},(a.imgBytes>wf?50:800)+r);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(x)}}:null}function $d(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Kd=null;function Qd(a,r){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Kd=new Map,r.forEach(VC,a),Kd=null,$d.call(a))}function VC(a,r){if(!(r.state.loading&4)){var l=Kd.get(a);if(l)var d=l.get(null);else{l=new Map,Kd.set(a,l);for(var x=a.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<x.length;g++){var k=x[g];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(l.set(k.dataset.precedence,k),d=k)}d&&l.set(null,d)}x=r.instance,k=x.getAttribute("data-precedence"),g=l.get(k)||d,g===d&&l.set(null,x),l.set(k,x),this.count++,d=$d.bind(this),x.addEventListener("load",d),x.addEventListener("error",d),g?g.parentNode.insertBefore(x,g.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(x,a.firstChild)),r.state.loading|=4}}var Xo={$$typeof:S,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function HC(a,r,l,d,x,g,k,D,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.hiddenUpdates=Gt(null),this.identifierPrefix=d,this.onUncaughtError=x,this.onCaughtError=g,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function Nv(a,r,l,d,x,g,k,D,K,ne,ge,je){return a=new HC(a,r,l,k,K,ne,ge,je,D),r=1,g===!0&&(r|=24),g=ga(3,null,null,r),a.current=g,g.stateNode=a,r=th(),r.refCount++,a.pooledCache=r,r.refCount++,g.memoizedState={element:d,isDehydrated:l,cache:r},rh(g),a}function wv(a){return a?(a=sl,a):sl}function Sv(a,r,l,d,x,g){x=wv(x),d.context===null?d.context=x:d.pendingContext=x,d=ur(r),d.payload={element:l},g=g===void 0?null:g,g!==null&&(d.callback=g),l=mr(a,d,r),l!==null&&(ra(l,a,r),To(l,a,r))}function Cv(a,r){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<r?l:r}}function Sf(a,r){Cv(a,r),(a=a.alternate)&&Cv(a,r)}function kv(a){if(a.tag===13||a.tag===31){var r=Zr(a,67108864);r!==null&&ra(r,a,67108864),Sf(a,67108864)}}function Ev(a){if(a.tag===13||a.tag===31){var r=Na();r=ym(r);var l=Zr(a,r);l!==null&&ra(l,a,r),Sf(a,r)}}var Gd=!0;function $C(a,r,l,d){var x=O.T;O.T=null;var g=P.p;try{P.p=2,Cf(a,r,l,d)}finally{P.p=g,O.T=x}}function KC(a,r,l,d){var x=O.T;O.T=null;var g=P.p;try{P.p=8,Cf(a,r,l,d)}finally{P.p=g,O.T=x}}function Cf(a,r,l,d){if(Gd){var x=kf(d);if(x===null)uf(a,r,d,Yd,l),_v(a,d);else if(GC(x,a,r,l,d))d.stopPropagation();else if(_v(a,d),r&4&&-1<QC.indexOf(a)){for(;x!==null;){var g=$i(x);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var k=Re(g.pendingLanes);if(k!==0){var D=g;for(D.pendingLanes|=2,D.entangledLanes|=2;k;){var K=1<<31-Kt(k);D.entanglements[1]|=K,k&=~K}mn(g),(Rt&6)===0&&(Rd=Se()+500,Ko(0))}}break;case 31:case 13:D=Zr(g,2),D!==null&&ra(D,g,2),Od(),Sf(g,2)}if(g=kf(d),g===null&&uf(a,r,d,Yd,l),g===x)break;x=g}x!==null&&d.stopPropagation()}else uf(a,r,d,null,l)}}function kf(a){return a=Em(a),Ef(a)}var Yd=null;function Ef(a){if(Yd=null,a=Hi(a),a!==null){var r=c(a);if(r===null)a=null;else{var l=r.tag;if(l===13){if(a=u(r),a!==null)return a;a=null}else if(l===31){if(a=m(r),a!==null)return a;a=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;a=null}else r!==a&&(a=null)}}return Yd=a,null}function Av(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case Ue:return 2;case ft:return 8;case bt:case ws:return 32;case Ks:return 268435456;default:return 32}default:return 32}}var Af=!1,wr=null,Sr=null,Cr=null,Jo=new Map,ec=new Map,kr=[],QC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _v(a,r){switch(a){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":Jo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(r.pointerId)}}function tc(a,r,l,d,x,g){return a===null||a.nativeEvent!==g?(a={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[x]},r!==null&&(r=$i(r),r!==null&&kv(r)),a):(a.eventSystemFlags|=d,r=a.targetContainers,x!==null&&r.indexOf(x)===-1&&r.push(x),a)}function GC(a,r,l,d,x){switch(r){case"focusin":return wr=tc(wr,a,r,l,d,x),!0;case"dragenter":return Sr=tc(Sr,a,r,l,d,x),!0;case"mouseover":return Cr=tc(Cr,a,r,l,d,x),!0;case"pointerover":var g=x.pointerId;return Jo.set(g,tc(Jo.get(g)||null,a,r,l,d,x)),!0;case"gotpointercapture":return g=x.pointerId,ec.set(g,tc(ec.get(g)||null,a,r,l,d,x)),!0}return!1}function Tv(a){var r=Hi(a.target);if(r!==null){var l=c(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){a.blockedOn=r,Hp(a.priority,function(){Ev(l)});return}}else if(r===31){if(r=m(l),r!==null){a.blockedOn=r,Hp(a.priority,function(){Ev(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Zd(a){if(a.blockedOn!==null)return!1;for(var r=a.targetContainers;0<r.length;){var l=kf(a.nativeEvent);if(l===null){l=a.nativeEvent;var d=new l.constructor(l.type,l);km=d,l.target.dispatchEvent(d),km=null}else return r=$i(l),r!==null&&kv(r),a.blockedOn=l,!1;r.shift()}return!0}function Rv(a,r,l){Zd(a)&&l.delete(r)}function YC(){Af=!1,wr!==null&&Zd(wr)&&(wr=null),Sr!==null&&Zd(Sr)&&(Sr=null),Cr!==null&&Zd(Cr)&&(Cr=null),Jo.forEach(Rv),ec.forEach(Rv)}function Wd(a,r){a.blockedOn===r&&(a.blockedOn=null,Af||(Af=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,YC)))}var Xd=null;function Dv(a){Xd!==a&&(Xd=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xd===a&&(Xd=null);for(var r=0;r<a.length;r+=3){var l=a[r],d=a[r+1],x=a[r+2];if(typeof d!="function"){if(Ef(d||l)===null)continue;break}var g=$i(l);g!==null&&(a.splice(r,3),r-=3,Ch(g,{pending:!0,data:x,method:l.method,action:d},d,x))}}))}function kl(a){function r(K){return Wd(K,a)}wr!==null&&Wd(wr,a),Sr!==null&&Wd(Sr,a),Cr!==null&&Wd(Cr,a),Jo.forEach(r),ec.forEach(r);for(var l=0;l<kr.length;l++){var d=kr[l];d.blockedOn===a&&(d.blockedOn=null)}for(;0<kr.length&&(l=kr[0],l.blockedOn===null);)Tv(l),l.blockedOn===null&&kr.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var x=l[d],g=l[d+1],k=x[Js]||null;if(typeof g=="function")k||Dv(l);else if(k){var D=null;if(g&&g.hasAttribute("formAction")){if(x=g,k=g[Js]||null)D=k.formAction;else if(Ef(x)!==null)continue}else D=k.action;typeof D=="function"?l[d+1]=D:(l.splice(d,3),d-=3),Dv(l)}}}function Ov(){function a(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(k){return x=k})},focusReset:"manual",scroll:"manual"})}function r(){x!==null&&(x(),x=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,x=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),x!==null&&(x(),x=null)}}}function _f(a){this._internalRoot=a}Jd.prototype.render=_f.prototype.render=function(a){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,d=Na();Sv(l,d,a,r,null,null)},Jd.prototype.unmount=_f.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var r=a.containerInfo;Sv(a.current,2,null,a,null,null),Od(),r[Vi]=null}};function Jd(a){this._internalRoot=a}Jd.prototype.unstable_scheduleHydration=function(a){if(a){var r=Vp();a={blockedOn:null,target:a,priority:r};for(var l=0;l<kr.length&&r!==0&&r<kr[l].priority;l++);kr.splice(l,0,a),l===0&&Tv(a)}};var Mv=s.version;if(Mv!=="19.2.0")throw Error(i(527,Mv,"19.2.0"));P.findDOMNode=function(a){var r=a._reactInternals;if(r===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=f(r),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var ZC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{ie=eu.inject(ZC),nt=eu}catch{}}return ac.createRoot=function(a,r){if(!o(a))throw Error(i(299));var l=!1,d="",x=z0,g=B0,k=V0;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(x=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(k=r.onRecoverableError)),r=Nv(a,1,!1,null,null,l,d,null,x,g,k,Ov),a[Vi]=r.current,df(a),new _f(r)},ac.hydrateRoot=function(a,r,l){if(!o(a))throw Error(i(299));var d=!1,x="",g=z0,k=B0,D=V0,K=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(k=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.formState!==void 0&&(K=l.formState)),r=Nv(a,1,!0,r,l??null,d,x,K,g,k,D,Ov),r.context=wv(null),l=r.current,d=Na(),d=ym(d),x=ur(d),x.callback=null,mr(l,x,d),l=d,r.current.lanes=l,Xs(r,l),mn(r),a[Vi]=r.current,df(a),new Jd(r)},ac.version="19.2.0",ac}var Hv;function i4(){if(Hv)return Df.exports;Hv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Df.exports=r4(),Df.exports}var l4=i4(),Jl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},o4={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},c4=class{#e=o4;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,s){return this.#e.setTimeout(t,s)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,s){return this.#e.setInterval(t,s)}clearInterval(t){this.#e.clearInterval(t)}},xi=new c4;function d4(t){setTimeout(t,0)}var Si=typeof window>"u"||"Deno"in globalThis;function Ys(){}function u4(t,s){return typeof t=="function"?t(s):t}function ix(t){return typeof t=="number"&&t>=0&&t!==1/0}function Wb(t,s){return Math.max(t+(s||0)-Date.now(),0)}function Dr(t,s){return typeof t=="function"?t(s):t}function Va(t,s){return typeof t=="function"?t(s):t}function $v(t,s){const{type:n="all",exact:i,fetchStatus:o,predicate:c,queryKey:u,stale:m}=t;if(u){if(i){if(s.queryHash!==Wx(u,s.options))return!1}else if(!jc(s.queryKey,u))return!1}if(n!=="all"){const h=s.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof m=="boolean"&&s.isStale()!==m||o&&o!==s.state.fetchStatus||c&&!c(s))}function Kv(t,s){const{exact:n,status:i,predicate:o,mutationKey:c}=t;if(c){if(!s.options.mutationKey)return!1;if(n){if(Ci(s.options.mutationKey)!==Ci(c))return!1}else if(!jc(s.options.mutationKey,c))return!1}return!(i&&s.state.status!==i||o&&!o(s))}function Wx(t,s){return(s?.queryKeyHashFn||Ci)(t)}function Ci(t){return JSON.stringify(t,(s,n)=>lx(n)?Object.keys(n).sort().reduce((i,o)=>(i[o]=n[o],i),{}):n)}function jc(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(n=>jc(t[n],s[n])):!1}var m4=Object.prototype.hasOwnProperty;function Xb(t,s){if(t===s)return t;const n=Qv(t)&&Qv(s);if(!n&&!(lx(t)&&lx(s)))return s;const o=(n?t:Object.keys(t)).length,c=n?s:Object.keys(s),u=c.length,m=n?new Array(u):{};let h=0;for(let f=0;f<u;f++){const p=n?f:c[f],y=t[p],b=s[p];if(y===b){m[p]=y,(n?f<o:m4.call(t,p))&&h++;continue}if(y===null||b===null||typeof y!="object"||typeof b!="object"){m[p]=b;continue}const w=Xb(y,b);m[p]=w,w===y&&h++}return o===u&&h===o?t:m}function ku(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}function Qv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function lx(t){if(!Gv(t))return!1;const s=t.constructor;if(s===void 0)return!0;const n=s.prototype;return!(!Gv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Gv(t){return Object.prototype.toString.call(t)==="[object Object]"}function h4(t){return new Promise(s=>{xi.setTimeout(s,t)})}function ox(t,s,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,s):n.structuralSharing!==!1?Xb(t,s):s}function f4(t,s,n=0){const i=[...t,s];return n&&i.length>n?i.slice(1):i}function x4(t,s,n=0){const i=[s,...t];return n&&i.length>n?i.slice(0,-1):i}var Xx=Symbol();function Jb(t,s){return!t.queryFn&&s?.initialPromise?()=>s.initialPromise:!t.queryFn||t.queryFn===Xx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function eN(t,s){return typeof t=="function"?t(...s):!!t}var p4=class extends Jl{#e;#t;#s;constructor(){super(),this.#s=t=>{if(!Si&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Jx=new p4;function cx(){let t,s;const n=new Promise((o,c)=>{t=o,s=c});n.status="pending",n.catch(()=>{});function i(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{i({status:"fulfilled",value:o}),t(o)},n.reject=o=>{i({status:"rejected",reason:o}),s(o)},n}var g4=d4;function y4(){let t=[],s=0,n=m=>{m()},i=m=>{m()},o=g4;const c=m=>{s?t.push(m):o(()=>{n(m)})},u=()=>{const m=t;t=[],m.length&&o(()=>{i(()=>{m.forEach(h=>{n(h)})})})};return{batch:m=>{let h;s++;try{h=m()}finally{s--,s||u()}return h},batchCalls:m=>(...h)=>{c(()=>{m(...h)})},schedule:c,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{i=m},setScheduler:m=>{o=m}}}var bs=y4(),v4=class extends Jl{#e=!0;#t;#s;constructor(){super(),this.#s=t=>{if(!Si&&window.addEventListener){const s=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Eu=new v4;function j4(t){return Math.min(1e3*2**t,3e4)}function tN(t){return(t??"online")==="online"?Eu.isOnline():!0}var dx=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function sN(t){let s=!1,n=0,i;const o=cx(),c=()=>o.status!=="pending",u=j=>{if(!c()){const C=new dx(j);b(C),t.onCancel?.(C)}},m=()=>{s=!0},h=()=>{s=!1},f=()=>Jx.isFocused()&&(t.networkMode==="always"||Eu.isOnline())&&t.canRun(),p=()=>tN(t.networkMode)&&t.canRun(),y=j=>{c()||(i?.(),o.resolve(j))},b=j=>{c()||(i?.(),o.reject(j))},w=()=>new Promise(j=>{i=C=>{(c()||f())&&j(C)},t.onPause?.()}).then(()=>{i=void 0,c()||t.onContinue?.()}),N=()=>{if(c())return;let j;const C=n===0?t.initialPromise:void 0;try{j=C??t.fn()}catch(A){j=Promise.reject(A)}Promise.resolve(j).then(y).catch(A=>{if(c())return;const E=t.retry??(Si?0:3),S=t.retryDelay??j4,R=typeof S=="function"?S(n,A):S,_=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,A);if(s||!_){b(A);return}n++,t.onFail?.(n,A),h4(R).then(()=>f()?void 0:w()).then(()=>{s?b(A):N()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(i?.(),o),cancelRetry:m,continueRetry:h,canStart:p,start:()=>(p()?N():w().then(N),o)}}var aN=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ix(this.gcTime)&&(this.#e=xi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Si?1/0:300*1e3))}clearGcTimeout(){this.#e&&(xi.clearTimeout(this.#e),this.#e=void 0)}},b4=class extends aN{#e;#t;#s;#n;#a;#i;#l;constructor(t){super(),this.#l=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#s=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Zv(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Zv(this.options);s.data!==void 0&&(this.setState(Yv(s.data,s.dataUpdatedAt)),this.#e=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,s){const n=ox(this.state.data,t,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),n}setState(t,s){this.#r({type:"setState",state:t,setStateOptions:s})}cancel(t){const s=this.#a?.promise;return this.#a?.cancel(t),s?s.then(Ys).catch(Ys):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Va(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Dr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Wb(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(t,s){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#l=!0,n.signal)})},o=()=>{const m=Jb(this.options,s),f=(()=>{const p={client:this.#n,queryKey:this.queryKey,meta:this.meta};return i(p),p})();return this.#l=!1,this.options.persister?this.options.persister(m,f,this):m(f)},u=(()=>{const m={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:o};return i(m),m})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#r({type:"fetch",meta:u.fetchOptions?.meta}),this.#a=sN({initialPromise:s?.initialPromise,fn:u.fetchFn,onCancel:m=>{m instanceof dx&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(m,h)=>{this.#r({type:"failed",failureCount:m,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const m=await this.#a.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#s.config.onSuccess?.(m,this),this.#s.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof dx){if(m.silent)return this.#a.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#r({type:"error",error:m}),this.#s.config.onError?.(m,this),this.#s.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#r(t){const s=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...nN(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...Yv(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?i:void 0,i;case"error":const o=t.error;return{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=s(this.state),bs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function nN(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:tN(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Yv(t,s){return{data:t,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Zv(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,n=s!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var N4=class extends Jl{constructor(t,s){super(),this.options=s,this.#e=t,this.#r=null,this.#l=cx(),this.bindMethods(),this.setOptions(s)}#e;#t=void 0;#s=void 0;#n=void 0;#a;#i;#l;#r;#x;#m;#h;#c;#d;#o;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Wv(this.#t,this.options)?this.#u():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ux(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ux(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#j(),this.#b(),this.#t.removeObserver(this)}setOptions(t){const s=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Va(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#N(),this.#t.setOptions(this.options),s._defaulted&&!ku(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&Xv(this.#t,n,this.options,s)&&this.#u(),this.updateResult(),i&&(this.#t!==n||Va(this.options.enabled,this.#t)!==Va(s.enabled,this.#t)||Dr(this.options.staleTime,this.#t)!==Dr(s.staleTime,this.#t))&&this.#p();const o=this.#g();i&&(this.#t!==n||Va(this.options.enabled,this.#t)!==Va(s.enabled,this.#t)||o!==this.#o)&&this.#y(o)}getOptimisticResult(t){const s=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(s,t);return S4(this,n)&&(this.#n=n,this.#i=this.options,this.#a=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(t,s){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),s?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#l.status==="pending"&&this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){this.#f.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,s);return n.fetch().then(()=>this.createResult(n,s))}fetch(t){return this.#u({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(t){this.#N();let s=this.#t.fetch(this.options,t);return t?.throwOnError||(s=s.catch(Ys)),s}#p(){this.#j();const t=Dr(this.options.staleTime,this.#t);if(Si||this.#n.isStale||!ix(t))return;const n=Wb(this.#n.dataUpdatedAt,t)+1;this.#c=xi.setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#b(),this.#o=t,!(Si||Va(this.options.enabled,this.#t)===!1||!ix(this.#o)||this.#o===0)&&(this.#d=xi.setInterval(()=>{(this.options.refetchIntervalInBackground||Jx.isFocused())&&this.#u()},this.#o))}#v(){this.#p(),this.#y(this.#g())}#j(){this.#c&&(xi.clearTimeout(this.#c),this.#c=void 0)}#b(){this.#d&&(xi.clearInterval(this.#d),this.#d=void 0)}createResult(t,s){const n=this.#t,i=this.options,o=this.#n,c=this.#a,u=this.#i,h=t!==n?t.state:this.#s,{state:f}=t;let p={...f},y=!1,b;if(s._optimisticResults){const q=this.hasListeners(),$=!q&&Wv(t,s),H=q&&Xv(t,n,s,i);($||H)&&(p={...p,...nN(f.data,t.options)}),s._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:w,errorUpdatedAt:N,status:j}=p;b=p.data;let C=!1;if(s.placeholderData!==void 0&&b===void 0&&j==="pending"){let q;o?.isPlaceholderData&&s.placeholderData===u?.placeholderData?(q=o.data,C=!0):q=typeof s.placeholderData=="function"?s.placeholderData(this.#h?.state.data,this.#h):s.placeholderData,q!==void 0&&(j="success",b=ox(o?.data,q,s),y=!0)}if(s.select&&b!==void 0&&!C)if(o&&b===c?.data&&s.select===this.#x)b=this.#m;else try{this.#x=s.select,b=s.select(b),b=ox(o?.data,b,s),this.#m=b,this.#r=null}catch(q){this.#r=q}this.#r&&(w=this.#r,b=this.#m,N=Date.now(),j="error");const A=p.fetchStatus==="fetching",E=j==="pending",S=j==="error",R=E&&A,_=b!==void 0,I={status:j,fetchStatus:p.fetchStatus,isPending:E,isSuccess:j==="success",isError:S,isInitialLoading:R,isLoading:R,data:b,dataUpdatedAt:p.dataUpdatedAt,error:w,errorUpdatedAt:N,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:A,isRefetching:A&&!E,isLoadingError:S&&!_,isPaused:p.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:S&&_,isStale:ep(t,s),refetch:this.refetch,promise:this.#l,isEnabled:Va(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const q=G=>{I.status==="error"?G.reject(I.error):I.data!==void 0&&G.resolve(I.data)},$=()=>{const G=this.#l=I.promise=cx();q(G)},H=this.#l;switch(H.status){case"pending":t.queryHash===n.queryHash&&q(H);break;case"fulfilled":(I.status==="error"||I.data!==H.value)&&$();break;case"rejected":(I.status!=="error"||I.error!==H.reason)&&$();break}}return I}updateResult(){const t=this.#n,s=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#i=this.options,this.#a.data!==void 0&&(this.#h=this.#t),ku(s,t))return;this.#n=s;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.#f.size)return!0;const c=new Set(o??this.#f);return this.options.throwOnError&&c.add("error"),Object.keys(this.#n).some(u=>{const m=u;return this.#n[m]!==t[m]&&c.has(m)})};this.#w({listeners:n()})}#N(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const s=this.#t;this.#t=t,this.#s=t.state,this.hasListeners()&&(s?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#w(t){bs.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function w4(t,s){return Va(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function Wv(t,s){return w4(t,s)||t.state.data!==void 0&&ux(t,s,s.refetchOnMount)}function ux(t,s,n){if(Va(s.enabled,t)!==!1&&Dr(s.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&ep(t,s)}return!1}function Xv(t,s,n,i){return(t!==s||Va(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&ep(t,n)}function ep(t,s){return Va(s.enabled,t)!==!1&&t.isStaleByTime(Dr(s.staleTime,t))}function S4(t,s){return!ku(t.getCurrentResult(),s)}function Jv(t){return{onFetch:(s,n)=>{const i=s.options,o=s.fetchOptions?.meta?.fetchMore?.direction,c=s.state.data?.pages||[],u=s.state.data?.pageParams||[];let m={pages:[],pageParams:[]},h=0;const f=async()=>{let p=!1;const y=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(s.signal.aborted?p=!0:s.signal.addEventListener("abort",()=>{p=!0}),s.signal)})},b=Jb(s.options,s.fetchOptions),w=async(N,j,C)=>{if(p)return Promise.reject();if(j==null&&N.pages.length)return Promise.resolve(N);const E=(()=>{const L={client:s.client,queryKey:s.queryKey,pageParam:j,direction:C?"backward":"forward",meta:s.options.meta};return y(L),L})(),S=await b(E),{maxPages:R}=s.options,_=C?x4:f4;return{pages:_(N.pages,S,R),pageParams:_(N.pageParams,j,R)}};if(o&&c.length){const N=o==="backward",j=N?C4:ej,C={pages:c,pageParams:u},A=j(i,C);m=await w(C,A,N)}else{const N=t??c.length;do{const j=h===0?u[0]??i.initialPageParam:ej(i,m);if(h>0&&j==null)break;m=await w(m,j),h++}while(h<N)}return m};s.options.persister?s.fetchFn=()=>s.options.persister?.(f,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},n):s.fetchFn=f}}}function ej(t,{pages:s,pageParams:n}){const i=s.length-1;return s.length>0?t.getNextPageParam(s[i],s,n[i],n):void 0}function C4(t,{pages:s,pageParams:n}){return s.length>0?t.getPreviousPageParam?.(s[0],s,n[0],n):void 0}var k4=class extends aN{#e;#t;#s;#n;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#s=t.mutationCache,this.#t=[],this.state=t.state||rN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(s=>s!==t),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const s=()=>{this.#a({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=sN({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#a({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const i=this.state.status==="pending",o=!this.#n.canStart();try{if(i)s();else{this.#a({type:"pending",variables:t,isPaused:o}),await this.#s.config.onMutate?.(t,this,n);const u=await this.options.onMutate?.(t,n);u!==this.state.context&&this.#a({type:"pending",context:u,variables:t,isPaused:o})}const c=await this.#n.start();return await this.#s.config.onSuccess?.(c,t,this.state.context,this,n),await this.options.onSuccess?.(c,t,this.state.context,n),await this.#s.config.onSettled?.(c,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(c,null,t,this.state.context,n),this.#a({type:"success",data:c}),c}catch(c){try{throw await this.#s.config.onError?.(c,t,this.state.context,this,n),await this.options.onError?.(c,t,this.state.context,n),await this.#s.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,c,t,this.state.context,n),c}finally{this.#a({type:"error",error:c})}}finally{this.#s.runNext(this)}}#a(t){const s=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),bs.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#s.notify({mutation:this,type:"updated",action:t})})}};function rN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var E4=class extends Jl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(t,s,n){const i=new k4({client:t,mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(s),state:n});return this.add(i),i}add(t){this.#e.add(t);const s=tu(t);if(typeof s=="string"){const n=this.#t.get(s);n?n.push(t):this.#t.set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const s=tu(t);if(typeof s=="string"){const n=this.#t.get(s);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=tu(t);if(typeof s=="string"){const i=this.#t.get(s)?.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){const s=tu(t);return typeof s=="string"?this.#t.get(s)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){bs.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const s={exact:!0,...t};return this.getAll().find(n=>Kv(s,n))}findAll(t={}){return this.getAll().filter(s=>Kv(t,s))}notify(t){bs.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return bs.batch(()=>Promise.all(t.map(s=>s.continue().catch(Ys))))}};function tu(t){return t.options.scope?.id}var A4=class extends Jl{#e;#t=void 0;#s;#n;constructor(s,n){super(),this.#e=s,this.setOptions(n),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){const n=this.options;this.options=this.#e.defaultMutationOptions(s),ku(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ci(n.mutationKey)!==Ci(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(s){this.#a(),this.#i(s)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#i()}mutate(s,n){return this.#n=n,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(s)}#a(){const s=this.#s?.state??rN();this.#t={...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset}}#i(s){bs.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,i=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};s?.type==="success"?(this.#n.onSuccess?.(s.data,n,i,o),this.#n.onSettled?.(s.data,null,n,i,o)):s?.type==="error"&&(this.#n.onError?.(s.error,n,i,o),this.#n.onSettled?.(void 0,s.error,n,i,o))}this.listeners.forEach(n=>{n(this.#t)})})}},_4=class extends Jl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,s,n){const i=s.queryKey,o=s.queryHash??Wx(i,s);let c=this.get(o);return c||(c=new b4({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(s),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(c)),c}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=this.#e.get(t.queryHash);s&&(t.destroy(),s===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const s={exact:!0,...t};return this.getAll().find(n=>$v(s,n))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(n=>$v(t,n)):s}notify(t){bs.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){bs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},T4=class{#e;#t;#s;#n;#a;#i;#l;#r;constructor(t={}){this.#e=t.queryCache||new _4,this.#t=t.mutationCache||new E4,this.#s=t.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=Jx.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Eu.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),n=this.#e.build(this,s),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Dr(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:s,state:n})=>{const i=n.data;return[s,i]})}setQueryData(t,s,n){const i=this.defaultQueryOptions({queryKey:t}),c=this.#e.get(i.queryHash)?.state.data,u=u4(s,c);if(u!==void 0)return this.#e.build(this,i).setData(u,{...n,manual:!0})}setQueriesData(t,s,n){return bs.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,s,n)]))}getQueryState(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state}removeQueries(t){const s=this.#e;bs.batch(()=>{s.findAll(t).forEach(n=>{s.remove(n)})})}resetQueries(t,s){const n=this.#e;return bs.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const n={revert:!0,...s},i=bs.batch(()=>this.#e.findAll(t).map(o=>o.cancel(n)));return Promise.all(i).then(Ys).catch(Ys)}invalidateQueries(t,s={}){return bs.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},s)))}refetchQueries(t,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},i=bs.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,n);return n.throwOnError||(c=c.catch(Ys)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(i).then(Ys)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const n=this.#e.build(this,s);return n.isStaleByTime(Dr(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ys).catch(Ys)}fetchInfiniteQuery(t){return t.behavior=Jv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ys).catch(Ys)}ensureInfiniteQueryData(t){return t.behavior=Jv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Eu.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,s){this.#n.set(Ci(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...this.#n.values()],n={};return s.forEach(i=>{jc(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,s){this.#a.set(Ci(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...this.#a.values()],n={};return s.forEach(i=>{jc(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const s={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=Wx(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Xx&&(s.enabled=!1),s}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},iN=v.createContext(void 0),gt=t=>{const s=v.useContext(iN);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},R4=({client:t,children:s})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(iN.Provider,{value:t,children:s})),lN=v.createContext(!1),D4=()=>v.useContext(lN);lN.Provider;function O4(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var M4=v.createContext(O4()),I4=()=>v.useContext(M4),L4=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},P4=t=>{v.useEffect(()=>{t.clearReset()},[t])},U4=({result:t,errorResetBoundary:s,throwOnError:n,query:i,suspense:o})=>t.isError&&!s.isReset()&&!t.isFetching&&i&&(o&&t.data===void 0||eN(n,[t.error,i])),F4=t=>{if(t.suspense){const n=o=>o==="static"?o:Math.max(o??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...o)=>n(i(...o)):n(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},q4=(t,s)=>t.isLoading&&t.isFetching&&!s,z4=(t,s)=>t?.suspense&&s.isPending,tj=(t,s,n)=>s.fetchOptimistic(t).catch(()=>{n.clearReset()});function B4(t,s,n){const i=D4(),o=I4(),c=gt(),u=c.defaultQueryOptions(t);c.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=i?"isRestoring":"optimistic",F4(u),L4(u,o),P4(o);const m=!c.getQueryCache().get(u.queryHash),[h]=v.useState(()=>new s(c,u)),f=h.getOptimisticResult(u),p=!i&&t.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(y=>{const b=p?h.subscribe(bs.batchCalls(y)):Ys;return h.updateResult(),b},[h,p]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),v.useEffect(()=>{h.setOptions(u)},[u,h]),z4(u,f))throw tj(u,h,o);if(U4({result:f,errorResetBoundary:o,throwOnError:u.throwOnError,query:c.getQueryCache().get(u.queryHash),suspense:u.suspense}))throw f.error;return c.getDefaultOptions().queries?._experimental_afterQuery?.(u,f),u.experimental_prefetchInRender&&!Si&&q4(f,i)&&(m?tj(u,h,o):c.getQueryCache().get(u.queryHash)?.promise)?.catch(Ys).finally(()=>{h.updateResult()}),u.notifyOnChangeProps?f:h.trackResult(f)}function we(t,s){return B4(t,N4)}function Te(t,s){const n=gt(),[i]=v.useState(()=>new A4(n,t));v.useEffect(()=>{i.setOptions(t)},[i,t]);const o=v.useSyncExternalStore(v.useCallback(u=>i.subscribe(bs.batchCalls(u)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),c=v.useCallback((u,m)=>{i.mutate(u,m).catch(Ys)},[i]);if(o.error&&eN(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:c,mutateAsync:o.mutate}}var sj="popstate";function V4(t={}){function s(i,o){let{pathname:c,search:u,hash:m}=i.location;return mx("",{pathname:c,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:bc(o)}return $4(s,n,null,t)}function Ht(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Ea(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function H4(){return Math.random().toString(36).substring(2,10)}function aj(t,s){return{usr:t.state,key:t.key,idx:s}}function mx(t,s,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?eo(s):s,state:n,key:s&&s.key||i||H4()}}function bc({pathname:t="/",search:s="",hash:n=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function eo(t){let s={};if(t){let n=t.indexOf("#");n>=0&&(s.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(s.search=t.substring(i),t=t.substring(0,i)),t&&(s.pathname=t)}return s}function $4(t,s,n,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,u=o.history,m="POP",h=null,f=p();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function p(){return(u.state||{idx:null}).idx}function y(){m="POP";let C=p(),A=C==null?null:C-f;f=C,h&&h({action:m,location:j.location,delta:A})}function b(C,A){m="PUSH";let E=mx(j.location,C,A);f=p()+1;let S=aj(E,f),R=j.createHref(E);try{u.pushState(S,"",R)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(R)}c&&h&&h({action:m,location:j.location,delta:1})}function w(C,A){m="REPLACE";let E=mx(j.location,C,A);f=p();let S=aj(E,f),R=j.createHref(E);u.replaceState(S,"",R),c&&h&&h({action:m,location:j.location,delta:0})}function N(C){return K4(C)}let j={get action(){return m},get location(){return t(o,u)},listen(C){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(sj,y),h=C,()=>{o.removeEventListener(sj,y),h=null}},createHref(C){return s(o,C)},createURL:N,encodeLocation(C){let A=N(C);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:w,go(C){return u.go(C)}};return j}function K4(t,s=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:bc(t);return i=i.replace(/ $/,"%20"),!s&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function oN(t,s,n="/"){return Q4(t,s,n,!1)}function Q4(t,s,n,i){let o=typeof s=="string"?eo(s):s,c=Jn(o.pathname||"/",n);if(c==null)return null;let u=cN(t);G4(u);let m=null;for(let h=0;m==null&&h<u.length;++h){let f=rk(c);m=ak(u[h],f,i)}return m}function cN(t,s=[],n=[],i="",o=!1){let c=(u,m,h=o,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&h)return;Ht(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let y=Zn([i,p.relativePath]),b=n.concat(p);u.children&&u.children.length>0&&(Ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),cN(u.children,s,b,y,h)),!(u.path==null&&!u.index)&&s.push({path:y,score:tk(y,u.index),routesMeta:b})};return t.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))c(u,m);else for(let h of dN(u.path))c(u,m,!0,h)}),s}function dN(t){let s=t.split("/");if(s.length===0)return[];let[n,...i]=s,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let u=dN(i.join("/")),m=[];return m.push(...u.map(h=>h===""?c:[c,h].join("/"))),o&&m.push(...u),m.map(h=>t.startsWith("/")&&h===""?"/":h)}function G4(t){t.sort((s,n)=>s.score!==n.score?n.score-s.score:sk(s.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Y4=/^:[\w-]+$/,Z4=3,W4=2,X4=1,J4=10,ek=-2,nj=t=>t==="*";function tk(t,s){let n=t.split("/"),i=n.length;return n.some(nj)&&(i+=ek),s&&(i+=W4),n.filter(o=>!nj(o)).reduce((o,c)=>o+(Y4.test(c)?Z4:c===""?X4:J4),i)}function sk(t,s){return t.length===s.length&&t.slice(0,-1).every((i,o)=>i===s[o])?t[t.length-1]-s[s.length-1]:0}function ak(t,s,n=!1){let{routesMeta:i}=t,o={},c="/",u=[];for(let m=0;m<i.length;++m){let h=i[m],f=m===i.length-1,p=c==="/"?s:s.slice(c.length)||"/",y=Au({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),b=h.route;if(!y&&f&&n&&!i[i.length-1].route.index&&(y=Au({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:Zn([c,y.pathname]),pathnameBase:dk(Zn([c,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(c=Zn([c,y.pathnameBase]))}return u}function Au(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=nk(t.path,t.caseSensitive,t.end),o=s.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:y},b)=>{if(p==="*"){let N=m[b]||"";u=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const w=m[b];return y&&!w?f[p]=void 0:f[p]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:c,pathnameBase:u,pattern:t}}function nk(t,s=!1,n=!0){Ea(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,h)=>(i.push({paramName:m,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,s?void 0:"i"),i]}function rk(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Ea(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function Jn(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var ik=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lk=t=>ik.test(t);function ok(t,s="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?eo(t):t,c;if(n)if(lk(n))c=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Ea(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?c=rj(n.substring(1),"/"):c=rj(n,s)}else c=s;return{pathname:c,search:uk(i),hash:mk(o)}}function rj(t,s){let n=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Lf(t,s,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ck(t){return t.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function tp(t){let s=ck(t);return s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase)}function sp(t,s,n,i=!1){let o;typeof t=="string"?o=eo(t):(o={...t},Ht(!o.pathname||!o.pathname.includes("?"),Lf("?","pathname","search",o)),Ht(!o.pathname||!o.pathname.includes("#"),Lf("#","pathname","hash",o)),Ht(!o.search||!o.search.includes("#"),Lf("#","search","hash",o)));let c=t===""||o.pathname==="",u=c?"/":o.pathname,m;if(u==null)m=n;else{let y=s.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}m=y>=0?s[y]:"/"}let h=ok(o,m),f=u&&u!=="/"&&u.endsWith("/"),p=(c||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Zn=t=>t.join("/").replace(/\/\/+/g,"/"),dk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uN=["POST","PUT","PATCH","DELETE"];new Set(uN);var fk=["GET",...uN];new Set(fk);var to=v.createContext(null);to.displayName="DataRouter";var Qu=v.createContext(null);Qu.displayName="DataRouterState";v.createContext(!1);var mN=v.createContext({isTransitioning:!1});mN.displayName="ViewTransition";var xk=v.createContext(new Map);xk.displayName="Fetchers";var pk=v.createContext(null);pk.displayName="Await";var nn=v.createContext(null);nn.displayName="Navigation";var Tc=v.createContext(null);Tc.displayName="Location";var rn=v.createContext({outlet:null,matches:[],isDataRoute:!1});rn.displayName="Route";var ap=v.createContext(null);ap.displayName="RouteError";function gk(t,{relative:s}={}){Ht(so(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=v.useContext(nn),{hash:o,pathname:c,search:u}=Rc(t,{relative:s}),m=c;return n!=="/"&&(m=c==="/"?n:Zn([n,c])),i.createHref({pathname:m,search:u,hash:o})}function so(){return v.useContext(Tc)!=null}function _a(){return Ht(so(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Tc).location}var hN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fN(t){v.useContext(nn).static||v.useLayoutEffect(t)}function St(){let{isDataRoute:t}=v.useContext(rn);return t?Tk():yk()}function yk(){Ht(so(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(to),{basename:s,navigator:n}=v.useContext(nn),{matches:i}=v.useContext(rn),{pathname:o}=_a(),c=JSON.stringify(tp(i)),u=v.useRef(!1);return fN(()=>{u.current=!0}),v.useCallback((h,f={})=>{if(Ea(u.current,hN),!u.current)return;if(typeof h=="number"){n.go(h);return}let p=sp(h,JSON.parse(c),o,f.relative==="path");t==null&&s!=="/"&&(p.pathname=p.pathname==="/"?s:Zn([s,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[s,n,c,o,t])}v.createContext(null);function ln(){let{matches:t}=v.useContext(rn),s=t[t.length-1];return s?s.params:{}}function Rc(t,{relative:s}={}){let{matches:n}=v.useContext(rn),{pathname:i}=_a(),o=JSON.stringify(tp(n));return v.useMemo(()=>sp(t,JSON.parse(o),i,s==="path"),[t,o,i,s])}function vk(t,s){return xN(t,s)}function xN(t,s,n,i,o){Ht(so(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=v.useContext(nn),{matches:u}=v.useContext(rn),m=u[u.length-1],h=m?m.params:{},f=m?m.pathname:"/",p=m?m.pathnameBase:"/",y=m&&m.route;{let E=y&&y.path||"";pN(f,!y||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let b=_a(),w;if(s){let E=typeof s=="string"?eo(s):s;Ht(p==="/"||E.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),w=E}else w=b;let N=w.pathname||"/",j=N;if(p!=="/"){let E=p.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=oN(t,{pathname:j});Ea(y||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ea(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Sk(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:Zn([p,c.encodeLocation?c.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:Zn([p,c.encodeLocation?c.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),u,n,i,o);return s&&A?v.createElement(Tc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},A):A}function jk(){let t=_k(),s=hk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:c},"ErrorBoundary")," or"," ",v.createElement("code",{style:c},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},s),n?v.createElement("pre",{style:o},n):null,u)}var bk=v.createElement(jk,null),Nk=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){this.props.onError?this.props.onError(t,s):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?v.createElement(rn.Provider,{value:this.props.routeContext},v.createElement(ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wk({routeContext:t,match:s,children:n}){let i=v.useContext(to);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),v.createElement(rn.Provider,{value:t},n)}function Sk(t,s=[],n=null,i=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(s.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=n?.errors;if(u!=null){let p=c.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Ht(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let m=!1,h=-1;if(n)for(let p=0;p<c.length;p++){let y=c[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=p),y.route.id){let{loaderData:b,errors:w}=n,N=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||N){m=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}let f=n&&i?(p,y)=>{i(p,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:y})}:void 0;return c.reduceRight((p,y,b)=>{let w,N=!1,j=null,C=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,j=y.route.errorElement||bk,m&&(h<0&&b===0?(pN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,C=null):h===b&&(N=!0,C=y.route.hydrateFallbackElement||null)));let A=s.concat(c.slice(0,b+1)),E=()=>{let S;return w?S=j:N?S=C:y.route.Component?S=v.createElement(y.route.Component,null):y.route.element?S=y.route.element:S=p,v.createElement(wk,{match:y,routeContext:{outlet:p,matches:A,isDataRoute:n!=null},children:S})};return n&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?v.createElement(Nk,{location:n.location,revalidation:n.revalidation,component:j,error:w,children:E(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:f}):E()},null)}function np(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ck(t){let s=v.useContext(to);return Ht(s,np(t)),s}function kk(t){let s=v.useContext(Qu);return Ht(s,np(t)),s}function Ek(t){let s=v.useContext(rn);return Ht(s,np(t)),s}function rp(t){let s=Ek(t),n=s.matches[s.matches.length-1];return Ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Ak(){return rp("useRouteId")}function _k(){let t=v.useContext(ap),s=kk("useRouteError"),n=rp("useRouteError");return t!==void 0?t:s.errors?.[n]}function Tk(){let{router:t}=Ck("useNavigate"),s=rp("useNavigate"),n=v.useRef(!1);return fN(()=>{n.current=!0}),v.useCallback(async(o,c={})=>{Ea(n.current,hN),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:s,...c}))},[t,s])}var ij={};function pN(t,s,n){!s&&!ij[t]&&(ij[t]=!0,Ea(!1,n))}v.memo(Rk);function Rk({routes:t,future:s,state:n,unstable_onError:i}){return xN(t,void 0,n,i,s)}function hx({to:t,replace:s,state:n,relative:i}){Ht(so(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=v.useContext(nn);Ea(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=v.useContext(rn),{pathname:u}=_a(),m=St(),h=sp(t,tp(c),u,i==="path"),f=JSON.stringify(h);return v.useEffect(()=>{m(JSON.parse(f),{replace:s,state:n,relative:i})},[m,f,i,s,n]),null}function He(t){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dk({basename:t="/",children:s=null,location:n,navigationType:i="POP",navigator:o,static:c=!1}){Ht(!so(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),m=v.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof n=="string"&&(n=eo(n));let{pathname:h="/",search:f="",hash:p="",state:y=null,key:b="default"}=n,w=v.useMemo(()=>{let N=Jn(h,u);return N==null?null:{location:{pathname:N,search:f,hash:p,state:y,key:b},navigationType:i}},[u,h,f,p,y,b,i]);return Ea(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:v.createElement(nn.Provider,{value:m},v.createElement(Tc.Provider,{children:s,value:w}))}function Ok({children:t,location:s}){return vk(fx(t),s)}function fx(t,s=[]){let n=[];return v.Children.forEach(t,(i,o)=>{if(!v.isValidElement(i))return;let c=[...s,o];if(i.type===v.Fragment){n.push.apply(n,fx(i.props.children,c));return}Ht(i.type===He,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=fx(i.props.children,c)),n.push(u)}),n}var hu="get",fu="application/x-www-form-urlencoded";function Gu(t){return t!=null&&typeof t.tagName=="string"}function Mk(t){return Gu(t)&&t.tagName.toLowerCase()==="button"}function Ik(t){return Gu(t)&&t.tagName.toLowerCase()==="form"}function Lk(t){return Gu(t)&&t.tagName.toLowerCase()==="input"}function Pk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Uk(t,s){return t.button===0&&(!s||s==="_self")&&!Pk(t)}function xx(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,n)=>{let i=t[n];return s.concat(Array.isArray(i)?i.map(o=>[n,o]):[[n,i]])},[]))}function Fk(t,s){let n=xx(t);return s&&s.forEach((i,o)=>{n.has(o)||s.getAll(o).forEach(c=>{n.append(o,c)})}),n}var su=null;function qk(){if(su===null)try{new FormData(document.createElement("form"),0),su=!1}catch{su=!0}return su}var zk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pf(t){return t!=null&&!zk.has(t)?(Ea(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fu}"`),null):t}function Bk(t,s){let n,i,o,c,u;if(Ik(t)){let m=t.getAttribute("action");i=m?Jn(m,s):null,n=t.getAttribute("method")||hu,o=Pf(t.getAttribute("enctype"))||fu,c=new FormData(t)}else if(Mk(t)||Lk(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||m.getAttribute("action");if(i=h?Jn(h,s):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||hu,o=Pf(t.getAttribute("formenctype"))||Pf(m.getAttribute("enctype"))||fu,c=new FormData(m,t),!qk()){let{name:f,type:p,value:y}=t;if(p==="image"){let b=f?`${f}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else f&&c.append(f,y)}}else{if(Gu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hu,i=null,o=fu,u=t}return c&&o==="text/plain"&&(u=c,c=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ip(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Vk(t,s,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:s&&Jn(i.pathname,s)==="/"?i.pathname=`${s.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Hk(t,s){if(t.id in s)return s[t.id];try{let n=await import(t.module);return s[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $k(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Kk(t,s,n){let i=await Promise.all(t.map(async o=>{let c=s.routes[o.route.id];if(c){let u=await Hk(c,n);return u.links?u.links():[]}return[]}));return Zk(i.flat(1).filter($k).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function lj(t,s,n,i,o,c){let u=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,m=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return c==="assets"?s.filter((h,f)=>u(h,f)||m(h,f)):c==="data"?s.filter((h,f)=>{let p=i.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(u(h,f)||m(h,f))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Qk(t,s,{includeHydrateFallback:n}={}){return Gk(t.map(i=>{let o=s.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Gk(t){return[...new Set(t)]}function Yk(t){let s={},n=Object.keys(t).sort();for(let i of n)s[i]=t[i];return s}function Zk(t,s){let n=new Set;return new Set(s),t.reduce((i,o)=>{let c=JSON.stringify(Yk(o));return n.has(c)||(n.add(c),i.push({key:c,link:o})),i},[])}function gN(){let t=v.useContext(to);return ip(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Wk(){let t=v.useContext(Qu);return ip(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lp=v.createContext(void 0);lp.displayName="FrameworkContext";function yN(){let t=v.useContext(lp);return ip(t,"You must render this element inside a <HydratedRouter> element"),t}function Xk(t,s){let n=v.useContext(lp),[i,o]=v.useState(!1),[c,u]=v.useState(!1),{onFocus:m,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:y}=s,b=v.useRef(null);v.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=A=>{A.forEach(E=>{u(E.isIntersecting)})},C=new IntersectionObserver(j,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[t]),v.useEffect(()=>{if(i){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[i]);let w=()=>{o(!0)},N=()=>{o(!1),u(!1)};return n?t!=="intent"?[c,b,{}]:[c,b,{onFocus:nc(m,w),onBlur:nc(h,N),onMouseEnter:nc(f,w),onMouseLeave:nc(p,N),onTouchStart:nc(y,w)}]:[!1,b,{}]}function nc(t,s){return n=>{t&&t(n),n.defaultPrevented||s(n)}}function Jk({page:t,...s}){let{router:n}=gN(),i=v.useMemo(()=>oN(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?v.createElement(tE,{page:t,matches:i,...s}):null}function eE(t){let{manifest:s,routeModules:n}=yN(),[i,o]=v.useState([]);return v.useEffect(()=>{let c=!1;return Kk(t,s,n).then(u=>{c||o(u)}),()=>{c=!0}},[t,s,n]),i}function tE({page:t,matches:s,...n}){let i=_a(),{manifest:o,routeModules:c}=yN(),{basename:u}=gN(),{loaderData:m,matches:h}=Wk(),f=v.useMemo(()=>lj(t,s,h,o,i,"data"),[t,s,h,o,i]),p=v.useMemo(()=>lj(t,s,h,o,i,"assets"),[t,s,h,o,i]),y=v.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let N=new Set,j=!1;if(s.forEach(A=>{let E=o.routes[A.route.id];!E||!E.hasLoader||(!f.some(S=>S.route.id===A.route.id)&&A.route.id in m&&c[A.route.id]?.shouldRevalidate||E.hasClientLoader?j=!0:N.add(A.route.id))}),N.size===0)return[];let C=Vk(t,u,"data");return j&&N.size>0&&C.searchParams.set("_routes",s.filter(A=>N.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[u,m,i,o,f,s,t,c]),b=v.useMemo(()=>Qk(p,o),[p,o]),w=eE(p);return v.createElement(v.Fragment,null,y.map(N=>v.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),b.map(N=>v.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),w.map(({key:N,link:j})=>v.createElement("link",{key:N,nonce:n.nonce,...j})))}function sE(...t){return s=>{t.forEach(n=>{typeof n=="function"?n(s):n!=null&&(n.current=s)})}}var vN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vN&&(window.__reactRouterVersion="7.9.6")}catch{}function aE({basename:t,children:s,window:n}){let i=v.useRef();i.current==null&&(i.current=V4({window:n,v5Compat:!0}));let o=i.current,[c,u]=v.useState({action:o.action,location:o.location}),m=v.useCallback(h=>{v.startTransition(()=>u(h))},[u]);return v.useLayoutEffect(()=>o.listen(m),[o,m]),v.createElement(Dk,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:o})}var jN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=v.forwardRef(function({onClick:s,discover:n="render",prefetch:i="none",relative:o,reloadDocument:c,replace:u,state:m,target:h,to:f,preventScrollReset:p,viewTransition:y,...b},w){let{basename:N}=v.useContext(nn),j=typeof f=="string"&&jN.test(f),C,A=!1;if(typeof f=="string"&&j&&(C=f,vN))try{let $=new URL(window.location.href),H=f.startsWith("//")?new URL($.protocol+f):new URL(f),G=Jn(H.pathname,N);H.origin===$.origin&&G!=null?f=G+H.search+H.hash:A=!0}catch{Ea(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=gk(f,{relative:o}),[S,R,_]=Xk(i,b),L=lE(f,{replace:u,state:m,target:h,preventScrollReset:p,relative:o,viewTransition:y});function I($){s&&s($),$.defaultPrevented||L($)}let q=v.createElement("a",{...b,..._,href:C||E,onClick:A||c?s:I,ref:sE(w,R),target:h,"data-discover":!j&&n==="render"?"true":void 0});return S&&!j?v.createElement(v.Fragment,null,q,v.createElement(Jk,{page:E})):q});wt.displayName="Link";var nE=v.forwardRef(function({"aria-current":s="page",caseSensitive:n=!1,className:i="",end:o=!1,style:c,to:u,viewTransition:m,children:h,...f},p){let y=Rc(u,{relative:f.relative}),b=_a(),w=v.useContext(Qu),{navigator:N,basename:j}=v.useContext(nn),C=w!=null&&hE(y)&&m===!0,A=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,E=b.pathname,S=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(E=E.toLowerCase(),S=S?S.toLowerCase():null,A=A.toLowerCase()),S&&j&&(S=Jn(S,j)||S);const R=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let _=E===A||!o&&E.startsWith(A)&&E.charAt(R)==="/",L=S!=null&&(S===A||!o&&S.startsWith(A)&&S.charAt(A.length)==="/"),I={isActive:_,isPending:L,isTransitioning:C},q=_?s:void 0,$;typeof i=="function"?$=i(I):$=[i,_?"active":null,L?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let H=typeof c=="function"?c(I):c;return v.createElement(wt,{...f,"aria-current":q,className:$,ref:p,style:H,to:u,viewTransition:m},typeof h=="function"?h(I):h)});nE.displayName="NavLink";var rE=v.forwardRef(({discover:t="render",fetcherKey:s,navigate:n,reloadDocument:i,replace:o,state:c,method:u=hu,action:m,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:y,...b},w)=>{let N=uE(),j=mE(m,{relative:f}),C=u.toLowerCase()==="get"?"get":"post",A=typeof m=="string"&&jN.test(m),E=S=>{if(h&&h(S),S.defaultPrevented)return;S.preventDefault();let R=S.nativeEvent.submitter,_=R?.getAttribute("formmethod")||u;N(R||S.currentTarget,{fetcherKey:s,method:_,navigate:n,replace:o,state:c,relative:f,preventScrollReset:p,viewTransition:y})};return v.createElement("form",{ref:w,method:C,action:j,onSubmit:i?h:E,...b,"data-discover":!A&&t==="render"?"true":void 0})});rE.displayName="Form";function iE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bN(t){let s=v.useContext(to);return Ht(s,iE(t)),s}function lE(t,{target:s,replace:n,state:i,preventScrollReset:o,relative:c,viewTransition:u}={}){let m=St(),h=_a(),f=Rc(t,{relative:c});return v.useCallback(p=>{if(Uk(p,s)){p.preventDefault();let y=n!==void 0?n:bc(h)===bc(f);m(t,{replace:y,state:i,preventScrollReset:o,relative:c,viewTransition:u})}},[h,m,f,n,i,s,t,o,c,u])}function oE(t){Ea(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let s=v.useRef(xx(t)),n=v.useRef(!1),i=_a(),o=v.useMemo(()=>Fk(i.search,n.current?null:s.current),[i.search]),c=St(),u=v.useCallback((m,h)=>{const f=xx(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,c("?"+f,h)},[c,o]);return[o,u]}var cE=0,dE=()=>`__${String(++cE)}__`;function uE(){let{router:t}=bN("useSubmit"),{basename:s}=v.useContext(nn),n=Ak();return v.useCallback(async(i,o={})=>{let{action:c,method:u,encType:m,formData:h,body:f}=Bk(i,s);if(o.navigate===!1){let p=o.fetcherKey||dE();await t.fetch(p,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||u,formEncType:o.encType||m,flushSync:o.flushSync})}else await t.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||u,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,s,n])}function mE(t,{relative:s}={}){let{basename:n}=v.useContext(nn),i=v.useContext(rn);Ht(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...Rc(t||".",{relative:s})},u=_a();if(t==null){c.search=u.search;let m=new URLSearchParams(c.search),h=m.getAll("index");if(h.some(p=>p==="")){m.delete("index"),h.filter(y=>y).forEach(y=>m.append("index",y));let p=m.toString();c.search=p?`?${p}`:""}}return(!t||t===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Zn([n,c.pathname])),bc(c)}function hE(t,{relative:s}={}){let n=v.useContext(mN);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=bN("useViewTransitionState"),o=Rc(t,{relative:s});if(!n.isTransitioning)return!1;let c=Jn(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Jn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Au(o.pathname,u)!=null||Au(o.pathname,c)!=null}var Dc=Zb();const fE=Gb(Dc);function NN(t,s){return function(){return t.apply(s,arguments)}}const{toString:xE}=Object.prototype,{getPrototypeOf:op}=Object,{iterator:Yu,toStringTag:wN}=Symbol,Zu=(t=>s=>{const n=xE.call(s);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),on=t=>(t=t.toLowerCase(),s=>Zu(s)===t),Wu=t=>s=>typeof s===t,{isArray:ao}=Array,Bl=Wu("undefined");function Oc(t){return t!==null&&!Bl(t)&&t.constructor!==null&&!Bl(t.constructor)&&da(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const SN=on("ArrayBuffer");function pE(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&SN(t.buffer),s}const gE=Wu("string"),da=Wu("function"),CN=Wu("number"),Mc=t=>t!==null&&typeof t=="object",yE=t=>t===!0||t===!1,xu=t=>{if(Zu(t)!=="object")return!1;const s=op(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(wN in t)&&!(Yu in t)},vE=t=>{if(!Mc(t)||Oc(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},jE=on("Date"),bE=on("File"),NE=on("Blob"),wE=on("FileList"),SE=t=>Mc(t)&&da(t.pipe),CE=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||da(t.append)&&((s=Zu(t))==="formdata"||s==="object"&&da(t.toString)&&t.toString()==="[object FormData]"))},kE=on("URLSearchParams"),[EE,AE,_E,TE]=["ReadableStream","Request","Response","Headers"].map(on),RE=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ic(t,s,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,o;if(typeof t!="object"&&(t=[t]),ao(t))for(i=0,o=t.length;i<o;i++)s.call(null,t[i],i,t);else{if(Oc(t))return;const c=n?Object.getOwnPropertyNames(t):Object.keys(t),u=c.length;let m;for(i=0;i<u;i++)m=c[i],s.call(null,t[m],m,t)}}function kN(t,s){if(Oc(t))return null;s=s.toLowerCase();const n=Object.keys(t);let i=n.length,o;for(;i-- >0;)if(o=n[i],s===o.toLowerCase())return o;return null}const pi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,EN=t=>!Bl(t)&&t!==pi;function px(){const{caseless:t,skipUndefined:s}=EN(this)&&this||{},n={},i=(o,c)=>{const u=t&&kN(n,c)||c;xu(n[u])&&xu(o)?n[u]=px(n[u],o):xu(o)?n[u]=px({},o):ao(o)?n[u]=o.slice():(!s||!Bl(o))&&(n[u]=o)};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&Ic(arguments[o],i);return n}const DE=(t,s,n,{allOwnKeys:i}={})=>(Ic(s,(o,c)=>{n&&da(o)?t[c]=NN(o,n):t[c]=o},{allOwnKeys:i}),t),OE=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ME=(t,s,n,i)=>{t.prototype=Object.create(s.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),n&&Object.assign(t.prototype,n)},IE=(t,s,n,i)=>{let o,c,u;const m={};if(s=s||{},t==null)return s;do{for(o=Object.getOwnPropertyNames(t),c=o.length;c-- >0;)u=o[c],(!i||i(u,t,s))&&!m[u]&&(s[u]=t[u],m[u]=!0);t=n!==!1&&op(t)}while(t&&(!n||n(t,s))&&t!==Object.prototype);return s},LE=(t,s,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=s.length;const i=t.indexOf(s,n);return i!==-1&&i===n},PE=t=>{if(!t)return null;if(ao(t))return t;let s=t.length;if(!CN(s))return null;const n=new Array(s);for(;s-- >0;)n[s]=t[s];return n},UE=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&op(Uint8Array)),FE=(t,s)=>{const i=(t&&t[Yu]).call(t);let o;for(;(o=i.next())&&!o.done;){const c=o.value;s.call(t,c[0],c[1])}},qE=(t,s)=>{let n;const i=[];for(;(n=t.exec(s))!==null;)i.push(n);return i},zE=on("HTMLFormElement"),BE=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,o){return i.toUpperCase()+o}),oj=(({hasOwnProperty:t})=>(s,n)=>t.call(s,n))(Object.prototype),VE=on("RegExp"),AN=(t,s)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Ic(n,(o,c)=>{let u;(u=s(o,c,t))!==!1&&(i[c]=u||o)}),Object.defineProperties(t,i)},HE=t=>{AN(t,(s,n)=>{if(da(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(da(i)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$E=(t,s)=>{const n={},i=o=>{o.forEach(c=>{n[c]=!0})};return ao(t)?i(t):i(String(t).split(s)),n},KE=()=>{},QE=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function GE(t){return!!(t&&da(t.append)&&t[wN]==="FormData"&&t[Yu])}const YE=t=>{const s=new Array(10),n=(i,o)=>{if(Mc(i)){if(s.indexOf(i)>=0)return;if(Oc(i))return i;if(!("toJSON"in i)){s[o]=i;const c=ao(i)?[]:{};return Ic(i,(u,m)=>{const h=n(u,o+1);!Bl(h)&&(c[m]=h)}),s[o]=void 0,c}}return i};return n(t,0)},ZE=on("AsyncFunction"),WE=t=>t&&(Mc(t)||da(t))&&da(t.then)&&da(t.catch),_N=((t,s)=>t?setImmediate:s?((n,i)=>(pi.addEventListener("message",({source:o,data:c})=>{o===pi&&c===n&&i.length&&i.shift()()},!1),o=>{i.push(o),pi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",da(pi.postMessage)),XE=typeof queueMicrotask<"u"?queueMicrotask.bind(pi):typeof process<"u"&&process.nextTick||_N,JE=t=>t!=null&&da(t[Yu]),le={isArray:ao,isArrayBuffer:SN,isBuffer:Oc,isFormData:CE,isArrayBufferView:pE,isString:gE,isNumber:CN,isBoolean:yE,isObject:Mc,isPlainObject:xu,isEmptyObject:vE,isReadableStream:EE,isRequest:AE,isResponse:_E,isHeaders:TE,isUndefined:Bl,isDate:jE,isFile:bE,isBlob:NE,isRegExp:VE,isFunction:da,isStream:SE,isURLSearchParams:kE,isTypedArray:UE,isFileList:wE,forEach:Ic,merge:px,extend:DE,trim:RE,stripBOM:OE,inherits:ME,toFlatObject:IE,kindOf:Zu,kindOfTest:on,endsWith:LE,toArray:PE,forEachEntry:FE,matchAll:qE,isHTMLForm:zE,hasOwnProperty:oj,hasOwnProp:oj,reduceDescriptors:AN,freezeMethods:HE,toObjectSet:$E,toCamelCase:BE,noop:KE,toFiniteNumber:QE,findKey:kN,global:pi,isContextDefined:EN,isSpecCompliantForm:GE,toJSONObject:YE,isAsyncFn:ZE,isThenable:WE,setImmediate:_N,asap:XE,isIterable:JE};function lt(t,s,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}le.inherits(lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:le.toJSONObject(this.config),code:this.code,status:this.status}}});const TN=lt.prototype,RN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{RN[t]={value:t}});Object.defineProperties(lt,RN);Object.defineProperty(TN,"isAxiosError",{value:!0});lt.from=(t,s,n,i,o,c)=>{const u=Object.create(TN);le.toFlatObject(t,u,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const m=t&&t.message?t.message:"Error",h=s==null&&t?t.code:s;return lt.call(u,m,h,n,i,o),t&&u.cause==null&&Object.defineProperty(u,"cause",{value:t,configurable:!0}),u.name=t&&t.name||"Error",c&&Object.assign(u,c),u};const eA=null;function gx(t){return le.isPlainObject(t)||le.isArray(t)}function DN(t){return le.endsWith(t,"[]")?t.slice(0,-2):t}function cj(t,s,n){return t?t.concat(s).map(function(o,c){return o=DN(o),!n&&c?"["+o+"]":o}).join(n?".":""):s}function tA(t){return le.isArray(t)&&!t.some(gx)}const sA=le.toFlatObject(le,{},null,function(s){return/^is[A-Z]/.test(s)});function Xu(t,s,n){if(!le.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,n=le.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,C){return!le.isUndefined(C[j])});const i=n.metaTokens,o=n.visitor||p,c=n.dots,u=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&le.isSpecCompliantForm(s);if(!le.isFunction(o))throw new TypeError("visitor must be a function");function f(N){if(N===null)return"";if(le.isDate(N))return N.toISOString();if(le.isBoolean(N))return N.toString();if(!h&&le.isBlob(N))throw new lt("Blob is not supported. Use a Buffer instead.");return le.isArrayBuffer(N)||le.isTypedArray(N)?h&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function p(N,j,C){let A=N;if(N&&!C&&typeof N=="object"){if(le.endsWith(j,"{}"))j=i?j:j.slice(0,-2),N=JSON.stringify(N);else if(le.isArray(N)&&tA(N)||(le.isFileList(N)||le.endsWith(j,"[]"))&&(A=le.toArray(N)))return j=DN(j),A.forEach(function(S,R){!(le.isUndefined(S)||S===null)&&s.append(u===!0?cj([j],R,c):u===null?j:j+"[]",f(S))}),!1}return gx(N)?!0:(s.append(cj(C,j,c),f(N)),!1)}const y=[],b=Object.assign(sA,{defaultVisitor:p,convertValue:f,isVisitable:gx});function w(N,j){if(!le.isUndefined(N)){if(y.indexOf(N)!==-1)throw Error("Circular reference detected in "+j.join("."));y.push(N),le.forEach(N,function(A,E){(!(le.isUndefined(A)||A===null)&&o.call(s,A,le.isString(E)?E.trim():E,j,b))===!0&&w(A,j?j.concat(E):[E])}),y.pop()}}if(!le.isObject(t))throw new TypeError("data must be an object");return w(t),s}function dj(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return s[i]})}function cp(t,s){this._pairs=[],t&&Xu(t,this,s)}const ON=cp.prototype;ON.append=function(s,n){this._pairs.push([s,n])};ON.toString=function(s){const n=s?function(i){return s.call(this,i,dj)}:dj;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function aA(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function MN(t,s,n){if(!s)return t;const i=n&&n.encode||aA;le.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let c;if(o?c=o(s,n):c=le.isURLSearchParams(s)?s.toString():new cp(s,n).toString(i),c){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class uj{constructor(){this.handlers=[]}use(s,n,i){return this.handlers.push({fulfilled:s,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){le.forEach(this.handlers,function(i){i!==null&&s(i)})}}const IN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nA=typeof URLSearchParams<"u"?URLSearchParams:cp,rA=typeof FormData<"u"?FormData:null,iA=typeof Blob<"u"?Blob:null,lA={isBrowser:!0,classes:{URLSearchParams:nA,FormData:rA,Blob:iA},protocols:["http","https","file","blob","url","data"]},dp=typeof window<"u"&&typeof document<"u",yx=typeof navigator=="object"&&navigator||void 0,oA=dp&&(!yx||["ReactNative","NativeScript","NS"].indexOf(yx.product)<0),cA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dA=dp&&window.location.href||"http://localhost",uA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dp,hasStandardBrowserEnv:oA,hasStandardBrowserWebWorkerEnv:cA,navigator:yx,origin:dA},Symbol.toStringTag,{value:"Module"})),zs={...uA,...lA};function mA(t,s){return Xu(t,new zs.classes.URLSearchParams,{visitor:function(n,i,o,c){return zs.isNode&&le.isBuffer(n)?(this.append(i,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...s})}function hA(t){return le.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function fA(t){const s={},n=Object.keys(t);let i;const o=n.length;let c;for(i=0;i<o;i++)c=n[i],s[c]=t[c];return s}function LN(t){function s(n,i,o,c){let u=n[c++];if(u==="__proto__")return!0;const m=Number.isFinite(+u),h=c>=n.length;return u=!u&&le.isArray(o)?o.length:u,h?(le.hasOwnProp(o,u)?o[u]=[o[u],i]:o[u]=i,!m):((!o[u]||!le.isObject(o[u]))&&(o[u]=[]),s(n,i,o[u],c)&&le.isArray(o[u])&&(o[u]=fA(o[u])),!m)}if(le.isFormData(t)&&le.isFunction(t.entries)){const n={};return le.forEachEntry(t,(i,o)=>{s(hA(i),o,n,0)}),n}return null}function xA(t,s,n){if(le.isString(t))try{return(s||JSON.parse)(t),le.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Lc={transitional:IN,adapter:["xhr","http","fetch"],transformRequest:[function(s,n){const i=n.getContentType()||"",o=i.indexOf("application/json")>-1,c=le.isObject(s);if(c&&le.isHTMLForm(s)&&(s=new FormData(s)),le.isFormData(s))return o?JSON.stringify(LN(s)):s;if(le.isArrayBuffer(s)||le.isBuffer(s)||le.isStream(s)||le.isFile(s)||le.isBlob(s)||le.isReadableStream(s))return s;if(le.isArrayBufferView(s))return s.buffer;if(le.isURLSearchParams(s))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let m;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return mA(s,this.formSerializer).toString();if((m=le.isFileList(s))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Xu(m?{"files[]":s}:s,h&&new h,this.formSerializer)}}return c||o?(n.setContentType("application/json",!1),xA(s)):s}],transformResponse:[function(s){const n=this.transitional||Lc.transitional,i=n&&n.forcedJSONParsing,o=this.responseType==="json";if(le.isResponse(s)||le.isReadableStream(s))return s;if(s&&le.isString(s)&&(i&&!this.responseType||o)){const u=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(s,this.parseReviver)}catch(m){if(u)throw m.name==="SyntaxError"?lt.from(m,lt.ERR_BAD_RESPONSE,this,null,this.response):m}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zs.classes.FormData,Blob:zs.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};le.forEach(["delete","get","head","post","put","patch"],t=>{Lc.headers[t]={}});const pA=le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gA=t=>{const s={};let n,i,o;return t&&t.split(`
`).forEach(function(u){o=u.indexOf(":"),n=u.substring(0,o).trim().toLowerCase(),i=u.substring(o+1).trim(),!(!n||s[n]&&pA[n])&&(n==="set-cookie"?s[n]?s[n].push(i):s[n]=[i]:s[n]=s[n]?s[n]+", "+i:i)}),s},mj=Symbol("internals");function rc(t){return t&&String(t).trim().toLowerCase()}function pu(t){return t===!1||t==null?t:le.isArray(t)?t.map(pu):String(t)}function yA(t){const s=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)s[i[1]]=i[2];return s}const vA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Uf(t,s,n,i,o){if(le.isFunction(i))return i.call(this,s,n);if(o&&(s=n),!!le.isString(s)){if(le.isString(i))return s.indexOf(i)!==-1;if(le.isRegExp(i))return i.test(s)}}function jA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,n,i)=>n.toUpperCase()+i)}function bA(t,s){const n=le.toCamelCase(" "+s);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(o,c,u){return this[i].call(this,s,o,c,u)},configurable:!0})})}let ua=class{constructor(s){s&&this.set(s)}set(s,n,i){const o=this;function c(m,h,f){const p=rc(h);if(!p)throw new Error("header name must be a non-empty string");const y=le.findKey(o,p);(!y||o[y]===void 0||f===!0||f===void 0&&o[y]!==!1)&&(o[y||h]=pu(m))}const u=(m,h)=>le.forEach(m,(f,p)=>c(f,p,h));if(le.isPlainObject(s)||s instanceof this.constructor)u(s,n);else if(le.isString(s)&&(s=s.trim())&&!vA(s))u(gA(s),n);else if(le.isObject(s)&&le.isIterable(s)){let m={},h,f;for(const p of s){if(!le.isArray(p))throw TypeError("Object iterator must return a key-value pair");m[f=p[0]]=(h=m[f])?le.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}u(m,n)}else s!=null&&c(n,s,i);return this}get(s,n){if(s=rc(s),s){const i=le.findKey(this,s);if(i){const o=this[i];if(!n)return o;if(n===!0)return yA(o);if(le.isFunction(n))return n.call(this,o,i);if(le.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,n){if(s=rc(s),s){const i=le.findKey(this,s);return!!(i&&this[i]!==void 0&&(!n||Uf(this,this[i],i,n)))}return!1}delete(s,n){const i=this;let o=!1;function c(u){if(u=rc(u),u){const m=le.findKey(i,u);m&&(!n||Uf(i,i[m],m,n))&&(delete i[m],o=!0)}}return le.isArray(s)?s.forEach(c):c(s),o}clear(s){const n=Object.keys(this);let i=n.length,o=!1;for(;i--;){const c=n[i];(!s||Uf(this,this[c],c,s,!0))&&(delete this[c],o=!0)}return o}normalize(s){const n=this,i={};return le.forEach(this,(o,c)=>{const u=le.findKey(i,c);if(u){n[u]=pu(o),delete n[c];return}const m=s?jA(c):String(c).trim();m!==c&&delete n[c],n[m]=pu(o),i[m]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const n=Object.create(null);return le.forEach(this,(i,o)=>{i!=null&&i!==!1&&(n[o]=s&&le.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,n])=>s+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...n){const i=new this(s);return n.forEach(o=>i.set(o)),i}static accessor(s){const i=(this[mj]=this[mj]={accessors:{}}).accessors,o=this.prototype;function c(u){const m=rc(u);i[m]||(bA(o,u),i[m]=!0)}return le.isArray(s)?s.forEach(c):c(s),this}};ua.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);le.reduceDescriptors(ua.prototype,({value:t},s)=>{let n=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(i){this[n]=i}}});le.freezeMethods(ua);function Ff(t,s){const n=this||Lc,i=s||n,o=ua.from(i.headers);let c=i.data;return le.forEach(t,function(m){c=m.call(n,c,o.normalize(),s?s.status:void 0)}),o.normalize(),c}function PN(t){return!!(t&&t.__CANCEL__)}function no(t,s,n){lt.call(this,t??"canceled",lt.ERR_CANCELED,s,n),this.name="CanceledError"}le.inherits(no,lt,{__CANCEL__:!0});function UN(t,s,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):s(new lt("Request failed with status code "+n.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function NA(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function wA(t,s){t=t||10;const n=new Array(t),i=new Array(t);let o=0,c=0,u;return s=s!==void 0?s:1e3,function(h){const f=Date.now(),p=i[c];u||(u=f),n[o]=h,i[o]=f;let y=c,b=0;for(;y!==o;)b+=n[y++],y=y%t;if(o=(o+1)%t,o===c&&(c=(c+1)%t),f-u<s)return;const w=p&&f-p;return w?Math.round(b*1e3/w):void 0}}function SA(t,s){let n=0,i=1e3/s,o,c;const u=(f,p=Date.now())=>{n=p,o=null,c&&(clearTimeout(c),c=null),t(...f)};return[(...f)=>{const p=Date.now(),y=p-n;y>=i?u(f,p):(o=f,c||(c=setTimeout(()=>{c=null,u(o)},i-y)))},()=>o&&u(o)]}const _u=(t,s,n=3)=>{let i=0;const o=wA(50,250);return SA(c=>{const u=c.loaded,m=c.lengthComputable?c.total:void 0,h=u-i,f=o(h),p=u<=m;i=u;const y={loaded:u,total:m,progress:m?u/m:void 0,bytes:h,rate:f||void 0,estimated:f&&m&&p?(m-u)/f:void 0,event:c,lengthComputable:m!=null,[s?"download":"upload"]:!0};t(y)},n)},hj=(t,s)=>{const n=t!=null;return[i=>s[0]({lengthComputable:n,total:t,loaded:i}),s[1]]},fj=t=>(...s)=>le.asap(()=>t(...s)),CA=zs.hasStandardBrowserEnv?((t,s)=>n=>(n=new URL(n,zs.origin),t.protocol===n.protocol&&t.host===n.host&&(s||t.port===n.port)))(new URL(zs.origin),zs.navigator&&/(msie|trident)/i.test(zs.navigator.userAgent)):()=>!0,kA=zs.hasStandardBrowserEnv?{write(t,s,n,i,o,c,u){if(typeof document>"u")return;const m=[`${t}=${encodeURIComponent(s)}`];le.isNumber(n)&&m.push(`expires=${new Date(n).toUTCString()}`),le.isString(i)&&m.push(`path=${i}`),le.isString(o)&&m.push(`domain=${o}`),c===!0&&m.push("secure"),le.isString(u)&&m.push(`SameSite=${u}`),document.cookie=m.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function EA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function AA(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function FN(t,s,n){let i=!EA(s);return t&&(i||n==!1)?AA(t,s):s}const xj=t=>t instanceof ua?{...t}:t;function ki(t,s){s=s||{};const n={};function i(f,p,y,b){return le.isPlainObject(f)&&le.isPlainObject(p)?le.merge.call({caseless:b},f,p):le.isPlainObject(p)?le.merge({},p):le.isArray(p)?p.slice():p}function o(f,p,y,b){if(le.isUndefined(p)){if(!le.isUndefined(f))return i(void 0,f,y,b)}else return i(f,p,y,b)}function c(f,p){if(!le.isUndefined(p))return i(void 0,p)}function u(f,p){if(le.isUndefined(p)){if(!le.isUndefined(f))return i(void 0,f)}else return i(void 0,p)}function m(f,p,y){if(y in s)return i(f,p);if(y in t)return i(void 0,f)}const h={url:c,method:c,data:c,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:m,headers:(f,p,y)=>o(xj(f),xj(p),y,!0)};return le.forEach(Object.keys({...t,...s}),function(p){const y=h[p]||o,b=y(t[p],s[p],p);le.isUndefined(b)&&y!==m||(n[p]=b)}),n}const qN=t=>{const s=ki({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:c,headers:u,auth:m}=s;if(s.headers=u=ua.from(u),s.url=MN(FN(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),m&&u.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),le.isFormData(n)){if(zs.hasStandardBrowserEnv||zs.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(le.isFunction(n.getHeaders)){const h=n.getHeaders(),f=["content-type","content-length"];Object.entries(h).forEach(([p,y])=>{f.includes(p.toLowerCase())&&u.set(p,y)})}}if(zs.hasStandardBrowserEnv&&(i&&le.isFunction(i)&&(i=i(s)),i||i!==!1&&CA(s.url))){const h=o&&c&&kA.read(c);h&&u.set(o,h)}return s},_A=typeof XMLHttpRequest<"u",TA=_A&&function(t){return new Promise(function(n,i){const o=qN(t);let c=o.data;const u=ua.from(o.headers).normalize();let{responseType:m,onUploadProgress:h,onDownloadProgress:f}=o,p,y,b,w,N;function j(){w&&w(),N&&N(),o.cancelToken&&o.cancelToken.unsubscribe(p),o.signal&&o.signal.removeEventListener("abort",p)}let C=new XMLHttpRequest;C.open(o.method.toUpperCase(),o.url,!0),C.timeout=o.timeout;function A(){if(!C)return;const S=ua.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),_={data:!m||m==="text"||m==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:S,config:t,request:C};UN(function(I){n(I),j()},function(I){i(I),j()},_),C=null}"onloadend"in C?C.onloadend=A:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(A)},C.onabort=function(){C&&(i(new lt("Request aborted",lt.ECONNABORTED,t,C)),C=null)},C.onerror=function(R){const _=R&&R.message?R.message:"Network Error",L=new lt(_,lt.ERR_NETWORK,t,C);L.event=R||null,i(L),C=null},C.ontimeout=function(){let R=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const _=o.transitional||IN;o.timeoutErrorMessage&&(R=o.timeoutErrorMessage),i(new lt(R,_.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,t,C)),C=null},c===void 0&&u.setContentType(null),"setRequestHeader"in C&&le.forEach(u.toJSON(),function(R,_){C.setRequestHeader(_,R)}),le.isUndefined(o.withCredentials)||(C.withCredentials=!!o.withCredentials),m&&m!=="json"&&(C.responseType=o.responseType),f&&([b,N]=_u(f,!0),C.addEventListener("progress",b)),h&&C.upload&&([y,w]=_u(h),C.upload.addEventListener("progress",y),C.upload.addEventListener("loadend",w)),(o.cancelToken||o.signal)&&(p=S=>{C&&(i(!S||S.type?new no(null,t,C):S),C.abort(),C=null)},o.cancelToken&&o.cancelToken.subscribe(p),o.signal&&(o.signal.aborted?p():o.signal.addEventListener("abort",p)));const E=NA(o.url);if(E&&zs.protocols.indexOf(E)===-1){i(new lt("Unsupported protocol "+E+":",lt.ERR_BAD_REQUEST,t));return}C.send(c||null)})},RA=(t,s)=>{const{length:n}=t=t?t.filter(Boolean):[];if(s||n){let i=new AbortController,o;const c=function(f){if(!o){o=!0,m();const p=f instanceof Error?f:this.reason;i.abort(p instanceof lt?p:new no(p instanceof Error?p.message:p))}};let u=s&&setTimeout(()=>{u=null,c(new lt(`timeout ${s} of ms exceeded`,lt.ETIMEDOUT))},s);const m=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(c):f.removeEventListener("abort",c)}),t=null)};t.forEach(f=>f.addEventListener("abort",c));const{signal:h}=i;return h.unsubscribe=()=>le.asap(m),h}},DA=function*(t,s){let n=t.byteLength;if(n<s){yield t;return}let i=0,o;for(;i<n;)o=i+s,yield t.slice(i,o),i=o},OA=async function*(t,s){for await(const n of MA(t))yield*DA(n,s)},MA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:n,value:i}=await s.read();if(n)break;yield i}}finally{await s.cancel()}},pj=(t,s,n,i)=>{const o=OA(t,s);let c=0,u,m=h=>{u||(u=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:f,value:p}=await o.next();if(f){m(),h.close();return}let y=p.byteLength;if(n){let b=c+=y;n(b)}h.enqueue(new Uint8Array(p))}catch(f){throw m(f),f}},cancel(h){return m(h),o.return()}},{highWaterMark:2})},gj=64*1024,{isFunction:au}=le,IA=(({Request:t,Response:s})=>({Request:t,Response:s}))(le.global),{ReadableStream:yj,TextEncoder:vj}=le.global,jj=(t,...s)=>{try{return!!t(...s)}catch{return!1}},LA=t=>{t=le.merge.call({skipUndefined:!0},IA,t);const{fetch:s,Request:n,Response:i}=t,o=s?au(s):typeof fetch=="function",c=au(n),u=au(i);if(!o)return!1;const m=o&&au(yj),h=o&&(typeof vj=="function"?(N=>j=>N.encode(j))(new vj):async N=>new Uint8Array(await new n(N).arrayBuffer())),f=c&&m&&jj(()=>{let N=!1;const j=new n(zs.origin,{body:new yj,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!j}),p=u&&m&&jj(()=>le.isReadableStream(new i("").body)),y={stream:p&&(N=>N.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!y[N]&&(y[N]=(j,C)=>{let A=j&&j[N];if(A)return A.call(j);throw new lt(`Response type '${N}' is not supported`,lt.ERR_NOT_SUPPORT,C)})});const b=async N=>{if(N==null)return 0;if(le.isBlob(N))return N.size;if(le.isSpecCompliantForm(N))return(await new n(zs.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(le.isArrayBufferView(N)||le.isArrayBuffer(N))return N.byteLength;if(le.isURLSearchParams(N)&&(N=N+""),le.isString(N))return(await h(N)).byteLength},w=async(N,j)=>{const C=le.toFiniteNumber(N.getContentLength());return C??b(j)};return async N=>{let{url:j,method:C,data:A,signal:E,cancelToken:S,timeout:R,onDownloadProgress:_,onUploadProgress:L,responseType:I,headers:q,withCredentials:$="same-origin",fetchOptions:H}=qN(N),G=s||fetch;I=I?(I+"").toLowerCase():"text";let F=RA([E,S&&S.toAbortSignal()],R),de=null;const z=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let he;try{if(L&&f&&C!=="get"&&C!=="head"&&(he=await w(q,A))!==0){let B=new n(j,{method:"POST",body:A,duplex:"half"}),te;if(le.isFormData(A)&&(te=B.headers.get("content-type"))&&q.setContentType(te),B.body){const[T,ye]=hj(he,_u(fj(L)));A=pj(B.body,gj,T,ye)}}le.isString($)||($=$?"include":"omit");const O=c&&"credentials"in n.prototype,P={...H,signal:F,method:C.toUpperCase(),headers:q.normalize().toJSON(),body:A,duplex:"half",credentials:O?$:void 0};de=c&&new n(j,P);let U=await(c?G(de,H):G(j,P));const pe=p&&(I==="stream"||I==="response");if(p&&(_||pe&&z)){const B={};["status","statusText","headers"].forEach(Ce=>{B[Ce]=U[Ce]});const te=le.toFiniteNumber(U.headers.get("content-length")),[T,ye]=_&&hj(te,_u(fj(_),!0))||[];U=new i(pj(U.body,gj,T,()=>{ye&&ye(),z&&z()}),B)}I=I||"text";let Ne=await y[le.findKey(y,I)||"text"](U,N);return!pe&&z&&z(),await new Promise((B,te)=>{UN(B,te,{data:Ne,headers:ua.from(U.headers),status:U.status,statusText:U.statusText,config:N,request:de})})}catch(O){throw z&&z(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new lt("Network Error",lt.ERR_NETWORK,N,de),{cause:O.cause||O}):lt.from(O,O&&O.code,N,de)}}},PA=new Map,zN=t=>{let s=t&&t.env||{};const{fetch:n,Request:i,Response:o}=s,c=[i,o,n];let u=c.length,m=u,h,f,p=PA;for(;m--;)h=c[m],f=p.get(h),f===void 0&&p.set(h,f=m?new Map:LA(s)),p=f;return f};zN();const up={http:eA,xhr:TA,fetch:{get:zN}};le.forEach(up,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const bj=t=>`- ${t}`,UA=t=>le.isFunction(t)||t===null||t===!1;function FA(t,s){t=le.isArray(t)?t:[t];const{length:n}=t;let i,o;const c={};for(let u=0;u<n;u++){i=t[u];let m;if(o=i,!UA(i)&&(o=up[(m=String(i)).toLowerCase()],o===void 0))throw new lt(`Unknown adapter '${m}'`);if(o&&(le.isFunction(o)||(o=o.get(s))))break;c[m||"#"+u]=o}if(!o){const u=Object.entries(c).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let m=n?u.length>1?`since :
`+u.map(bj).join(`
`):" "+bj(u[0]):"as no adapter specified";throw new lt("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return o}const BN={getAdapter:FA,adapters:up};function qf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new no(null,t)}function Nj(t){return qf(t),t.headers=ua.from(t.headers),t.data=Ff.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),BN.getAdapter(t.adapter||Lc.adapter,t)(t).then(function(i){return qf(t),i.data=Ff.call(t,t.transformResponse,i),i.headers=ua.from(i.headers),i},function(i){return PN(i)||(qf(t),i&&i.response&&(i.response.data=Ff.call(t,t.transformResponse,i.response),i.response.headers=ua.from(i.response.headers))),Promise.reject(i)})}const VN="1.13.2",Ju={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Ju[t]=function(i){return typeof i===t||"a"+(s<1?"n ":" ")+t}});const wj={};Ju.transitional=function(s,n,i){function o(c,u){return"[Axios v"+VN+"] Transitional option '"+c+"'"+u+(i?". "+i:"")}return(c,u,m)=>{if(s===!1)throw new lt(o(u," has been removed"+(n?" in "+n:"")),lt.ERR_DEPRECATED);return n&&!wj[u]&&(wj[u]=!0,console.warn(o(u," has been deprecated since v"+n+" and will be removed in the near future"))),s?s(c,u,m):!0}};Ju.spelling=function(s){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${s}`),!0)};function qA(t,s,n){if(typeof t!="object")throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let o=i.length;for(;o-- >0;){const c=i[o],u=s[c];if(u){const m=t[c],h=m===void 0||u(m,c,t);if(h!==!0)throw new lt("option "+c+" must be "+h,lt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new lt("Unknown option "+c,lt.ERR_BAD_OPTION)}}const gu={assertOptions:qA,validators:Ju},hn=gu.validators;let ji=class{constructor(s){this.defaults=s||{},this.interceptors={request:new uj,response:new uj}}async request(s,n){try{return await this._request(s,n)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?c&&!String(i.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+c):i.stack=c}catch{}}throw i}}_request(s,n){typeof s=="string"?(n=n||{},n.url=s):n=s||{},n=ki(this.defaults,n);const{transitional:i,paramsSerializer:o,headers:c}=n;i!==void 0&&gu.assertOptions(i,{silentJSONParsing:hn.transitional(hn.boolean),forcedJSONParsing:hn.transitional(hn.boolean),clarifyTimeoutError:hn.transitional(hn.boolean)},!1),o!=null&&(le.isFunction(o)?n.paramsSerializer={serialize:o}:gu.assertOptions(o,{encode:hn.function,serialize:hn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),gu.assertOptions(n,{baseUrl:hn.spelling("baseURL"),withXsrfToken:hn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=c&&le.merge(c.common,c[n.method]);c&&le.forEach(["delete","get","head","post","put","patch","common"],N=>{delete c[N]}),n.headers=ua.concat(u,c);const m=[];let h=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(h=h&&j.synchronous,m.unshift(j.fulfilled,j.rejected))});const f=[];this.interceptors.response.forEach(function(j){f.push(j.fulfilled,j.rejected)});let p,y=0,b;if(!h){const N=[Nj.bind(this),void 0];for(N.unshift(...m),N.push(...f),b=N.length,p=Promise.resolve(n);y<b;)p=p.then(N[y++],N[y++]);return p}b=m.length;let w=n;for(;y<b;){const N=m[y++],j=m[y++];try{w=N(w)}catch(C){j.call(this,C);break}}try{p=Nj.call(this,w)}catch(N){return Promise.reject(N)}for(y=0,b=f.length;y<b;)p=p.then(f[y++],f[y++]);return p}getUri(s){s=ki(this.defaults,s);const n=FN(s.baseURL,s.url,s.allowAbsoluteUrls);return MN(n,s.params,s.paramsSerializer)}};le.forEach(["delete","get","head","options"],function(s){ji.prototype[s]=function(n,i){return this.request(ki(i||{},{method:s,url:n,data:(i||{}).data}))}});le.forEach(["post","put","patch"],function(s){function n(i){return function(c,u,m){return this.request(ki(m||{},{method:s,headers:i?{"Content-Type":"multipart/form-data"}:{},url:c,data:u}))}}ji.prototype[s]=n(),ji.prototype[s+"Form"]=n(!0)});let zA=class HN{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const i=this;this.promise.then(o=>{if(!i._listeners)return;let c=i._listeners.length;for(;c-- >0;)i._listeners[c](o);i._listeners=null}),this.promise.then=o=>{let c;const u=new Promise(m=>{i.subscribe(m),c=m}).then(o);return u.cancel=function(){i.unsubscribe(c)},u},s(function(c,u,m){i.reason||(i.reason=new no(c,u,m),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const n=this._listeners.indexOf(s);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const s=new AbortController,n=i=>{s.abort(i)};return this.subscribe(n),s.signal.unsubscribe=()=>this.unsubscribe(n),s.signal}static source(){let s;return{token:new HN(function(o){s=o}),cancel:s}}};function BA(t){return function(n){return t.apply(null,n)}}function VA(t){return le.isObject(t)&&t.isAxiosError===!0}const vx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(vx).forEach(([t,s])=>{vx[s]=t});function $N(t){const s=new ji(t),n=NN(ji.prototype.request,s);return le.extend(n,ji.prototype,s,{allOwnKeys:!0}),le.extend(n,s,null,{allOwnKeys:!0}),n.create=function(o){return $N(ki(t,o))},n}const ls=$N(Lc);ls.Axios=ji;ls.CanceledError=no;ls.CancelToken=zA;ls.isCancel=PN;ls.VERSION=VN;ls.toFormData=Xu;ls.AxiosError=lt;ls.Cancel=ls.CanceledError;ls.all=function(s){return Promise.all(s)};ls.spread=BA;ls.isAxiosError=VA;ls.mergeConfig=ki;ls.AxiosHeaders=ua;ls.formToJSON=t=>LN(le.isHTMLForm(t)?new FormData(t):t);ls.getAdapter=BN.getAdapter;ls.HttpStatusCode=vx;ls.default=ls;const{Axios:CI,AxiosError:kI,CanceledError:EI,isCancel:AI,CancelToken:_I,VERSION:TI,all:RI,Cancel:DI,isAxiosError:OI,spread:MI,toFormData:II,AxiosHeaders:LI,HttpStatusCode:PI,formToJSON:UI,getAdapter:FI,mergeConfig:qI}=ls,Z=ls.create({baseURL:"https://api.paaera.com/api",headers:{"Content-Type":"application/json"}});Z.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t.data instanceof FormData&&delete t.headers["Content-Type"],t},t=>Promise.reject(t));Z.interceptors.response.use(t=>t,t=>(console.error("API Error:",{url:t.config?.url,method:t.config?.method,status:t.response?.status,statusText:t.response?.statusText,data:t.response?.data,message:t.message}),t.response?.status===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(t)));const mi={async login(t){const s=await Z.post("/auth/login",t);if(s.data.success&&s.data.data)return localStorage.setItem("token",s.data.data.token),s.data.data;throw new Error(s.data.message||"Login failed")},async register(t){const{confirmPassword:s,...n}=t,i=await Z.post("/auth/register",n);if(i.data.success&&i.data.data)return localStorage.setItem("token",i.data.data.token),i.data.data;throw new Error(i.data.message||"Registration failed")},async registerClient(t,s){try{const n=await Z.post("/auth/register-client",{email:t,password:s});if(n.data.success&&n.data.data)return localStorage.setItem("token",n.data.data.token),n.data.data;throw new Error(n.data.message||"Registration failed")}catch(n){if(n.response){const i=n.response.data?.message||n.response.data?.error||"Registration failed";throw new Error(i)}else throw n.request?new Error("Unable to connect to server. Please check if the backend is running."):new Error(n.message||"Registration failed")}},async getProfile(){const t=await Z.get("/auth/me");if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to get profile")},logout(){localStorage.removeItem("token")},isAuthenticated(){return!!localStorage.getItem("token")}},KN=v.createContext(void 0);function HA({children:t}){const[s,n]=v.useState(null),[i,o]=v.useState(!0);v.useEffect(()=>{(async()=>{if(mi.isAuthenticated())try{const y=await mi.getProfile();n(y)}catch{mi.logout()}o(!1)})()},[]);const c=async(p,y)=>{const b=await mi.login({email:p,password:y});n(b.user),b.user.roleName==="Client"?window.location.href="/client/dashboard":window.location.href="/dashboard"},u=async(p,y,b,w)=>{const N=await mi.register({email:p,password:y,confirmPassword:b,companyId:w});n(N.user)},m=()=>{mi.logout(),n(null),window.location.href="/login"},h=p=>s?s.roleName==="SuperAdmin"?!0:s.permissions?s.permissions[p]===!0:!1:!1,f=s?.roleName==="Client";return e.jsx(KN.Provider,{value:{user:s,loading:i,login:c,register:u,logout:m,isAuthenticated:!!s,hasPermission:h,isClient:f},children:t})}function We(){const t=v.useContext(KN);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const QN=v.createContext(void 0);function $A({children:t}){const[s,n]=v.useState(!0),i=()=>{n(o=>!o)};return e.jsx(QN.Provider,{value:{isOpen:s,setIsOpen:n,toggle:i},children:t})}function GN(){const t=v.useContext(QN);if(t===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return t}var Pc=t=>t.type==="checkbox",gi=t=>t instanceof Date,ia=t=>t==null;const YN=t=>typeof t=="object";var xs=t=>!ia(t)&&!Array.isArray(t)&&YN(t)&&!gi(t),KA=t=>xs(t)&&t.target?Pc(t.target)?t.target.checked:t.target.value:t,QA=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,GA=(t,s)=>t.has(QA(s)),YA=t=>{const s=t.constructor&&t.constructor.prototype;return xs(s)&&s.hasOwnProperty("isPrototypeOf")},mp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ks(t){let s;const n=Array.isArray(t),i=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)s=new Date(t);else if(!(mp&&(t instanceof Blob||i))&&(n||xs(t)))if(s=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!YA(t))s=t;else for(const o in t)t.hasOwnProperty(o)&&(s[o]=ks(t[o]));else return t;return s}var em=t=>/^\w*$/.test(t),ns=t=>t===void 0,hp=t=>Array.isArray(t)?t.filter(Boolean):[],fp=t=>hp(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Le=(t,s,n)=>{if(!s||!xs(t))return n;const i=(em(s)?[s]:fp(s)).reduce((o,c)=>ia(o)?o:o[c],t);return ns(i)||i===t?ns(t[s])?n:t[s]:i},fn=t=>typeof t=="boolean",Ut=(t,s,n)=>{let i=-1;const o=em(s)?[s]:fp(s),c=o.length,u=c-1;for(;++i<c;){const m=o[i];let h=n;if(i!==u){const f=t[m];h=xs(f)||Array.isArray(f)?f:isNaN(+o[i+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;t[m]=h,t=t[m]}};const Sj={BLUR:"blur",FOCUS_OUT:"focusout"},Ja={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ZA=as.createContext(null);ZA.displayName="HookFormContext";var WA=(t,s,n,i=!0)=>{const o={defaultValues:s._defaultValues};for(const c in t)Object.defineProperty(o,c,{get:()=>{const u=c;return s._proxyFormState[u]!==Ja.all&&(s._proxyFormState[u]=!i||Ja.all),t[u]}});return o};const XA=typeof window<"u"?as.useLayoutEffect:as.useEffect;var Sa=t=>typeof t=="string",JA=(t,s,n,i,o)=>Sa(t)?(i&&s.watch.add(t),Le(n,t,o)):Array.isArray(t)?t.map(c=>(i&&s.watch.add(c),Le(n,c))):(i&&(s.watchAll=!0),n),jx=t=>ia(t)||!YN(t);function Rr(t,s,n=new WeakSet){if(jx(t)||jx(s))return Object.is(t,s);if(gi(t)&&gi(s))return t.getTime()===s.getTime();const i=Object.keys(t),o=Object.keys(s);if(i.length!==o.length)return!1;if(n.has(t)||n.has(s))return!0;n.add(t),n.add(s);for(const c of i){const u=t[c];if(!o.includes(c))return!1;if(c!=="ref"){const m=s[c];if(gi(u)&&gi(m)||xs(u)&&xs(m)||Array.isArray(u)&&Array.isArray(m)?!Rr(u,m,n):!Object.is(u,m))return!1}}return!0}var ZN=(t,s,n,i,o)=>s?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:o||!0}}:{},gc=t=>Array.isArray(t)?t:[t],Cj=()=>{let t=[];return{get observers(){return t},next:o=>{for(const c of t)c.next&&c.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(c=>c!==o)}}),unsubscribe:()=>{t=[]}}};function WN(t,s){const n={};for(const i in t)if(t.hasOwnProperty(i)){const o=t[i],c=s[i];if(o&&xs(o)&&c){const u=WN(o,c);xs(u)&&(n[i]=u)}else t[i]&&(n[i]=c)}return n}var Gs=t=>xs(t)&&!Object.keys(t).length,xp=t=>t.type==="file",en=t=>typeof t=="function",Tu=t=>{if(!mp)return!1;const s=t?t.ownerDocument:0;return t instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},XN=t=>t.type==="select-multiple",pp=t=>t.type==="radio",e_=t=>pp(t)||Pc(t),zf=t=>Tu(t)&&t.isConnected;function t_(t,s){const n=s.slice(0,-1).length;let i=0;for(;i<n;)t=ns(t)?i++:t[s[i++]];return t}function s_(t){for(const s in t)if(t.hasOwnProperty(s)&&!ns(t[s]))return!1;return!0}function ms(t,s){const n=Array.isArray(s)?s:em(s)?[s]:fp(s),i=n.length===1?t:t_(t,n),o=n.length-1,c=n[o];return i&&delete i[c],o!==0&&(xs(i)&&Gs(i)||Array.isArray(i)&&s_(i))&&ms(t,n.slice(0,-1)),t}var a_=t=>{for(const s in t)if(en(t[s]))return!0;return!1};function JN(t){return Array.isArray(t)||xs(t)&&!a_(t)}function bx(t,s={}){for(const n in t){const i=t[n];JN(i)?(s[n]=Array.isArray(i)?[]:{},bx(i,s[n])):ns(i)||(s[n]=!0)}return s}function Il(t,s,n){n||(n=bx(s));for(const i in t){const o=t[i];if(JN(o))ns(s)||jx(n[i])?n[i]=bx(o,Array.isArray(o)?[]:{}):Il(o,ia(s)?{}:s[i],n[i]);else{const c=s[i];n[i]=!Rr(o,c)}}return n}const kj={value:!1,isValid:!1},Ej={value:!0,isValid:!0};var ew=t=>{if(Array.isArray(t)){if(t.length>1){const s=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:s,isValid:!!s.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ns(t[0].attributes.value)?ns(t[0].value)||t[0].value===""?Ej:{value:t[0].value,isValid:!0}:Ej:kj}return kj},tw=(t,{valueAsNumber:s,valueAsDate:n,setValueAs:i})=>ns(t)?t:s?t===""?NaN:t&&+t:n&&Sa(t)?new Date(t):i?i(t):t;const Aj={isValid:!1,value:null};var sw=t=>Array.isArray(t)?t.reduce((s,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:s,Aj):Aj;function _j(t){const s=t.ref;return xp(s)?s.files:pp(s)?sw(t.refs).value:XN(s)?[...s.selectedOptions].map(({value:n})=>n):Pc(s)?ew(t.refs).value:tw(ns(s.value)?t.ref.value:s.value,t)}var n_=(t,s,n,i)=>{const o={};for(const c of t){const u=Le(s,c);u&&Ut(o,c,u._f)}return{criteriaMode:n,names:[...t],fields:o,shouldUseNativeValidation:i}},Ru=t=>t instanceof RegExp,ic=t=>ns(t)?t:Ru(t)?t.source:xs(t)?Ru(t.value)?t.value.source:t.value:t,Tj=t=>({isOnSubmit:!t||t===Ja.onSubmit,isOnBlur:t===Ja.onBlur,isOnChange:t===Ja.onChange,isOnAll:t===Ja.all,isOnTouch:t===Ja.onTouched});const Rj="AsyncFunction";var r_=t=>!!t&&!!t.validate&&!!(en(t.validate)&&t.validate.constructor.name===Rj||xs(t.validate)&&Object.values(t.validate).find(s=>s.constructor.name===Rj)),i_=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Dj=(t,s,n)=>!n&&(s.watchAll||s.watch.has(t)||[...s.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const yc=(t,s,n,i)=>{for(const o of n||Object.keys(t)){const c=Le(t,o);if(c){const{_f:u,...m}=c;if(u){if(u.refs&&u.refs[0]&&s(u.refs[0],o)&&!i)return!0;if(u.ref&&s(u.ref,u.name)&&!i)return!0;if(yc(m,s))break}else if(xs(m)&&yc(m,s))break}}};function Oj(t,s,n){const i=Le(t,n);if(i||em(n))return{error:i,name:n};const o=n.split(".");for(;o.length;){const c=o.join("."),u=Le(s,c),m=Le(t,c);if(u&&!Array.isArray(u)&&n!==c)return{name:n};if(m&&m.type)return{name:c,error:m};if(m&&m.root&&m.root.type)return{name:`${c}.root`,error:m.root};o.pop()}return{name:n}}var l_=(t,s,n,i)=>{n(t);const{name:o,...c}=t;return Gs(c)||Object.keys(c).length>=Object.keys(s).length||Object.keys(c).find(u=>s[u]===(!i||Ja.all))},o_=(t,s,n)=>!t||!s||t===s||gc(t).some(i=>i&&(n?i===s:i.startsWith(s)||s.startsWith(i))),c_=(t,s,n,i,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(s||t):(n?i.isOnBlur:o.isOnBlur)?!t:(n?i.isOnChange:o.isOnChange)?t:!0,d_=(t,s)=>!hp(Le(t,s)).length&&ms(t,s),u_=(t,s,n)=>{const i=gc(Le(t,n));return Ut(i,"root",s[n]),Ut(t,n,i),t};function Mj(t,s,n="validate"){if(Sa(t)||Array.isArray(t)&&t.every(Sa)||fn(t)&&!t)return{type:n,message:Sa(t)?t:"",ref:s}}var El=t=>xs(t)&&!Ru(t)?t:{value:t,message:""},Ij=async(t,s,n,i,o,c)=>{const{ref:u,refs:m,required:h,maxLength:f,minLength:p,min:y,max:b,pattern:w,validate:N,name:j,valueAsNumber:C,mount:A}=t._f,E=Le(n,j);if(!A||s.has(j))return{};const S=m?m[0]:u,R=F=>{o&&S.reportValidity&&(S.setCustomValidity(fn(F)?"":F||""),S.reportValidity())},_={},L=pp(u),I=Pc(u),q=L||I,$=(C||xp(u))&&ns(u.value)&&ns(E)||Tu(u)&&u.value===""||E===""||Array.isArray(E)&&!E.length,H=ZN.bind(null,j,i,_),G=(F,de,z,he=Qn.maxLength,O=Qn.minLength)=>{const P=F?de:z;_[j]={type:F?he:O,message:P,ref:u,...H(F?he:O,P)}};if(c?!Array.isArray(E)||!E.length:h&&(!q&&($||ia(E))||fn(E)&&!E||I&&!ew(m).isValid||L&&!sw(m).isValid)){const{value:F,message:de}=Sa(h)?{value:!!h,message:h}:El(h);if(F&&(_[j]={type:Qn.required,message:de,ref:S,...H(Qn.required,de)},!i))return R(de),_}if(!$&&(!ia(y)||!ia(b))){let F,de;const z=El(b),he=El(y);if(!ia(E)&&!isNaN(E)){const O=u.valueAsNumber||E&&+E;ia(z.value)||(F=O>z.value),ia(he.value)||(de=O<he.value)}else{const O=u.valueAsDate||new Date(E),P=Ne=>new Date(new Date().toDateString()+" "+Ne),U=u.type=="time",pe=u.type=="week";Sa(z.value)&&E&&(F=U?P(E)>P(z.value):pe?E>z.value:O>new Date(z.value)),Sa(he.value)&&E&&(de=U?P(E)<P(he.value):pe?E<he.value:O<new Date(he.value))}if((F||de)&&(G(!!F,z.message,he.message,Qn.max,Qn.min),!i))return R(_[j].message),_}if((f||p)&&!$&&(Sa(E)||c&&Array.isArray(E))){const F=El(f),de=El(p),z=!ia(F.value)&&E.length>+F.value,he=!ia(de.value)&&E.length<+de.value;if((z||he)&&(G(z,F.message,de.message),!i))return R(_[j].message),_}if(w&&!$&&Sa(E)){const{value:F,message:de}=El(w);if(Ru(F)&&!E.match(F)&&(_[j]={type:Qn.pattern,message:de,ref:u,...H(Qn.pattern,de)},!i))return R(de),_}if(N){if(en(N)){const F=await N(E,n),de=Mj(F,S);if(de&&(_[j]={...de,...H(Qn.validate,de.message)},!i))return R(de.message),_}else if(xs(N)){let F={};for(const de in N){if(!Gs(F)&&!i)break;const z=Mj(await N[de](E,n),S,de);z&&(F={...z,...H(de,z.message)},R(z.message),i&&(_[j]=F))}if(!Gs(F)&&(_[j]={ref:S,...F},!i))return _}}return R(!0),_};const m_={mode:Ja.onSubmit,reValidateMode:Ja.onChange,shouldFocusError:!0};function h_(t={}){let s={...m_,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:en(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},o=xs(s.defaultValues)||xs(s.values)?ks(s.defaultValues||s.values)||{}:{},c=s.shouldUnregister?{}:ks(o),u={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...p};const b={array:Cj(),state:Cj()},w=s.criteriaMode===Ja.all,N=Q=>ae=>{clearTimeout(f),f=setTimeout(Q,ae)},j=async Q=>{if(!s.disabled&&(p.isValid||y.isValid||Q)){const ae=s.resolver?Gs((await I()).errors):await $(i,!0);ae!==n.isValid&&b.state.next({isValid:ae})}},C=(Q,ae)=>{!s.disabled&&(p.isValidating||p.validatingFields||y.isValidating||y.validatingFields)&&((Q||Array.from(m.mount)).forEach(xe=>{xe&&(ae?Ut(n.validatingFields,xe,ae):ms(n.validatingFields,xe))}),b.state.next({validatingFields:n.validatingFields,isValidating:!Gs(n.validatingFields)}))},A=(Q,ae=[],xe,_e,Se=!0,ke=!0)=>{if(_e&&xe&&!s.disabled){if(u.action=!0,ke&&Array.isArray(Le(i,Q))){const Ue=xe(Le(i,Q),_e.argA,_e.argB);Se&&Ut(i,Q,Ue)}if(ke&&Array.isArray(Le(n.errors,Q))){const Ue=xe(Le(n.errors,Q),_e.argA,_e.argB);Se&&Ut(n.errors,Q,Ue),d_(n.errors,Q)}if((p.touchedFields||y.touchedFields)&&ke&&Array.isArray(Le(n.touchedFields,Q))){const Ue=xe(Le(n.touchedFields,Q),_e.argA,_e.argB);Se&&Ut(n.touchedFields,Q,Ue)}(p.dirtyFields||y.dirtyFields)&&(n.dirtyFields=Il(o,c)),b.state.next({name:Q,isDirty:G(Q,ae),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ut(c,Q,ae)},E=(Q,ae)=>{Ut(n.errors,Q,ae),b.state.next({errors:n.errors})},S=Q=>{n.errors=Q,b.state.next({errors:n.errors,isValid:!1})},R=(Q,ae,xe,_e)=>{const Se=Le(i,Q);if(Se){const ke=Le(c,Q,ns(xe)?Le(o,Q):xe);ns(ke)||_e&&_e.defaultChecked||ae?Ut(c,Q,ae?ke:_j(Se._f)):z(Q,ke),u.mount&&!u.action&&j()}},_=(Q,ae,xe,_e,Se)=>{let ke=!1,Ue=!1;const ft={name:Q};if(!s.disabled){if(!xe||_e){(p.isDirty||y.isDirty)&&(Ue=n.isDirty,n.isDirty=ft.isDirty=G(),ke=Ue!==ft.isDirty);const bt=Rr(Le(o,Q),ae);Ue=!!Le(n.dirtyFields,Q),bt?ms(n.dirtyFields,Q):Ut(n.dirtyFields,Q,!0),ft.dirtyFields=n.dirtyFields,ke=ke||(p.dirtyFields||y.dirtyFields)&&Ue!==!bt}if(xe){const bt=Le(n.touchedFields,Q);bt||(Ut(n.touchedFields,Q,xe),ft.touchedFields=n.touchedFields,ke=ke||(p.touchedFields||y.touchedFields)&&bt!==xe)}ke&&Se&&b.state.next(ft)}return ke?ft:{}},L=(Q,ae,xe,_e)=>{const Se=Le(n.errors,Q),ke=(p.isValid||y.isValid)&&fn(ae)&&n.isValid!==ae;if(s.delayError&&xe?(h=N(()=>E(Q,xe)),h(s.delayError)):(clearTimeout(f),h=null,xe?Ut(n.errors,Q,xe):ms(n.errors,Q)),(xe?!Rr(Se,xe):Se)||!Gs(_e)||ke){const Ue={..._e,...ke&&fn(ae)?{isValid:ae}:{},errors:n.errors,name:Q};n={...n,...Ue},b.state.next(Ue)}},I=async Q=>{C(Q,!0);const ae=await s.resolver(c,s.context,n_(Q||m.mount,i,s.criteriaMode,s.shouldUseNativeValidation));return C(Q),ae},q=async Q=>{const{errors:ae}=await I(Q);if(Q)for(const xe of Q){const _e=Le(ae,xe);_e?Ut(n.errors,xe,_e):ms(n.errors,xe)}else n.errors=ae;return ae},$=async(Q,ae,xe={valid:!0})=>{for(const _e in Q){const Se=Q[_e];if(Se){const{_f:ke,...Ue}=Se;if(ke){const ft=m.array.has(ke.name),bt=Se._f&&r_(Se._f);bt&&p.validatingFields&&C([ke.name],!0);const ws=await Ij(Se,m.disabled,c,w,s.shouldUseNativeValidation&&!ae,ft);if(bt&&p.validatingFields&&C([ke.name]),ws[ke.name]&&(xe.valid=!1,ae))break;!ae&&(Le(ws,ke.name)?ft?u_(n.errors,ws,ke.name):Ut(n.errors,ke.name,ws[ke.name]):ms(n.errors,ke.name))}!Gs(Ue)&&await $(Ue,ae,xe)}}return xe.valid},H=()=>{for(const Q of m.unMount){const ae=Le(i,Q);ae&&(ae._f.refs?ae._f.refs.every(xe=>!zf(xe)):!zf(ae._f.ref))&&be(Q)}m.unMount=new Set},G=(Q,ae)=>!s.disabled&&(Q&&ae&&Ut(c,Q,ae),!Rr(Ne(),o)),F=(Q,ae,xe)=>JA(Q,m,{...u.mount?c:ns(ae)?o:Sa(Q)?{[Q]:ae}:ae},xe,ae),de=Q=>hp(Le(u.mount?c:o,Q,s.shouldUnregister?Le(o,Q,[]):[])),z=(Q,ae,xe={})=>{const _e=Le(i,Q);let Se=ae;if(_e){const ke=_e._f;ke&&(!ke.disabled&&Ut(c,Q,tw(ae,ke)),Se=Tu(ke.ref)&&ia(ae)?"":ae,XN(ke.ref)?[...ke.ref.options].forEach(Ue=>Ue.selected=Se.includes(Ue.value)):ke.refs?Pc(ke.ref)?ke.refs.forEach(Ue=>{(!Ue.defaultChecked||!Ue.disabled)&&(Array.isArray(Se)?Ue.checked=!!Se.find(ft=>ft===Ue.value):Ue.checked=Se===Ue.value||!!Se)}):ke.refs.forEach(Ue=>Ue.checked=Ue.value===Se):xp(ke.ref)?ke.ref.value="":(ke.ref.value=Se,ke.ref.type||b.state.next({name:Q,values:ks(c)})))}(xe.shouldDirty||xe.shouldTouch)&&_(Q,Se,xe.shouldTouch,xe.shouldDirty,!0),xe.shouldValidate&&pe(Q)},he=(Q,ae,xe)=>{for(const _e in ae){if(!ae.hasOwnProperty(_e))return;const Se=ae[_e],ke=Q+"."+_e,Ue=Le(i,ke);(m.array.has(Q)||xs(Se)||Ue&&!Ue._f)&&!gi(Se)?he(ke,Se,xe):z(ke,Se,xe)}},O=(Q,ae,xe={})=>{const _e=Le(i,Q),Se=m.array.has(Q),ke=ks(ae);Ut(c,Q,ke),Se?(b.array.next({name:Q,values:ks(c)}),(p.isDirty||p.dirtyFields||y.isDirty||y.dirtyFields)&&xe.shouldDirty&&b.state.next({name:Q,dirtyFields:Il(o,c),isDirty:G(Q,ke)})):_e&&!_e._f&&!ia(ke)?he(Q,ke,xe):z(Q,ke,xe),Dj(Q,m)&&b.state.next({...n,name:Q}),b.state.next({name:u.mount?Q:void 0,values:ks(c)})},P=async Q=>{u.mount=!0;const ae=Q.target;let xe=ae.name,_e=!0;const Se=Le(i,xe),ke=bt=>{_e=Number.isNaN(bt)||gi(bt)&&isNaN(bt.getTime())||Rr(bt,Le(c,xe,bt))},Ue=Tj(s.mode),ft=Tj(s.reValidateMode);if(Se){let bt,ws;const Ks=ae.type?_j(Se._f):KA(Q),_s=Q.type===Sj.BLUR||Q.type===Sj.FOCUS_OUT,Ra=!i_(Se._f)&&!s.resolver&&!Le(n.errors,xe)&&!Se._f.deps||c_(_s,Le(n.touchedFields,xe),n.isSubmitted,ft,Ue),ie=Dj(xe,m,_s);Ut(c,xe,Ks),_s?(!ae||!ae.readOnly)&&(Se._f.onBlur&&Se._f.onBlur(Q),h&&h(0)):Se._f.onChange&&Se._f.onChange(Q);const nt=_(xe,Ks,_s),Zt=!Gs(nt)||ie;if(!_s&&b.state.next({name:xe,type:Q.type,values:ks(c)}),Ra)return(p.isValid||y.isValid)&&(s.mode==="onBlur"?_s&&j():_s||j()),Zt&&b.state.next({name:xe,...ie?{}:nt});if(!_s&&ie&&b.state.next({...n}),s.resolver){const{errors:Kt}=await I([xe]);if(ke(Ks),_e){const Fi=Oj(n.errors,i,xe),qi=Oj(Kt,i,Fi.name||xe);bt=qi.error,xe=qi.name,ws=Gs(Kt)}}else C([xe],!0),bt=(await Ij(Se,m.disabled,c,w,s.shouldUseNativeValidation))[xe],C([xe]),ke(Ks),_e&&(bt?ws=!1:(p.isValid||y.isValid)&&(ws=await $(i,!0)));_e&&(Se._f.deps&&(!Array.isArray(Se._f.deps)||Se._f.deps.length>0)&&pe(Se._f.deps),L(xe,ws,bt,nt))}},U=(Q,ae)=>{if(Le(n.errors,ae)&&Q.focus)return Q.focus(),1},pe=async(Q,ae={})=>{let xe,_e;const Se=gc(Q);if(s.resolver){const ke=await q(ns(Q)?Q:Se);xe=Gs(ke),_e=Q?!Se.some(Ue=>Le(ke,Ue)):xe}else Q?(_e=(await Promise.all(Se.map(async ke=>{const Ue=Le(i,ke);return await $(Ue&&Ue._f?{[ke]:Ue}:Ue)}))).every(Boolean),!(!_e&&!n.isValid)&&j()):_e=xe=await $(i);return b.state.next({...!Sa(Q)||(p.isValid||y.isValid)&&xe!==n.isValid?{}:{name:Q},...s.resolver||!Q?{isValid:xe}:{},errors:n.errors}),ae.shouldFocus&&!_e&&yc(i,U,Q?Se:m.mount),_e},Ne=(Q,ae)=>{let xe={...u.mount?c:o};return ae&&(xe=WN(ae.dirtyFields?n.dirtyFields:n.touchedFields,xe)),ns(Q)?xe:Sa(Q)?Le(xe,Q):Q.map(_e=>Le(xe,_e))},B=(Q,ae)=>({invalid:!!Le((ae||n).errors,Q),isDirty:!!Le((ae||n).dirtyFields,Q),error:Le((ae||n).errors,Q),isValidating:!!Le(n.validatingFields,Q),isTouched:!!Le((ae||n).touchedFields,Q)}),te=Q=>{Q&&gc(Q).forEach(ae=>ms(n.errors,ae)),b.state.next({errors:Q?n.errors:{}})},T=(Q,ae,xe)=>{const _e=(Le(i,Q,{_f:{}})._f||{}).ref,Se=Le(n.errors,Q)||{},{ref:ke,message:Ue,type:ft,...bt}=Se;Ut(n.errors,Q,{...bt,...ae,ref:_e}),b.state.next({name:Q,errors:n.errors,isValid:!1}),xe&&xe.shouldFocus&&_e&&_e.focus&&_e.focus()},ye=(Q,ae)=>en(Q)?b.state.subscribe({next:xe=>"values"in xe&&Q(F(void 0,ae),xe)}):F(Q,ae,!0),Ce=Q=>b.state.subscribe({next:ae=>{o_(Q.name,ae.name,Q.exact)&&l_(ae,Q.formState||p,Us,Q.reRenderRoot)&&Q.callback({values:{...c},...n,...ae,defaultValues:o})}}).unsubscribe,Pe=Q=>(u.mount=!0,y={...y,...Q.formState},Ce({...Q,formState:y})),be=(Q,ae={})=>{for(const xe of Q?gc(Q):m.mount)m.mount.delete(xe),m.array.delete(xe),ae.keepValue||(ms(i,xe),ms(c,xe)),!ae.keepError&&ms(n.errors,xe),!ae.keepDirty&&ms(n.dirtyFields,xe),!ae.keepTouched&&ms(n.touchedFields,xe),!ae.keepIsValidating&&ms(n.validatingFields,xe),!s.shouldUnregister&&!ae.keepDefaultValue&&ms(o,xe);b.state.next({values:ks(c)}),b.state.next({...n,...ae.keepDirty?{isDirty:G()}:{}}),!ae.keepIsValid&&j()},$e=({disabled:Q,name:ae})=>{(fn(Q)&&u.mount||Q||m.disabled.has(ae))&&(Q?m.disabled.add(ae):m.disabled.delete(ae))},qe=(Q,ae={})=>{let xe=Le(i,Q);const _e=fn(ae.disabled)||fn(s.disabled);return Ut(i,Q,{...xe||{},_f:{...xe&&xe._f?xe._f:{ref:{name:Q}},name:Q,mount:!0,...ae}}),m.mount.add(Q),xe?$e({disabled:fn(ae.disabled)?ae.disabled:s.disabled,name:Q}):R(Q,!0,ae.value),{..._e?{disabled:ae.disabled||s.disabled}:{},...s.progressive?{required:!!ae.required,min:ic(ae.min),max:ic(ae.max),minLength:ic(ae.minLength),maxLength:ic(ae.maxLength),pattern:ic(ae.pattern)}:{},name:Q,onChange:P,onBlur:P,ref:Se=>{if(Se){qe(Q,ae),xe=Le(i,Q);const ke=ns(Se.value)&&Se.querySelectorAll&&Se.querySelectorAll("input,select,textarea")[0]||Se,Ue=e_(ke),ft=xe._f.refs||[];if(Ue?ft.find(bt=>bt===ke):ke===xe._f.ref)return;Ut(i,Q,{_f:{...xe._f,...Ue?{refs:[...ft.filter(zf),ke,...Array.isArray(Le(o,Q))?[{}]:[]],ref:{type:ke.type,name:Q}}:{ref:ke}}}),R(Q,!1,void 0,ke)}else xe=Le(i,Q,{}),xe._f&&(xe._f.mount=!1),(s.shouldUnregister||ae.shouldUnregister)&&!(GA(m.array,Q)&&u.action)&&m.unMount.add(Q)}}},Ze=()=>s.shouldFocusError&&yc(i,U,m.mount),at=Q=>{fn(Q)&&(b.state.next({disabled:Q}),yc(i,(ae,xe)=>{const _e=Le(i,xe);_e&&(ae.disabled=_e._f.disabled||Q,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(Se=>{Se.disabled=_e._f.disabled||Q}))},0,!1))},Xe=(Q,ae)=>async xe=>{let _e;xe&&(xe.preventDefault&&xe.preventDefault(),xe.persist&&xe.persist());let Se=ks(c);if(b.state.next({isSubmitting:!0}),s.resolver){const{errors:ke,values:Ue}=await I();n.errors=ke,Se=ks(Ue)}else await $(i);if(m.disabled.size)for(const ke of m.disabled)ms(Se,ke);if(ms(n.errors,"root"),Gs(n.errors)){b.state.next({errors:{}});try{await Q(Se,xe)}catch(ke){_e=ke}}else ae&&await ae({...n.errors},xe),Ze(),setTimeout(Ze);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gs(n.errors)&&!_e,submitCount:n.submitCount+1,errors:n.errors}),_e)throw _e},es=(Q,ae={})=>{Le(i,Q)&&(ns(ae.defaultValue)?O(Q,ks(Le(o,Q))):(O(Q,ae.defaultValue),Ut(o,Q,ks(ae.defaultValue))),ae.keepTouched||ms(n.touchedFields,Q),ae.keepDirty||(ms(n.dirtyFields,Q),n.isDirty=ae.defaultValue?G(Q,ks(Le(o,Q))):G()),ae.keepError||(ms(n.errors,Q),p.isValid&&j()),b.state.next({...n}))},zt=(Q,ae={})=>{const xe=Q?ks(Q):o,_e=ks(xe),Se=Gs(Q),ke=Se?o:_e;if(ae.keepDefaultValues||(o=xe),!ae.keepValues){if(ae.keepDirtyValues){const Ue=new Set([...m.mount,...Object.keys(Il(o,c))]);for(const ft of Array.from(Ue))Le(n.dirtyFields,ft)?Ut(ke,ft,Le(c,ft)):O(ft,Le(ke,ft))}else{if(mp&&ns(Q))for(const Ue of m.mount){const ft=Le(i,Ue);if(ft&&ft._f){const bt=Array.isArray(ft._f.refs)?ft._f.refs[0]:ft._f.ref;if(Tu(bt)){const ws=bt.closest("form");if(ws){ws.reset();break}}}}if(ae.keepFieldsRef)for(const Ue of m.mount)O(Ue,Le(ke,Ue));else i={}}c=s.shouldUnregister?ae.keepDefaultValues?ks(o):{}:ks(ke),b.array.next({values:{...ke}}),b.state.next({values:{...ke}})}m={mount:ae.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!p.isValid||!!ae.keepIsValid||!!ae.keepDirtyValues||!s.shouldUnregister&&!Gs(ke),u.watch=!!s.shouldUnregister,b.state.next({submitCount:ae.keepSubmitCount?n.submitCount:0,isDirty:Se?!1:ae.keepDirty?n.isDirty:!!(ae.keepDefaultValues&&!Rr(Q,o)),isSubmitted:ae.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Se?{}:ae.keepDirtyValues?ae.keepDefaultValues&&c?Il(o,c):n.dirtyFields:ae.keepDefaultValues&&Q?Il(o,Q):ae.keepDirty?n.dirtyFields:{},touchedFields:ae.keepTouched?n.touchedFields:{},errors:ae.keepErrors?n.errors:{},isSubmitSuccessful:ae.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},$s=(Q,ae)=>zt(en(Q)?Q(c):Q,ae),Ps=(Q,ae={})=>{const xe=Le(i,Q),_e=xe&&xe._f;if(_e){const Se=_e.refs?_e.refs[0]:_e.ref;Se.focus&&(Se.focus(),ae.shouldSelect&&en(Se.select)&&Se.select())}},Us=Q=>{n={...n,...Q}},xa={control:{register:qe,unregister:be,getFieldState:B,handleSubmit:Xe,setError:T,_subscribe:Ce,_runSchema:I,_focusError:Ze,_getWatch:F,_getDirty:G,_setValid:j,_setFieldArray:A,_setDisabledField:$e,_setErrors:S,_getFieldArray:de,_reset:zt,_resetDefaultValues:()=>en(s.defaultValues)&&s.defaultValues().then(Q=>{$s(Q,s.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:at,_subjects:b,_proxyFormState:p,get _fields(){return i},get _formValues(){return c},get _state(){return u},set _state(Q){u=Q},get _defaultValues(){return o},get _names(){return m},set _names(Q){m=Q},get _formState(){return n},get _options(){return s},set _options(Q){s={...s,...Q}}},subscribe:Pe,trigger:pe,register:qe,handleSubmit:Xe,watch:ye,setValue:O,getValues:Ne,reset:$s,resetField:es,clearErrors:te,unregister:be,setError:T,setFocus:Ps,getFieldState:B};return{...xa,formControl:xa}}function Vs(t={}){const s=as.useRef(void 0),n=as.useRef(void 0),[i,o]=as.useState({isDirty:!1,isValidating:!1,isLoading:en(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:en(t.defaultValues)?void 0:t.defaultValues});if(!s.current)if(t.formControl)s.current={...t.formControl,formState:i},t.defaultValues&&!en(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:u,...m}=h_(t);s.current={...m,formState:i}}const c=s.current.control;return c._options=t,XA(()=>{const u=c._subscribe({formState:c._proxyFormState,callback:()=>o({...c._formState}),reRenderRoot:!0});return o(m=>({...m,isReady:!0})),c._formState.isReady=!0,u},[c]),as.useEffect(()=>c._disableForm(t.disabled),[c,t.disabled]),as.useEffect(()=>{t.mode&&(c._options.mode=t.mode),t.reValidateMode&&(c._options.reValidateMode=t.reValidateMode)},[c,t.mode,t.reValidateMode]),as.useEffect(()=>{t.errors&&(c._setErrors(t.errors),c._focusError())},[c,t.errors]),as.useEffect(()=>{t.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,t.shouldUnregister]),as.useEffect(()=>{if(c._proxyFormState.isDirty){const u=c._getDirty();u!==i.isDirty&&c._subjects.state.next({isDirty:u})}},[c,i.isDirty]),as.useEffect(()=>{var u;t.values&&!Rr(t.values,n.current)?(c._reset(t.values,{keepFieldsRef:!0,...c._options.resetOptions}),!((u=c._options.resetOptions)===null||u===void 0)&&u.keepIsValid||c._setValid(),n.current=t.values,o(m=>({...m}))):c._resetDefaultValues()},[c,t.values]),as.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),s.current.formState=WA(i,c),s.current}const Lj=(t,s,n)=>{if(t&&"reportValidity"in t){const i=Le(n,s);t.setCustomValidity(i&&i.message||""),t.reportValidity()}},aw=(t,s)=>{for(const n in s.fields){const i=s.fields[n];i&&i.ref&&"reportValidity"in i.ref?Lj(i.ref,n,t):i.refs&&i.refs.forEach(o=>Lj(o,n,t))}},f_=(t,s)=>{s.shouldUseNativeValidation&&aw(t,s);const n={};for(const i in t){const o=Le(s.fields,i),c=Object.assign(t[i]||{},{ref:o&&o.ref});if(x_(s.names||Object.keys(t),i)){const u=Object.assign({},Le(n,i));Ut(u,"root",c),Ut(n,i,u)}else Ut(n,i,c)}return n},x_=(t,s)=>t.some(n=>n.startsWith(s+"."));var p_=function(t,s){for(var n={};t.length;){var i=t[0],o=i.code,c=i.message,u=i.path.join(".");if(!n[u])if("unionErrors"in i){var m=i.unionErrors[0].errors[0];n[u]={message:m.message,type:m.code}}else n[u]={message:c,type:o};if("unionErrors"in i&&i.unionErrors.forEach(function(p){return p.errors.forEach(function(y){return t.push(y)})}),s){var h=n[u].types,f=h&&h[i.code];n[u]=ZN(u,s,n,o,f?[].concat(f,i.message):i.message)}t.shift()}return n},Hs=function(t,s,n){return n===void 0&&(n={}),function(i,o,c){try{return Promise.resolve((function(u,m){try{var h=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](i,s)).then(function(f){return c.shouldUseNativeValidation&&aw({},c),{errors:{},values:n.raw?i:f}})}catch(f){return m(f)}return h&&h.then?h.then(void 0,m):h})(0,function(u){if((function(m){return Array.isArray(m?.errors)})(u))return{values:{},errors:f_(p_(u.errors,!c.shouldUseNativeValidation&&c.criteriaMode==="all"),c)};throw u}))}catch(u){return Promise.reject(u)}}},At;(function(t){t.assertEqual=o=>{};function s(o){}t.assertIs=s;function n(o){throw new Error}t.assertNever=n,t.arrayToEnum=o=>{const c={};for(const u of o)c[u]=u;return c},t.getValidEnumValues=o=>{const c=t.objectKeys(o).filter(m=>typeof o[o[m]]!="number"),u={};for(const m of c)u[m]=o[m];return t.objectValues(u)},t.objectValues=o=>t.objectKeys(o).map(function(c){return o[c]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const c=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&c.push(u);return c},t.find=(o,c)=>{for(const u of o)if(c(u))return u},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,c=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(c)}t.joinValues=i,t.jsonStringifyReplacer=(o,c)=>typeof c=="bigint"?c.toString():c})(At||(At={}));var Pj;(function(t){t.mergeShapes=(s,n)=>({...s,...n})})(Pj||(Pj={}));const ze=At.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Tr=t=>{switch(typeof t){case"undefined":return ze.undefined;case"string":return ze.string;case"number":return Number.isNaN(t)?ze.nan:ze.number;case"boolean":return ze.boolean;case"function":return ze.function;case"bigint":return ze.bigint;case"symbol":return ze.symbol;case"object":return Array.isArray(t)?ze.array:t===null?ze.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ze.promise:typeof Map<"u"&&t instanceof Map?ze.map:typeof Set<"u"&&t instanceof Set?ze.set:typeof Date<"u"&&t instanceof Date?ze.date:ze.object;default:return ze.unknown}},Ae=At.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class er extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=s}format(s){const n=s||function(c){return c.message},i={_errors:[]},o=c=>{for(const u of c.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)i._errors.push(n(u));else{let m=i,h=0;for(;h<u.path.length;){const f=u.path[h];h===u.path.length-1?(m[f]=m[f]||{_errors:[]},m[f]._errors.push(n(u))):m[f]=m[f]||{_errors:[]},m=m[f],h++}}};return o(this),i}static assert(s){if(!(s instanceof er))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,At.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=n=>n.message){const n={},i=[];for(const o of this.issues)if(o.path.length>0){const c=o.path[0];n[c]=n[c]||[],n[c].push(s(o))}else i.push(s(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}er.create=t=>new er(t);const Nx=(t,s)=>{let n;switch(t.code){case Ae.invalid_type:t.received===ze.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ae.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,At.jsonStringifyReplacer)}`;break;case Ae.unrecognized_keys:n=`Unrecognized key(s) in object: ${At.joinValues(t.keys,", ")}`;break;case Ae.invalid_union:n="Invalid input";break;case Ae.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${At.joinValues(t.options)}`;break;case Ae.invalid_enum_value:n=`Invalid enum value. Expected ${At.joinValues(t.options)}, received '${t.received}'`;break;case Ae.invalid_arguments:n="Invalid function arguments";break;case Ae.invalid_return_type:n="Invalid function return type";break;case Ae.invalid_date:n="Invalid date";break;case Ae.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:At.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ae.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ae.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ae.custom:n="Invalid input";break;case Ae.invalid_intersection_types:n="Intersection results could not be merged";break;case Ae.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ae.not_finite:n="Number must be finite";break;default:n=s.defaultError,At.assertNever(t)}return{message:n}};let g_=Nx;function y_(){return g_}const v_=t=>{const{data:s,path:n,errorMaps:i,issueData:o}=t,c=[...n,...o.path||[]],u={...o,path:c};if(o.message!==void 0)return{...o,path:c,message:o.message};let m="";const h=i.filter(f=>!!f).slice().reverse();for(const f of h)m=f(u,{data:s,defaultError:m}).message;return{...o,path:c,message:m}};function De(t,s){const n=y_(),i=v_({issueData:s,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Nx?void 0:Nx].filter(o=>!!o)});t.common.issues.push(i)}class Aa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,n){const i=[];for(const o of n){if(o.status==="aborted")return tt;o.status==="dirty"&&s.dirty(),i.push(o.value)}return{status:s.value,value:i}}static async mergeObjectAsync(s,n){const i=[];for(const o of n){const c=await o.key,u=await o.value;i.push({key:c,value:u})}return Aa.mergeObjectSync(s,i)}static mergeObjectSync(s,n){const i={};for(const o of n){const{key:c,value:u}=o;if(c.status==="aborted"||u.status==="aborted")return tt;c.status==="dirty"&&s.dirty(),u.status==="dirty"&&s.dirty(),c.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(i[c.value]=u.value)}return{status:s.value,value:i}}}const tt=Object.freeze({status:"aborted"}),uc=t=>({status:"dirty",value:t}),Qa=t=>({status:"valid",value:t}),Uj=t=>t.status==="aborted",Fj=t=>t.status==="dirty",Vl=t=>t.status==="valid",Du=t=>typeof Promise<"u"&&t instanceof Promise;var Ve;(function(t){t.errToObj=s=>typeof s=="string"?{message:s}:s||{},t.toString=s=>typeof s=="string"?s:s?.message})(Ve||(Ve={}));class Lr{constructor(s,n,i,o){this._cachedPath=[],this.parent=s,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const qj=(t,s)=>{if(Vl(s))return{success:!0,data:s.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new er(t.common.issues);return this._error=n,this._error}}};function ht(t){if(!t)return{};const{errorMap:s,invalid_type_error:n,required_error:i,description:o}=t;if(s&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:o}:{errorMap:(u,m)=>{const{message:h}=t;return u.code==="invalid_enum_value"?{message:h??m.defaultError}:typeof m.data>"u"?{message:h??i??m.defaultError}:u.code!=="invalid_type"?{message:m.defaultError}:{message:h??n??m.defaultError}},description:o}}class Ct{get description(){return this._def.description}_getType(s){return Tr(s.data)}_getOrReturnCtx(s,n){return n||{common:s.parent.common,data:s.data,parsedType:Tr(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new Aa,ctx:{common:s.parent.common,data:s.data,parsedType:Tr(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const n=this._parse(s);if(Du(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(s){const n=this._parse(s);return Promise.resolve(n)}parse(s,n){const i=this.safeParse(s,n);if(i.success)return i.data;throw i.error}safeParse(s,n){const i={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Tr(s)},o=this._parseSync({data:s,path:i.path,parent:i});return qj(i,o)}"~validate"(s){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Tr(s)};if(!this["~standard"].async)try{const i=this._parseSync({data:s,path:[],parent:n});return Vl(i)?{value:i.value}:{issues:n.common.issues}}catch(i){i?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:n}).then(i=>Vl(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(s,n){const i=await this.safeParseAsync(s,n);if(i.success)return i.data;throw i.error}async safeParseAsync(s,n){const i={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Tr(s)},o=this._parse({data:s,path:i.path,parent:i}),c=await(Du(o)?o:Promise.resolve(o));return qj(i,c)}refine(s,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,c)=>{const u=s(o),m=()=>c.addIssue({code:Ae.custom,...i(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(h=>h?!0:(m(),!1)):u?!0:(m(),!1)})}refinement(s,n){return this._refinement((i,o)=>s(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(s){return new Kl({schema:this,typeName:st.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Or.create(this,this._def)}nullable(){return Ql.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yn.create(this)}promise(){return Lu.create(this,this._def)}or(s){return Mu.create([this,s],this._def)}and(s){return Iu.create(this,s,this._def)}transform(s){return new Kl({...ht(this._def),schema:this,typeName:st.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const n=typeof s=="function"?s:()=>s;return new Cx({...ht(this._def),innerType:this,defaultValue:n,typeName:st.ZodDefault})}brand(){return new B_({typeName:st.ZodBranded,type:this,...ht(this._def)})}catch(s){const n=typeof s=="function"?s:()=>s;return new kx({...ht(this._def),innerType:this,catchValue:n,typeName:st.ZodCatch})}describe(s){const n=this.constructor;return new n({...this._def,description:s})}pipe(s){return gp.create(this,s)}readonly(){return Ex.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const j_=/^c[^\s-]{8,}$/i,b_=/^[0-9a-z]+$/,N_=/^[0-9A-HJKMNP-TV-Z]{26}$/i,w_=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,S_=/^[a-z0-9_-]{21}$/i,C_=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,k_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,E_=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,A_="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Bf;const __=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,T_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,R_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,D_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,O_=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,M_=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nw="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",I_=new RegExp(`^${nw}$`);function rw(t){let s="[0-5]\\d";t.precision?s=`${s}\\.\\d{${t.precision}}`:t.precision==null&&(s=`${s}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${s})${n}`}function L_(t){return new RegExp(`^${rw(t)}$`)}function P_(t){let s=`${nw}T${rw(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${n.join("|")})`,new RegExp(`^${s}$`)}function U_(t,s){return!!((s==="v4"||!s)&&__.test(t)||(s==="v6"||!s)&&R_.test(t))}function F_(t,s){if(!C_.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&o?.typ!=="JWT"||!o.alg||s&&o.alg!==s)}catch{return!1}}function q_(t,s){return!!((s==="v4"||!s)&&T_.test(t)||(s==="v6"||!s)&&D_.test(t))}class Yn extends Ct{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==ze.string){const c=this._getOrReturnCtx(s);return De(c,{code:Ae.invalid_type,expected:ze.string,received:c.parsedType}),tt}const i=new Aa;let o;for(const c of this._def.checks)if(c.kind==="min")s.data.length<c.value&&(o=this._getOrReturnCtx(s,o),De(o,{code:Ae.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),i.dirty());else if(c.kind==="max")s.data.length>c.value&&(o=this._getOrReturnCtx(s,o),De(o,{code:Ae.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),i.dirty());else if(c.kind==="length"){const u=s.data.length>c.value,m=s.data.length<c.value;(u||m)&&(o=this._getOrReturnCtx(s,o),u?De(o,{code:Ae.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):m&&De(o,{code:Ae.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),i.dirty())}else if(c.kind==="email")E_.test(s.data)||(o=this._getOrReturnCtx(s,o),De(o,{validation:"email",code:Ae.invalid_string,message:c.message}),i.dirty());else if(c.kind==="emoji")Bf||(Bf=new RegExp(A_,"u")),Bf.test(s.data)||(o=this._getOrReturnCtx(s,o),De(o,{validation:"emoji",code:Ae.invalid_string,message:c.message}),i.dirty());else if(c.kind==="uuid")w_.test(s.data)||(o=this._getOrReturnCtx(s,o),De(o,{validation:"uuid",code:Ae.invalid_string,message:c.message}),i.dirty());else if(c.kind==="nanoid")S_.test(s.data)||(o=this._getOrReturnCtx(s,o),De(o,{validation:"nanoid",code:Ae.invalid_string,message:c.message}),i.dirty());else if(c.kind==="cuid")j_.test(s.data)||(o=this._getOrReturnCtx(s,o),De(o,{validation:"cuid",code:Ae.invalid_string,message:c.message}),i.dirty());else if(c.kind==="cuid2")b_.test(s.data)||(o=this._getOrReturnCtx(s,o),De(o,{validation:"cuid2",code:Ae.invalid_string,message:c.message}),i.dirty());else if(c.kind==="ulid")N_.test(s.data)||(o=this._getOrReturnCtx(s,o),De(o,{validation:"ulid",code:Ae.invalid_string,message:c.message}),i.dirty());else if(c.kind==="url")try{new URL(s.data)}catch{o=this._getOrReturnCtx(s,o),De(o,{validation:"url",code:Ae.invalid_string,message:c.message}),i.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(s.data)||(o=this._getOrReturnCtx(s,o),De(o,{validation:"regex",code:Ae.invalid_string,message:c.message}),i.dirty())):c.kind==="trim"?s.data=s.data.trim():c.kind==="includes"?s.data.includes(c.value,c.position)||(o=this._getOrReturnCtx(s,o),De(o,{code:Ae.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),i.dirty()):c.kind==="toLowerCase"?s.data=s.data.toLowerCase():c.kind==="toUpperCase"?s.data=s.data.toUpperCase():c.kind==="startsWith"?s.data.startsWith(c.value)||(o=this._getOrReturnCtx(s,o),De(o,{code:Ae.invalid_string,validation:{startsWith:c.value},message:c.message}),i.dirty()):c.kind==="endsWith"?s.data.endsWith(c.value)||(o=this._getOrReturnCtx(s,o),De(o,{code:Ae.invalid_string,validation:{endsWith:c.value},message:c.message}),i.dirty()):c.kind==="datetime"?P_(c).test(s.data)||(o=this._getOrReturnCtx(s,o),De(o,{code:Ae.invalid_string,validation:"datetime",message:c.message}),i.dirty()):c.kind==="date"?I_.test(s.data)||(o=this._getOrReturnCtx(s,o),De(o,{code:Ae.invalid_string,validation:"date",message:c.message}),i.dirty()):c.kind==="time"?L_(c).test(s.data)||(o=this._getOrReturnCtx(s,o),De(o,{code:Ae.invalid_string,validation:"time",message:c.message}),i.dirty()):c.kind==="duration"?k_.test(s.data)||(o=this._getOrReturnCtx(s,o),De(o,{validation:"duration",code:Ae.invalid_string,message:c.message}),i.dirty()):c.kind==="ip"?U_(s.data,c.version)||(o=this._getOrReturnCtx(s,o),De(o,{validation:"ip",code:Ae.invalid_string,message:c.message}),i.dirty()):c.kind==="jwt"?F_(s.data,c.alg)||(o=this._getOrReturnCtx(s,o),De(o,{validation:"jwt",code:Ae.invalid_string,message:c.message}),i.dirty()):c.kind==="cidr"?q_(s.data,c.version)||(o=this._getOrReturnCtx(s,o),De(o,{validation:"cidr",code:Ae.invalid_string,message:c.message}),i.dirty()):c.kind==="base64"?O_.test(s.data)||(o=this._getOrReturnCtx(s,o),De(o,{validation:"base64",code:Ae.invalid_string,message:c.message}),i.dirty()):c.kind==="base64url"?M_.test(s.data)||(o=this._getOrReturnCtx(s,o),De(o,{validation:"base64url",code:Ae.invalid_string,message:c.message}),i.dirty()):At.assertNever(c);return{status:i.value,value:s.data}}_regex(s,n,i){return this.refinement(o=>s.test(o),{validation:n,code:Ae.invalid_string,...Ve.errToObj(i)})}_addCheck(s){return new Yn({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...Ve.errToObj(s)})}url(s){return this._addCheck({kind:"url",...Ve.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...Ve.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...Ve.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...Ve.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...Ve.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...Ve.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...Ve.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...Ve.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...Ve.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...Ve.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...Ve.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...Ve.errToObj(s)})}datetime(s){return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof s?.precision>"u"?null:s?.precision,offset:s?.offset??!1,local:s?.local??!1,...Ve.errToObj(s?.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof s?.precision>"u"?null:s?.precision,...Ve.errToObj(s?.message)})}duration(s){return this._addCheck({kind:"duration",...Ve.errToObj(s)})}regex(s,n){return this._addCheck({kind:"regex",regex:s,...Ve.errToObj(n)})}includes(s,n){return this._addCheck({kind:"includes",value:s,position:n?.position,...Ve.errToObj(n?.message)})}startsWith(s,n){return this._addCheck({kind:"startsWith",value:s,...Ve.errToObj(n)})}endsWith(s,n){return this._addCheck({kind:"endsWith",value:s,...Ve.errToObj(n)})}min(s,n){return this._addCheck({kind:"min",value:s,...Ve.errToObj(n)})}max(s,n){return this._addCheck({kind:"max",value:s,...Ve.errToObj(n)})}length(s,n){return this._addCheck({kind:"length",value:s,...Ve.errToObj(n)})}nonempty(s){return this.min(1,Ve.errToObj(s))}trim(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Yn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const n of this._def.checks)n.kind==="min"&&(s===null||n.value>s)&&(s=n.value);return s}get maxLength(){let s=null;for(const n of this._def.checks)n.kind==="max"&&(s===null||n.value<s)&&(s=n.value);return s}}Yn.create=t=>new Yn({checks:[],typeName:st.ZodString,coerce:t?.coerce??!1,...ht(t)});function z_(t,s){const n=(t.toString().split(".")[1]||"").length,i=(s.toString().split(".")[1]||"").length,o=n>i?n:i,c=Number.parseInt(t.toFixed(o).replace(".","")),u=Number.parseInt(s.toFixed(o).replace(".",""));return c%u/10**o}class Ei extends Ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==ze.number){const c=this._getOrReturnCtx(s);return De(c,{code:Ae.invalid_type,expected:ze.number,received:c.parsedType}),tt}let i;const o=new Aa;for(const c of this._def.checks)c.kind==="int"?At.isInteger(s.data)||(i=this._getOrReturnCtx(s,i),De(i,{code:Ae.invalid_type,expected:"integer",received:"float",message:c.message}),o.dirty()):c.kind==="min"?(c.inclusive?s.data<c.value:s.data<=c.value)&&(i=this._getOrReturnCtx(s,i),De(i,{code:Ae.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?s.data>c.value:s.data>=c.value)&&(i=this._getOrReturnCtx(s,i),De(i,{code:Ae.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),o.dirty()):c.kind==="multipleOf"?z_(s.data,c.value)!==0&&(i=this._getOrReturnCtx(s,i),De(i,{code:Ae.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):c.kind==="finite"?Number.isFinite(s.data)||(i=this._getOrReturnCtx(s,i),De(i,{code:Ae.not_finite,message:c.message}),o.dirty()):At.assertNever(c);return{status:o.value,value:s.data}}gte(s,n){return this.setLimit("min",s,!0,Ve.toString(n))}gt(s,n){return this.setLimit("min",s,!1,Ve.toString(n))}lte(s,n){return this.setLimit("max",s,!0,Ve.toString(n))}lt(s,n){return this.setLimit("max",s,!1,Ve.toString(n))}setLimit(s,n,i,o){return new Ei({...this._def,checks:[...this._def.checks,{kind:s,value:n,inclusive:i,message:Ve.toString(o)}]})}_addCheck(s){return new Ei({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:Ve.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ve.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ve.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ve.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ve.toString(s)})}multipleOf(s,n){return this._addCheck({kind:"multipleOf",value:s,message:Ve.toString(n)})}finite(s){return this._addCheck({kind:"finite",message:Ve.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ve.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ve.toString(s)})}get minValue(){let s=null;for(const n of this._def.checks)n.kind==="min"&&(s===null||n.value>s)&&(s=n.value);return s}get maxValue(){let s=null;for(const n of this._def.checks)n.kind==="max"&&(s===null||n.value<s)&&(s=n.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&At.isInteger(s.value))}get isFinite(){let s=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(s===null||i.value<s)&&(s=i.value)}return Number.isFinite(n)&&Number.isFinite(s)}}Ei.create=t=>new Ei({checks:[],typeName:st.ZodNumber,coerce:t?.coerce||!1,...ht(t)});class Ai extends Ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==ze.bigint)return this._getInvalidInput(s);let i;const o=new Aa;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?s.data<c.value:s.data<=c.value)&&(i=this._getOrReturnCtx(s,i),De(i,{code:Ae.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="max"?(c.inclusive?s.data>c.value:s.data>=c.value)&&(i=this._getOrReturnCtx(s,i),De(i,{code:Ae.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),o.dirty()):c.kind==="multipleOf"?s.data%c.value!==BigInt(0)&&(i=this._getOrReturnCtx(s,i),De(i,{code:Ae.not_multiple_of,multipleOf:c.value,message:c.message}),o.dirty()):At.assertNever(c);return{status:o.value,value:s.data}}_getInvalidInput(s){const n=this._getOrReturnCtx(s);return De(n,{code:Ae.invalid_type,expected:ze.bigint,received:n.parsedType}),tt}gte(s,n){return this.setLimit("min",s,!0,Ve.toString(n))}gt(s,n){return this.setLimit("min",s,!1,Ve.toString(n))}lte(s,n){return this.setLimit("max",s,!0,Ve.toString(n))}lt(s,n){return this.setLimit("max",s,!1,Ve.toString(n))}setLimit(s,n,i,o){return new Ai({...this._def,checks:[...this._def.checks,{kind:s,value:n,inclusive:i,message:Ve.toString(o)}]})}_addCheck(s){return new Ai({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ve.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ve.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ve.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ve.toString(s)})}multipleOf(s,n){return this._addCheck({kind:"multipleOf",value:s,message:Ve.toString(n)})}get minValue(){let s=null;for(const n of this._def.checks)n.kind==="min"&&(s===null||n.value>s)&&(s=n.value);return s}get maxValue(){let s=null;for(const n of this._def.checks)n.kind==="max"&&(s===null||n.value<s)&&(s=n.value);return s}}Ai.create=t=>new Ai({checks:[],typeName:st.ZodBigInt,coerce:t?.coerce??!1,...ht(t)});class Ou extends Ct{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==ze.boolean){const i=this._getOrReturnCtx(s);return De(i,{code:Ae.invalid_type,expected:ze.boolean,received:i.parsedType}),tt}return Qa(s.data)}}Ou.create=t=>new Ou({typeName:st.ZodBoolean,coerce:t?.coerce||!1,...ht(t)});class Hl extends Ct{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==ze.date){const c=this._getOrReturnCtx(s);return De(c,{code:Ae.invalid_type,expected:ze.date,received:c.parsedType}),tt}if(Number.isNaN(s.data.getTime())){const c=this._getOrReturnCtx(s);return De(c,{code:Ae.invalid_date}),tt}const i=new Aa;let o;for(const c of this._def.checks)c.kind==="min"?s.data.getTime()<c.value&&(o=this._getOrReturnCtx(s,o),De(o,{code:Ae.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),i.dirty()):c.kind==="max"?s.data.getTime()>c.value&&(o=this._getOrReturnCtx(s,o),De(o,{code:Ae.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),i.dirty()):At.assertNever(c);return{status:i.value,value:new Date(s.data.getTime())}}_addCheck(s){return new Hl({...this._def,checks:[...this._def.checks,s]})}min(s,n){return this._addCheck({kind:"min",value:s.getTime(),message:Ve.toString(n)})}max(s,n){return this._addCheck({kind:"max",value:s.getTime(),message:Ve.toString(n)})}get minDate(){let s=null;for(const n of this._def.checks)n.kind==="min"&&(s===null||n.value>s)&&(s=n.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const n of this._def.checks)n.kind==="max"&&(s===null||n.value<s)&&(s=n.value);return s!=null?new Date(s):null}}Hl.create=t=>new Hl({checks:[],coerce:t?.coerce||!1,typeName:st.ZodDate,...ht(t)});class zj extends Ct{_parse(s){if(this._getType(s)!==ze.symbol){const i=this._getOrReturnCtx(s);return De(i,{code:Ae.invalid_type,expected:ze.symbol,received:i.parsedType}),tt}return Qa(s.data)}}zj.create=t=>new zj({typeName:st.ZodSymbol,...ht(t)});class Bj extends Ct{_parse(s){if(this._getType(s)!==ze.undefined){const i=this._getOrReturnCtx(s);return De(i,{code:Ae.invalid_type,expected:ze.undefined,received:i.parsedType}),tt}return Qa(s.data)}}Bj.create=t=>new Bj({typeName:st.ZodUndefined,...ht(t)});class Vj extends Ct{_parse(s){if(this._getType(s)!==ze.null){const i=this._getOrReturnCtx(s);return De(i,{code:Ae.invalid_type,expected:ze.null,received:i.parsedType}),tt}return Qa(s.data)}}Vj.create=t=>new Vj({typeName:st.ZodNull,...ht(t)});class Hj extends Ct{constructor(){super(...arguments),this._any=!0}_parse(s){return Qa(s.data)}}Hj.create=t=>new Hj({typeName:st.ZodAny,...ht(t)});class $j extends Ct{constructor(){super(...arguments),this._unknown=!0}_parse(s){return Qa(s.data)}}$j.create=t=>new $j({typeName:st.ZodUnknown,...ht(t)});class Pr extends Ct{_parse(s){const n=this._getOrReturnCtx(s);return De(n,{code:Ae.invalid_type,expected:ze.never,received:n.parsedType}),tt}}Pr.create=t=>new Pr({typeName:st.ZodNever,...ht(t)});class Kj extends Ct{_parse(s){if(this._getType(s)!==ze.undefined){const i=this._getOrReturnCtx(s);return De(i,{code:Ae.invalid_type,expected:ze.void,received:i.parsedType}),tt}return Qa(s.data)}}Kj.create=t=>new Kj({typeName:st.ZodVoid,...ht(t)});class yn extends Ct{_parse(s){const{ctx:n,status:i}=this._processInputParams(s),o=this._def;if(n.parsedType!==ze.array)return De(n,{code:Ae.invalid_type,expected:ze.array,received:n.parsedType}),tt;if(o.exactLength!==null){const u=n.data.length>o.exactLength.value,m=n.data.length<o.exactLength.value;(u||m)&&(De(n,{code:u?Ae.too_big:Ae.too_small,minimum:m?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(De(n,{code:Ae.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(De(n,{code:Ae.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((u,m)=>o.type._parseAsync(new Lr(n,u,n.path,m)))).then(u=>Aa.mergeArray(i,u));const c=[...n.data].map((u,m)=>o.type._parseSync(new Lr(n,u,n.path,m)));return Aa.mergeArray(i,c)}get element(){return this._def.type}min(s,n){return new yn({...this._def,minLength:{value:s,message:Ve.toString(n)}})}max(s,n){return new yn({...this._def,maxLength:{value:s,message:Ve.toString(n)}})}length(s,n){return new yn({...this._def,exactLength:{value:s,message:Ve.toString(n)}})}nonempty(s){return this.min(1,s)}}yn.create=(t,s)=>new yn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:st.ZodArray,...ht(s)});function Ll(t){if(t instanceof hs){const s={};for(const n in t.shape){const i=t.shape[n];s[n]=Or.create(Ll(i))}return new hs({...t._def,shape:()=>s})}else return t instanceof yn?new yn({...t._def,type:Ll(t.element)}):t instanceof Or?Or.create(Ll(t.unwrap())):t instanceof Ql?Ql.create(Ll(t.unwrap())):t instanceof _i?_i.create(t.items.map(s=>Ll(s))):t}class hs extends Ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),n=At.objectKeys(s);return this._cached={shape:s,keys:n},this._cached}_parse(s){if(this._getType(s)!==ze.object){const f=this._getOrReturnCtx(s);return De(f,{code:Ae.invalid_type,expected:ze.object,received:f.parsedType}),tt}const{status:i,ctx:o}=this._processInputParams(s),{shape:c,keys:u}=this._getCached(),m=[];if(!(this._def.catchall instanceof Pr&&this._def.unknownKeys==="strip"))for(const f in o.data)u.includes(f)||m.push(f);const h=[];for(const f of u){const p=c[f],y=o.data[f];h.push({key:{status:"valid",value:f},value:p._parse(new Lr(o,y,o.path,f)),alwaysSet:f in o.data})}if(this._def.catchall instanceof Pr){const f=this._def.unknownKeys;if(f==="passthrough")for(const p of m)h.push({key:{status:"valid",value:p},value:{status:"valid",value:o.data[p]}});else if(f==="strict")m.length>0&&(De(o,{code:Ae.unrecognized_keys,keys:m}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const p of m){const y=o.data[p];h.push({key:{status:"valid",value:p},value:f._parse(new Lr(o,y,o.path,p)),alwaysSet:p in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const f=[];for(const p of h){const y=await p.key,b=await p.value;f.push({key:y,value:b,alwaysSet:p.alwaysSet})}return f}).then(f=>Aa.mergeObjectSync(i,f)):Aa.mergeObjectSync(i,h)}get shape(){return this._def.shape()}strict(s){return Ve.errToObj,new hs({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(n,i)=>{const o=this._def.errorMap?.(n,i).message??i.defaultError;return n.code==="unrecognized_keys"?{message:Ve.errToObj(s).message??o}:{message:o}}}:{}})}strip(){return new hs({...this._def,unknownKeys:"strip"})}passthrough(){return new hs({...this._def,unknownKeys:"passthrough"})}extend(s){return new hs({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new hs({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:st.ZodObject})}setKey(s,n){return this.augment({[s]:n})}catchall(s){return new hs({...this._def,catchall:s})}pick(s){const n={};for(const i of At.objectKeys(s))s[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new hs({...this._def,shape:()=>n})}omit(s){const n={};for(const i of At.objectKeys(this.shape))s[i]||(n[i]=this.shape[i]);return new hs({...this._def,shape:()=>n})}deepPartial(){return Ll(this)}partial(s){const n={};for(const i of At.objectKeys(this.shape)){const o=this.shape[i];s&&!s[i]?n[i]=o:n[i]=o.optional()}return new hs({...this._def,shape:()=>n})}required(s){const n={};for(const i of At.objectKeys(this.shape))if(s&&!s[i])n[i]=this.shape[i];else{let c=this.shape[i];for(;c instanceof Or;)c=c._def.innerType;n[i]=c}return new hs({...this._def,shape:()=>n})}keyof(){return iw(At.objectKeys(this.shape))}}hs.create=(t,s)=>new hs({shape:()=>t,unknownKeys:"strip",catchall:Pr.create(),typeName:st.ZodObject,...ht(s)});hs.strictCreate=(t,s)=>new hs({shape:()=>t,unknownKeys:"strict",catchall:Pr.create(),typeName:st.ZodObject,...ht(s)});hs.lazycreate=(t,s)=>new hs({shape:t,unknownKeys:"strip",catchall:Pr.create(),typeName:st.ZodObject,...ht(s)});class Mu extends Ct{_parse(s){const{ctx:n}=this._processInputParams(s),i=this._def.options;function o(c){for(const m of c)if(m.result.status==="valid")return m.result;for(const m of c)if(m.result.status==="dirty")return n.common.issues.push(...m.ctx.common.issues),m.result;const u=c.map(m=>new er(m.ctx.common.issues));return De(n,{code:Ae.invalid_union,unionErrors:u}),tt}if(n.common.async)return Promise.all(i.map(async c=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await c._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(o);{let c;const u=[];for(const h of i){const f={...n,common:{...n.common,issues:[]},parent:null},p=h._parseSync({data:n.data,path:n.path,parent:f});if(p.status==="valid")return p;p.status==="dirty"&&!c&&(c={result:p,ctx:f}),f.common.issues.length&&u.push(f.common.issues)}if(c)return n.common.issues.push(...c.ctx.common.issues),c.result;const m=u.map(h=>new er(h));return De(n,{code:Ae.invalid_union,unionErrors:m}),tt}}get options(){return this._def.options}}Mu.create=(t,s)=>new Mu({options:t,typeName:st.ZodUnion,...ht(s)});function wx(t,s){const n=Tr(t),i=Tr(s);if(t===s)return{valid:!0,data:t};if(n===ze.object&&i===ze.object){const o=At.objectKeys(s),c=At.objectKeys(t).filter(m=>o.indexOf(m)!==-1),u={...t,...s};for(const m of c){const h=wx(t[m],s[m]);if(!h.valid)return{valid:!1};u[m]=h.data}return{valid:!0,data:u}}else if(n===ze.array&&i===ze.array){if(t.length!==s.length)return{valid:!1};const o=[];for(let c=0;c<t.length;c++){const u=t[c],m=s[c],h=wx(u,m);if(!h.valid)return{valid:!1};o.push(h.data)}return{valid:!0,data:o}}else return n===ze.date&&i===ze.date&&+t==+s?{valid:!0,data:t}:{valid:!1}}class Iu extends Ct{_parse(s){const{status:n,ctx:i}=this._processInputParams(s),o=(c,u)=>{if(Uj(c)||Uj(u))return tt;const m=wx(c.value,u.value);return m.valid?((Fj(c)||Fj(u))&&n.dirty(),{status:n.value,value:m.data}):(De(i,{code:Ae.invalid_intersection_types}),tt)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([c,u])=>o(c,u)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Iu.create=(t,s,n)=>new Iu({left:t,right:s,typeName:st.ZodIntersection,...ht(n)});class _i extends Ct{_parse(s){const{status:n,ctx:i}=this._processInputParams(s);if(i.parsedType!==ze.array)return De(i,{code:Ae.invalid_type,expected:ze.array,received:i.parsedType}),tt;if(i.data.length<this._def.items.length)return De(i,{code:Ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt;!this._def.rest&&i.data.length>this._def.items.length&&(De(i,{code:Ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const c=[...i.data].map((u,m)=>{const h=this._def.items[m]||this._def.rest;return h?h._parse(new Lr(i,u,i.path,m)):null}).filter(u=>!!u);return i.common.async?Promise.all(c).then(u=>Aa.mergeArray(n,u)):Aa.mergeArray(n,c)}get items(){return this._def.items}rest(s){return new _i({...this._def,rest:s})}}_i.create=(t,s)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _i({items:t,typeName:st.ZodTuple,rest:null,...ht(s)})};class Qj extends Ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:n,ctx:i}=this._processInputParams(s);if(i.parsedType!==ze.map)return De(i,{code:Ae.invalid_type,expected:ze.map,received:i.parsedType}),tt;const o=this._def.keyType,c=this._def.valueType,u=[...i.data.entries()].map(([m,h],f)=>({key:o._parse(new Lr(i,m,i.path,[f,"key"])),value:c._parse(new Lr(i,h,i.path,[f,"value"]))}));if(i.common.async){const m=new Map;return Promise.resolve().then(async()=>{for(const h of u){const f=await h.key,p=await h.value;if(f.status==="aborted"||p.status==="aborted")return tt;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),m.set(f.value,p.value)}return{status:n.value,value:m}})}else{const m=new Map;for(const h of u){const f=h.key,p=h.value;if(f.status==="aborted"||p.status==="aborted")return tt;(f.status==="dirty"||p.status==="dirty")&&n.dirty(),m.set(f.value,p.value)}return{status:n.value,value:m}}}}Qj.create=(t,s,n)=>new Qj({valueType:s,keyType:t,typeName:st.ZodMap,...ht(n)});class Nc extends Ct{_parse(s){const{status:n,ctx:i}=this._processInputParams(s);if(i.parsedType!==ze.set)return De(i,{code:Ae.invalid_type,expected:ze.set,received:i.parsedType}),tt;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(De(i,{code:Ae.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(De(i,{code:Ae.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const c=this._def.valueType;function u(h){const f=new Set;for(const p of h){if(p.status==="aborted")return tt;p.status==="dirty"&&n.dirty(),f.add(p.value)}return{status:n.value,value:f}}const m=[...i.data.values()].map((h,f)=>c._parse(new Lr(i,h,i.path,f)));return i.common.async?Promise.all(m).then(h=>u(h)):u(m)}min(s,n){return new Nc({...this._def,minSize:{value:s,message:Ve.toString(n)}})}max(s,n){return new Nc({...this._def,maxSize:{value:s,message:Ve.toString(n)}})}size(s,n){return this.min(s,n).max(s,n)}nonempty(s){return this.min(1,s)}}Nc.create=(t,s)=>new Nc({valueType:t,minSize:null,maxSize:null,typeName:st.ZodSet,...ht(s)});class Gj extends Ct{get schema(){return this._def.getter()}_parse(s){const{ctx:n}=this._processInputParams(s);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Gj.create=(t,s)=>new Gj({getter:t,typeName:st.ZodLazy,...ht(s)});class Sx extends Ct{_parse(s){if(s.data!==this._def.value){const n=this._getOrReturnCtx(s);return De(n,{received:n.data,code:Ae.invalid_literal,expected:this._def.value}),tt}return{status:"valid",value:s.data}}get value(){return this._def.value}}Sx.create=(t,s)=>new Sx({value:t,typeName:st.ZodLiteral,...ht(s)});function iw(t,s){return new $l({values:t,typeName:st.ZodEnum,...ht(s)})}class $l extends Ct{_parse(s){if(typeof s.data!="string"){const n=this._getOrReturnCtx(s),i=this._def.values;return De(n,{expected:At.joinValues(i),received:n.parsedType,code:Ae.invalid_type}),tt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(s.data)){const n=this._getOrReturnCtx(s),i=this._def.values;return De(n,{received:n.data,code:Ae.invalid_enum_value,options:i}),tt}return Qa(s.data)}get options(){return this._def.values}get enum(){const s={};for(const n of this._def.values)s[n]=n;return s}get Values(){const s={};for(const n of this._def.values)s[n]=n;return s}get Enum(){const s={};for(const n of this._def.values)s[n]=n;return s}extract(s,n=this._def){return $l.create(s,{...this._def,...n})}exclude(s,n=this._def){return $l.create(this.options.filter(i=>!s.includes(i)),{...this._def,...n})}}$l.create=iw;class Yj extends Ct{_parse(s){const n=At.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(s);if(i.parsedType!==ze.string&&i.parsedType!==ze.number){const o=At.objectValues(n);return De(i,{expected:At.joinValues(o),received:i.parsedType,code:Ae.invalid_type}),tt}if(this._cache||(this._cache=new Set(At.getValidEnumValues(this._def.values))),!this._cache.has(s.data)){const o=At.objectValues(n);return De(i,{received:i.data,code:Ae.invalid_enum_value,options:o}),tt}return Qa(s.data)}get enum(){return this._def.values}}Yj.create=(t,s)=>new Yj({values:t,typeName:st.ZodNativeEnum,...ht(s)});class Lu extends Ct{unwrap(){return this._def.type}_parse(s){const{ctx:n}=this._processInputParams(s);if(n.parsedType!==ze.promise&&n.common.async===!1)return De(n,{code:Ae.invalid_type,expected:ze.promise,received:n.parsedType}),tt;const i=n.parsedType===ze.promise?n.data:Promise.resolve(n.data);return Qa(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Lu.create=(t,s)=>new Lu({type:t,typeName:st.ZodPromise,...ht(s)});class Kl extends Ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===st.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:n,ctx:i}=this._processInputParams(s),o=this._def.effect||null,c={addIssue:u=>{De(i,u),u.fatal?n.abort():n.dirty()},get path(){return i.path}};if(c.addIssue=c.addIssue.bind(c),o.type==="preprocess"){const u=o.transform(i.data,c);if(i.common.async)return Promise.resolve(u).then(async m=>{if(n.value==="aborted")return tt;const h=await this._def.schema._parseAsync({data:m,path:i.path,parent:i});return h.status==="aborted"?tt:h.status==="dirty"||n.value==="dirty"?uc(h.value):h});{if(n.value==="aborted")return tt;const m=this._def.schema._parseSync({data:u,path:i.path,parent:i});return m.status==="aborted"?tt:m.status==="dirty"||n.value==="dirty"?uc(m.value):m}}if(o.type==="refinement"){const u=m=>{const h=o.refinement(m,c);if(i.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return m};if(i.common.async===!1){const m=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return m.status==="aborted"?tt:(m.status==="dirty"&&n.dirty(),u(m.value),{status:n.value,value:m.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(m=>m.status==="aborted"?tt:(m.status==="dirty"&&n.dirty(),u(m.value).then(()=>({status:n.value,value:m.value}))))}if(o.type==="transform")if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Vl(u))return tt;const m=o.transform(u.value,c);if(m instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:m}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>Vl(u)?Promise.resolve(o.transform(u.value,c)).then(m=>({status:n.value,value:m})):tt);At.assertNever(o)}}Kl.create=(t,s,n)=>new Kl({schema:t,typeName:st.ZodEffects,effect:s,...ht(n)});Kl.createWithPreprocess=(t,s,n)=>new Kl({schema:s,effect:{type:"preprocess",transform:t},typeName:st.ZodEffects,...ht(n)});class Or extends Ct{_parse(s){return this._getType(s)===ze.undefined?Qa(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}Or.create=(t,s)=>new Or({innerType:t,typeName:st.ZodOptional,...ht(s)});class Ql extends Ct{_parse(s){return this._getType(s)===ze.null?Qa(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}Ql.create=(t,s)=>new Ql({innerType:t,typeName:st.ZodNullable,...ht(s)});class Cx extends Ct{_parse(s){const{ctx:n}=this._processInputParams(s);let i=n.data;return n.parsedType===ze.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Cx.create=(t,s)=>new Cx({innerType:t,typeName:st.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...ht(s)});class kx extends Ct{_parse(s){const{ctx:n}=this._processInputParams(s),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Du(o)?o.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new er(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new er(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}kx.create=(t,s)=>new kx({innerType:t,typeName:st.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...ht(s)});class Zj extends Ct{_parse(s){if(this._getType(s)!==ze.nan){const i=this._getOrReturnCtx(s);return De(i,{code:Ae.invalid_type,expected:ze.nan,received:i.parsedType}),tt}return{status:"valid",value:s.data}}}Zj.create=t=>new Zj({typeName:st.ZodNaN,...ht(t)});class B_ extends Ct{_parse(s){const{ctx:n}=this._processInputParams(s),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class gp extends Ct{_parse(s){const{status:n,ctx:i}=this._processInputParams(s);if(i.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return c.status==="aborted"?tt:c.status==="dirty"?(n.dirty(),uc(c.value)):this._def.out._parseAsync({data:c.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?tt:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(s,n){return new gp({in:s,out:n,typeName:st.ZodPipeline})}}class Ex extends Ct{_parse(s){const n=this._def.innerType._parse(s),i=o=>(Vl(o)&&(o.value=Object.freeze(o.value)),o);return Du(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}Ex.create=(t,s)=>new Ex({innerType:t,typeName:st.ZodReadonly,...ht(s)});var st;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(st||(st={}));const Fe=Yn.create,vn=Ei.create;Ai.create;const Ur=Ou.create;Hl.create;Pr.create;yn.create;const Es=hs.create;Mu.create;Iu.create;_i.create;const Uc=Sx.create,wn=$l.create;Lu.create;Or.create;Ql.create;const lw={string:(t=>Yn.create({...t,coerce:!0})),number:(t=>Ei.create({...t,coerce:!0})),boolean:(t=>Ou.create({...t,coerce:!0})),bigint:(t=>Ai.create({...t,coerce:!0})),date:(t=>Hl.create({...t,coerce:!0}))};function ow(t){var s,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(s=0;s<o;s++)t[s]&&(n=ow(t[s]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function cw(){for(var t,s,n=0,i="",o=arguments.length;n<o;n++)(t=arguments[n])&&(s=ow(t))&&(i&&(i+=" "),i+=s);return i}const V_=(t,s)=>{const n=new Array(t.length+s.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<s.length;i++)n[t.length+i]=s[i];return n},H_=(t,s)=>({classGroupId:t,validator:s}),dw=(t=new Map,s=null,n)=>({nextPart:t,validators:s,classGroupId:n}),Pu="-",Wj=[],$_="arbitrary..",K_=t=>{const s=G_(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return Q_(u);const m=u.split(Pu),h=m[0]===""&&m.length>1?1:0;return uw(m,h,s)},getConflictingClassGroupIds:(u,m)=>{if(m){const h=i[u],f=n[u];return h?f?V_(f,h):h:f||Wj}return n[u]||Wj}}},uw=(t,s,n)=>{if(t.length-s===0)return n.classGroupId;const o=t[s],c=n.nextPart.get(o);if(c){const f=uw(t,s+1,c);if(f)return f}const u=n.validators;if(u===null)return;const m=s===0?t.join(Pu):t.slice(s).join(Pu),h=u.length;for(let f=0;f<h;f++){const p=u[f];if(p.validator(m))return p.classGroupId}},Q_=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const s=t.slice(1,-1),n=s.indexOf(":"),i=s.slice(0,n);return i?$_+i:void 0})(),G_=t=>{const{theme:s,classGroups:n}=t;return Y_(n,s)},Y_=(t,s)=>{const n=dw();for(const i in t){const o=t[i];yp(o,n,i,s)}return n},yp=(t,s,n,i)=>{const o=t.length;for(let c=0;c<o;c++){const u=t[c];Z_(u,s,n,i)}},Z_=(t,s,n,i)=>{if(typeof t=="string"){W_(t,s,n);return}if(typeof t=="function"){X_(t,s,n,i);return}J_(t,s,n,i)},W_=(t,s,n)=>{const i=t===""?s:mw(s,t);i.classGroupId=n},X_=(t,s,n,i)=>{if(eT(t)){yp(t(i),s,n,i);return}s.validators===null&&(s.validators=[]),s.validators.push(H_(n,t))},J_=(t,s,n,i)=>{const o=Object.entries(t),c=o.length;for(let u=0;u<c;u++){const[m,h]=o[u];yp(h,mw(s,m),n,i)}},mw=(t,s)=>{let n=t;const i=s.split(Pu),o=i.length;for(let c=0;c<o;c++){const u=i[c];let m=n.nextPart.get(u);m||(m=dw(),n.nextPart.set(u,m)),n=m}return n},eT=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,tT=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,n=Object.create(null),i=Object.create(null);const o=(c,u)=>{n[c]=u,s++,s>t&&(s=0,i=n,n=Object.create(null))};return{get(c){let u=n[c];if(u!==void 0)return u;if((u=i[c])!==void 0)return o(c,u),u},set(c,u){c in n?n[c]=u:o(c,u)}}},Ax="!",Xj=":",sT=[],Jj=(t,s,n,i,o)=>({modifiers:t,hasImportantModifier:s,baseClassName:n,maybePostfixModifierPosition:i,isExternal:o}),aT=t=>{const{prefix:s,experimentalParseClassName:n}=t;let i=o=>{const c=[];let u=0,m=0,h=0,f;const p=o.length;for(let j=0;j<p;j++){const C=o[j];if(u===0&&m===0){if(C===Xj){c.push(o.slice(h,j)),h=j+1;continue}if(C==="/"){f=j;continue}}C==="["?u++:C==="]"?u--:C==="("?m++:C===")"&&m--}const y=c.length===0?o:o.slice(h);let b=y,w=!1;y.endsWith(Ax)?(b=y.slice(0,-1),w=!0):y.startsWith(Ax)&&(b=y.slice(1),w=!0);const N=f&&f>h?f-h:void 0;return Jj(c,w,b,N)};if(s){const o=s+Xj,c=i;i=u=>u.startsWith(o)?c(u.slice(o.length)):Jj(sT,!1,u,void 0,!0)}if(n){const o=i;i=c=>n({className:c,parseClassName:o})}return i},nT=t=>{const s=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{s.set(n,1e6+i)}),n=>{const i=[];let o=[];for(let c=0;c<n.length;c++){const u=n[c],m=u[0]==="[",h=s.has(u);m||h?(o.length>0&&(o.sort(),i.push(...o),o=[]),i.push(u)):o.push(u)}return o.length>0&&(o.sort(),i.push(...o)),i}},rT=t=>({cache:tT(t.cacheSize),parseClassName:aT(t),sortModifiers:nT(t),...K_(t)}),iT=/\s+/,lT=(t,s)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:c}=s,u=[],m=t.trim().split(iT);let h="";for(let f=m.length-1;f>=0;f-=1){const p=m[f],{isExternal:y,modifiers:b,hasImportantModifier:w,baseClassName:N,maybePostfixModifierPosition:j}=n(p);if(y){h=p+(h.length>0?" "+h:h);continue}let C=!!j,A=i(C?N.substring(0,j):N);if(!A){if(!C){h=p+(h.length>0?" "+h:h);continue}if(A=i(N),!A){h=p+(h.length>0?" "+h:h);continue}C=!1}const E=b.length===0?"":b.length===1?b[0]:c(b).join(":"),S=w?E+Ax:E,R=S+A;if(u.indexOf(R)>-1)continue;u.push(R);const _=o(A,C);for(let L=0;L<_.length;++L){const I=_[L];u.push(S+I)}h=p+(h.length>0?" "+h:h)}return h},oT=(...t)=>{let s=0,n,i,o="";for(;s<t.length;)(n=t[s++])&&(i=hw(n))&&(o&&(o+=" "),o+=i);return o},hw=t=>{if(typeof t=="string")return t;let s,n="";for(let i=0;i<t.length;i++)t[i]&&(s=hw(t[i]))&&(n&&(n+=" "),n+=s);return n},cT=(t,...s)=>{let n,i,o,c;const u=h=>{const f=s.reduce((p,y)=>y(p),t());return n=rT(f),i=n.cache.get,o=n.cache.set,c=m,m(h)},m=h=>{const f=i(h);if(f)return f;const p=lT(h,n);return o(h,p),p};return c=u,(...h)=>c(oT(...h))},dT=[],ys=t=>{const s=n=>n[t]||dT;return s.isThemeGetter=!0,s},fw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uT=/^\d+\/\d+$/,mT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,xT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Al=t=>uT.test(t),ut=t=>!!t&&!Number.isNaN(Number(t)),Ar=t=>!!t&&Number.isInteger(Number(t)),Vf=t=>t.endsWith("%")&&ut(t.slice(0,-1)),Gn=t=>mT.test(t),gT=()=>!0,yT=t=>hT.test(t)&&!fT.test(t),pw=()=>!1,vT=t=>xT.test(t),jT=t=>pT.test(t),bT=t=>!Me(t)&&!Ie(t),NT=t=>ro(t,vw,pw),Me=t=>fw.test(t),ci=t=>ro(t,jw,yT),Hf=t=>ro(t,ET,ut),eb=t=>ro(t,gw,pw),wT=t=>ro(t,yw,jT),nu=t=>ro(t,bw,vT),Ie=t=>xw.test(t),lc=t=>io(t,jw),ST=t=>io(t,AT),tb=t=>io(t,gw),CT=t=>io(t,vw),kT=t=>io(t,yw),ru=t=>io(t,bw,!0),ro=(t,s,n)=>{const i=fw.exec(t);return i?i[1]?s(i[1]):n(i[2]):!1},io=(t,s,n=!1)=>{const i=xw.exec(t);return i?i[1]?s(i[1]):n:!1},gw=t=>t==="position"||t==="percentage",yw=t=>t==="image"||t==="url",vw=t=>t==="length"||t==="size"||t==="bg-size",jw=t=>t==="length",ET=t=>t==="number",AT=t=>t==="family-name",bw=t=>t==="shadow",_T=()=>{const t=ys("color"),s=ys("font"),n=ys("text"),i=ys("font-weight"),o=ys("tracking"),c=ys("leading"),u=ys("breakpoint"),m=ys("container"),h=ys("spacing"),f=ys("radius"),p=ys("shadow"),y=ys("inset-shadow"),b=ys("text-shadow"),w=ys("drop-shadow"),N=ys("blur"),j=ys("perspective"),C=ys("aspect"),A=ys("ease"),E=ys("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...R(),Ie,Me],L=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],q=()=>[Ie,Me,h],$=()=>[Al,"full","auto",...q()],H=()=>[Ar,"none","subgrid",Ie,Me],G=()=>["auto",{span:["full",Ar,Ie,Me]},Ar,Ie,Me],F=()=>[Ar,"auto",Ie,Me],de=()=>["auto","min","max","fr",Ie,Me],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",...q()],P=()=>[Al,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...q()],U=()=>[t,Ie,Me],pe=()=>[...R(),tb,eb,{position:[Ie,Me]}],Ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",CT,NT,{size:[Ie,Me]}],te=()=>[Vf,lc,ci],T=()=>["","none","full",f,Ie,Me],ye=()=>["",ut,lc,ci],Ce=()=>["solid","dashed","dotted","double"],Pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],be=()=>[ut,Vf,tb,eb],$e=()=>["","none",N,Ie,Me],qe=()=>["none",ut,Ie,Me],Ze=()=>["none",ut,Ie,Me],at=()=>[ut,Ie,Me],Xe=()=>[Al,"full",...q()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gn],breakpoint:[Gn],color:[gT],container:[Gn],"drop-shadow":[Gn],ease:["in","out","in-out"],font:[bT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gn],shadow:[Gn],spacing:["px",ut],text:[Gn],"text-shadow":[Gn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Al,Me,Ie,C]}],container:["container"],columns:[{columns:[ut,Me,Ie,m]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[Ar,"auto",Ie,Me]}],basis:[{basis:[Al,"full","auto",m,...q()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ut,Al,"auto","initial","none",Me]}],grow:[{grow:["",ut,Ie,Me]}],shrink:[{shrink:["",ut,Ie,Me]}],order:[{order:[Ar,"first","last","none",Ie,Me]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":de()}],"auto-rows":[{"auto-rows":de()}],gap:[{gap:q()}],"gap-x":[{"gap-x":q()}],"gap-y":[{"gap-y":q()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:q()}],px:[{px:q()}],py:[{py:q()}],ps:[{ps:q()}],pe:[{pe:q()}],pt:[{pt:q()}],pr:[{pr:q()}],pb:[{pb:q()}],pl:[{pl:q()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":q()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":q()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[m,"screen",...P()]}],"min-w":[{"min-w":[m,"screen","none",...P()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[u]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",n,lc,ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ie,Hf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vf,Me]}],"font-family":[{font:[ST,Me,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ie,Me]}],"line-clamp":[{"line-clamp":[ut,"none",Ie,Hf]}],leading:[{leading:[c,...q()]}],"list-image":[{"list-image":["none",Ie,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[ut,"from-font","auto",Ie,ci]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[ut,"auto",Ie,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:Ne()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ar,Ie,Me],radial:["",Ie,Me],conic:[Ar,Ie,Me]},kT,wT]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:T()}],"rounded-s":[{"rounded-s":T()}],"rounded-e":[{"rounded-e":T()}],"rounded-t":[{"rounded-t":T()}],"rounded-r":[{"rounded-r":T()}],"rounded-b":[{"rounded-b":T()}],"rounded-l":[{"rounded-l":T()}],"rounded-ss":[{"rounded-ss":T()}],"rounded-se":[{"rounded-se":T()}],"rounded-ee":[{"rounded-ee":T()}],"rounded-es":[{"rounded-es":T()}],"rounded-tl":[{"rounded-tl":T()}],"rounded-tr":[{"rounded-tr":T()}],"rounded-br":[{"rounded-br":T()}],"rounded-bl":[{"rounded-bl":T()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ce(),"hidden","none"]}],"divide-style":[{divide:[...Ce(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...Ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ut,Ie,Me]}],"outline-w":[{outline:["",ut,lc,ci]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",p,ru,nu]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",y,ru,nu]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[ut,ci]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",b,ru,nu]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[ut,Ie,Me]}],"mix-blend":[{"mix-blend":[...Pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ut]}],"mask-image-linear-from-pos":[{"mask-linear-from":be()}],"mask-image-linear-to-pos":[{"mask-linear-to":be()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":be()}],"mask-image-t-to-pos":[{"mask-t-to":be()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":be()}],"mask-image-r-to-pos":[{"mask-r-to":be()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":be()}],"mask-image-b-to-pos":[{"mask-b-to":be()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":be()}],"mask-image-l-to-pos":[{"mask-l-to":be()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":be()}],"mask-image-x-to-pos":[{"mask-x-to":be()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":be()}],"mask-image-y-to-pos":[{"mask-y-to":be()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Ie,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":be()}],"mask-image-radial-to-pos":[{"mask-radial-to":be()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[ut]}],"mask-image-conic-from-pos":[{"mask-conic-from":be()}],"mask-image-conic-to-pos":[{"mask-conic-to":be()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:Ne()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Me]}],filter:[{filter:["","none",Ie,Me]}],blur:[{blur:$e()}],brightness:[{brightness:[ut,Ie,Me]}],contrast:[{contrast:[ut,Ie,Me]}],"drop-shadow":[{"drop-shadow":["","none",w,ru,nu]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",ut,Ie,Me]}],"hue-rotate":[{"hue-rotate":[ut,Ie,Me]}],invert:[{invert:["",ut,Ie,Me]}],saturate:[{saturate:[ut,Ie,Me]}],sepia:[{sepia:["",ut,Ie,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Me]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[ut,Ie,Me]}],"backdrop-contrast":[{"backdrop-contrast":[ut,Ie,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ut,Ie,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ut,Ie,Me]}],"backdrop-invert":[{"backdrop-invert":["",ut,Ie,Me]}],"backdrop-opacity":[{"backdrop-opacity":[ut,Ie,Me]}],"backdrop-saturate":[{"backdrop-saturate":[ut,Ie,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",ut,Ie,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":q()}],"border-spacing-x":[{"border-spacing-x":q()}],"border-spacing-y":[{"border-spacing-y":q()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ut,"initial",Ie,Me]}],ease:[{ease:["linear","initial",A,Ie,Me]}],delay:[{delay:[ut,Ie,Me]}],animate:[{animate:["none",E,Ie,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Ie,Me]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:qe()}],"rotate-x":[{"rotate-x":qe()}],"rotate-y":[{"rotate-y":qe()}],"rotate-z":[{"rotate-z":qe()}],scale:[{scale:Ze()}],"scale-x":[{"scale-x":Ze()}],"scale-y":[{"scale-y":Ze()}],"scale-z":[{"scale-z":Ze()}],"scale-3d":["scale-3d"],skew:[{skew:at()}],"skew-x":[{"skew-x":at()}],"skew-y":[{"skew-y":at()}],transform:[{transform:[Ie,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Xe()}],"translate-x":[{"translate-x":Xe()}],"translate-y":[{"translate-y":Xe()}],"translate-z":[{"translate-z":Xe()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Me]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[ut,lc,ci,Hf]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},TT=cT(_T);function fe(...t){return TT(cw(t))}function Gl(t){if(!t)return"-";const s=typeof t=="string"?new Date(t):t;if(isNaN(s.getTime()))return"-";const n=s.toLocaleDateString("en-US",{timeZone:"Asia/Dhaka",day:"numeric",month:"short",year:"numeric"}),i=s.toLocaleTimeString("en-US",{timeZone:"Asia/Dhaka",hour:"numeric",minute:"2-digit",hour12:!0});return`${n} at ${i}`}function RT(){return"https://api.paaera.com/api".replace(/\/api$/,"")||"http://localhost:5001"}function jn(t){if(t.startsWith("http"))return t;const s=RT(),n=t.startsWith("/")?t:`/${t}`;return`${s}${n}`}const X=v.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));X.displayName="Card";const oe=v.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:fe("flex flex-col space-y-1.5 p-6",t),...s}));oe.displayName="CardHeader";const ce=v.forwardRef(({className:t,...s},n)=>e.jsx("h3",{ref:n,className:fe("text-2xl font-semibold leading-none tracking-tight",t),...s}));ce.displayName="CardTitle";const Qe=v.forwardRef(({className:t,...s},n)=>e.jsx("p",{ref:n,className:fe("text-sm text-muted-foreground",t),...s}));Qe.displayName="CardDescription";const ee=v.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:fe("p-6 pt-0",t),...s}));ee.displayName="CardContent";const DT=v.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:fe("flex items-center p-6 pt-0",t),...s}));DT.displayName="CardFooter";const me=v.forwardRef(({className:t,type:s,...n},i)=>e.jsx("input",{type:s,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:i,...n}));me.displayName="Input";const sb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ab=cw,Nw=(t,s)=>n=>{var i;if(s?.variants==null)return ab(t,n?.class,n?.className);const{variants:o,defaultVariants:c}=s,u=Object.keys(o).map(f=>{const p=n?.[f],y=c?.[f];if(p===null)return null;const b=sb(p)||sb(y);return o[f][b]}),m=n&&Object.entries(n).reduce((f,p)=>{let[y,b]=p;return b===void 0||(f[y]=b),f},{}),h=s==null||(i=s.compoundVariants)===null||i===void 0?void 0:i.reduce((f,p)=>{let{class:y,className:b,...w}=p;return Object.entries(w).every(N=>{let[j,C]=N;return Array.isArray(C)?C.includes({...c,...m}[j]):{...c,...m}[j]===C})?[...f,y,b]:f},[]);return ab(t,u,h,n?.class,n?.className)},OT=Nw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),M=v.forwardRef(({className:t,variant:s,size:n,...i},o)=>e.jsx("button",{className:fe(OT({variant:s,size:n,className:t})),ref:o,...i}));M.displayName="Button";const MT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ww=(...t)=>t.filter((s,n,i)=>!!s&&i.indexOf(s)===n).join(" ");var IT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LT=v.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:u,...m},h)=>v.createElement("svg",{ref:h,...IT,width:s,height:s,stroke:t,strokeWidth:i?Number(n)*24/Number(s):n,className:ww("lucide",o),...m},[...u.map(([f,p])=>v.createElement(f,p)),...Array.isArray(c)?c:[c]]));const Ee=(t,s)=>{const n=v.forwardRef(({className:i,...o},c)=>v.createElement(LT,{ref:c,iconNode:s,className:ww(`lucide-${MT(t)}`,i),...o}));return n.displayName=`${t}`,n};const ha=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const mc=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const PT=Ee("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Sw=Ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const UT=Ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const FT=Ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const Pi=Ee("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);const $a=Ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const Zs=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const qT=Ee("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);const As=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const tm=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const sm=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Fc=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const zT=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const wc=Ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const bi=Ee("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const ma=Ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Wn=Ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Ti=Ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Jt=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const BT=Ee("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);const nb=Ee("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);const Sc=Ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Ri=Ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const VT=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const ps=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Yl=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Zl=Ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const la=Ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const vp=Ee("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);const Vt=Ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const am=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Cw=Ee("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const HT=Ee("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);const $T=Ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const kw=Ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const KT=Ee("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const Di=Ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const rb=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const Ew=Ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const QT=Ee("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);const Aw=Ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const _x=Ee("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const Is=Ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Cc=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const jp=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const lo=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const bp=Ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const _w=Ee("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const hi=Ee("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);const GT=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Bs=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const Tw=Ee("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);const YT=Ee("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const ZT=Ee("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);const WT=Ee("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);const oa=Ee("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const Rw=Ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const Np=Ee("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);const kc=Ee("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const ca=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Ka=Ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const yu=Ee("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);const _t=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const XT=Ee("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const Dw=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const wp=Ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const ar=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Ow=Ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const Uu=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Fr=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Mw=Ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const Pl=Ee("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);const $t=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);const JT=Ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const ib=Ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const Iw=Ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const Ws=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const Ls=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const e5=Ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const qr=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Ec=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const lb=Ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const is=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Yt=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Lw=Ee("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);const t5=Ee("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);const s5=Ee("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);const a5=Ee("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);const Ye=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Pw=Ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),n5=Es({email:Fe().email("Invalid email address"),password:Fe().min(6,"Password must be at least 6 characters")});function Uw(){const{login:t}=We(),s=St(),[n,i]=v.useState(null),[o,c]=v.useState(!1),{register:u,handleSubmit:m,formState:{errors:h}}=Vs({resolver:Hs(n5)}),f=async p=>{try{i(null),c(!0),await t(p.email,p.password),s("/dashboard")}catch(y){i(y.message||"Login failed. Please try again.")}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs(X,{className:"w-full max-w-md shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"O"})})}),e.jsx(ce,{className:"text-2xl font-bold text-slate-900",children:"Welcome back"}),e.jsx(Qe,{className:"text-slate-600",children:"Sign in to your Omni CRM account"})]}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:m(f),className:"space-y-4",children:[n&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:n}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-700",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"email",type:"email",placeholder:"you@example.com",className:"pl-10",...u("email")})]}),h.email&&e.jsx("p",{className:"text-sm text-red-600",children:h.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-slate-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"password",type:"password",placeholder:"",className:"pl-10",...u("password")})]}),h.password&&e.jsx("p",{className:"text-sm text-red-600",children:h.password.message})]}),e.jsx(M,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"}),e.jsxs("div",{className:"text-center text-sm text-slate-600",children:["Don't have an account?"," ",e.jsx("a",{href:"/register",className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Sign up"})]})]})})]})})}function Je({children:t}){const{isAuthenticated:s,loading:n,isClient:i,user:o}=We();return n?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-slate-600",children:"Loading..."})]})}):s?i&&!window.location.pathname.startsWith("/client")?e.jsx(hx,{to:"/client/dashboard",replace:!0}):!i&&window.location.pathname.startsWith("/client")?e.jsx(hx,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:t}):e.jsx(Uw,{})}function it({children:t,permission:s,fallback:n}){const{hasPermission:i,user:o}=We();return o?.roleName==="SuperAdmin"?e.jsx(e.Fragment,{children:t}):i(s)?e.jsx(e.Fragment,{children:t}):n?e.jsx(e.Fragment,{children:n}):null}const fi={async checkInstallationStatus(){return(await Z.get("/install/status")).data.data},async checkPrerequisites(){return(await Z.post("/install/check-prerequisites")).data.data},async testDatabase(t){return(await Z.post("/install/test-database",t)).data.data},async setupDatabase(t){return(await Z.post("/install/setup-database",t)).data.data},async createAdmin(t,s){return(await Z.post("/install/create-admin",{...t,databaseConfig:s})).data.data},async finalizeInstallation(t,s){return(await Z.post("/install/finalize",{installedBy:t,databaseConfig:s})).data.data},async autoSetup(t){return(await Z.post("/install/auto-setup",t)).data.data},async completeAutoInstallation(t,s,n,i,o){return(await Z.post("/install/complete-auto",{autoSetupConfig:t,adminData:s,jwtSecret:n,clientUrl:i,apiUrl:o})).data.data}},r5=({children:t})=>{const[s,n]=v.useState(!0),[i,o]=v.useState(!1),c=St(),u=_a();return v.useEffect(()=>{(async()=>{if(u.pathname==="/install"){n(!1);return}try{const h=await fi.checkInstallationStatus();o(h.isInstalled),h.isInstalled||c("/install",{replace:!0})}catch(h){console.error("Failed to check installation status:",h),u.pathname!=="/install"&&c("/install",{replace:!0})}finally{n(!1)}})()},[c,u.pathname]),u.pathname==="/install"?e.jsx(e.Fragment,{children:t}):s?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Checking installation status..."})]})}):i?e.jsx(e.Fragment,{children:t}):null},Sp={getAll:t=>Z.get("/companies",{params:{companyId:t}}),getById:(t,s)=>Z.get(`/companies/${t}`,{params:{companyId:s}}),create:t=>Z.post("/companies",t),update:(t,s)=>Z.put(`/companies/${t}`,s),delete:t=>Z.delete(`/companies/${t}`),getContacts:(t,s)=>Z.get(`/companies/${t}/contacts`,{params:{companyId:s}}),getContracts:(t,s)=>Z.get(`/companies/${t}/contracts`,{params:{companyId:s}})},nm={getAll:t=>Z.get("/employees",{params:{companyId:t}}),getById:(t,s)=>Z.get(`/employees/${t}`,{params:{companyId:s}}),create:t=>Z.post("/employees",t),update:(t,s)=>Z.put(`/employees/${t}`,s),delete:(t,s)=>Z.delete(`/employees/${t}`,{params:{companyId:s}}),getTasks:(t,s)=>Z.get(`/employees/${t}/tasks`,{params:{companyId:s}})},vs={getAll:(t,s)=>Z.get("/tasks",{params:{companyId:t,...s}}),getById:(t,s)=>Z.get(`/tasks/${t}`,{params:{companyId:s}}),getDetail:(t,s)=>Z.get(`/tasks/${t}/detail`,{params:{companyId:s}}),create:t=>Z.post("/tasks",t),update:(t,s,n)=>Z.put(`/tasks/${t}`,s,{params:{companyId:n||s.companyId}}),delete:(t,s)=>Z.delete(`/tasks/${t}`,{params:{companyId:s}}),updateStatus:(t,s,n)=>Z.put(`/tasks/${t}/status`,{status:s},{params:{companyId:n}}),getUserTasks:(t,s)=>Z.get(`/tasks/user/${t}`,{params:{companyId:s}}),assignToUser:(t,s,n)=>Z.put(`/tasks/${t}/assign`,{employeeId:s},{params:{companyId:n}}),getSubTasks:(t,s)=>Z.get(`/tasks/${t}/sub-tasks`,{params:{companyId:s}}),createSubTask:(t,s,n)=>Z.post(`/tasks/${t}/sub-tasks`,{...s,companyId:n}),updateSubTask:(t,s,n)=>Z.put(`/tasks/sub-tasks/${t}`,{...s,companyId:n}),deleteSubTask:(t,s)=>Z.delete(`/tasks/sub-tasks/${t}`,{params:{companyId:s}}),uploadAttachment:(t,s,n,i)=>{const o=new FormData;return o.append("file",s),o.append("taskId",t.toString()),o.append("companyId",n.toString()),i&&o.append("subTaskId",i.toString()),Z.post(`/tasks/${t}/attachments`,o,{headers:{"Content-Type":"multipart/form-data"}})},addLinkAttachment:t=>Z.post("/tasks/attachments/link",t),deleteAttachment:(t,s)=>Z.delete(`/tasks/attachments/${t}`,{params:{companyId:s}}),uploadAudio:(t,s,n,i,o,c)=>{const u=new FormData;return u.append("file",s,"audio.webm"),u.append("taskId",t.toString()),u.append("companyId",o.toString()),u.append("mimeType",n),u.append("duration",i.toString()),c&&u.append("subTaskId",c.toString()),Z.post("/tasks/audio/upload",u,{headers:{"Content-Type":"multipart/form-data"}})},getMessages:(t,s,n=1,i=50)=>Z.get(`/tasks/${t}/messages`,{params:{companyId:s,page:n,limit:i}}),sendMessage:(t,s,n)=>Z.post(`/tasks/${t}/messages`,{...s,companyId:n}),markMessageAsRead:(t,s)=>Z.put(`/tasks/messages/${t}/read`,{},{params:{companyId:s}}),getUnreadCount:(t,s)=>Z.get(`/tasks/${t}/messages/unread-count`,{params:{companyId:s}})},i5={invoices:{getAll:(t,s)=>Z.get("/finance/invoices",{params:{companyId:t,...s}}),getById:(t,s)=>Z.get(`/finance/invoices/${t}`,{params:{companyId:s}}),create:t=>Z.post("/finance/invoices",t),update:(t,s)=>Z.put(`/finance/invoices/${t}`,s)},transactions:{getAll:(t,s)=>Z.get("/finance/transactions",{params:{companyId:t,...s}}),create:t=>Z.post("/finance/transactions",t)},budgets:{getAll:t=>Z.get("/finance/budgets",{params:{companyId:t}}),create:t=>Z.post("/finance/budgets",t)},summary:(t,s,n)=>Z.get("/finance/transactions/summary",{params:{companyId:t,startDate:s,endDate:n}})},qs={getAll:t=>Z.get("/leads",{params:t}),getById:(t,s)=>Z.get(`/leads/${t}`,{params:{companyId:s}}),create:t=>Z.post("/leads",t),createFromInbox:(t,s)=>Z.post(`/leads/from-inbox/${t}`,s),update:(t,s)=>Z.put(`/leads/${t}`,s),updateStatus:(t,s,n)=>Z.put(`/leads/${t}/status`,{status:s},{params:{companyId:n}}),convert:(t,s,n)=>Z.post(`/leads/${t}/convert`,n,{params:{companyId:s}}),getPipeline:t=>Z.get("/leads/pipeline",{params:{companyId:t}}),getMeetings:(t,s)=>Z.get(`/leads/${t}/meetings`,{params:{companyId:s}}),createMeeting:(t,s,n)=>Z.post(`/leads/${t}/meetings`,s,{params:{companyId:n}}),updateMeeting:(t,s,n,i)=>Z.put(`/leads/${t}/meetings/${s}`,n,{params:{companyId:i}}),deleteMeeting:(t,s,n)=>Z.delete(`/leads/${t}/meetings/${s}`,{params:{companyId:n}}),getCalls:(t,s)=>Z.get(`/leads/${t}/calls`,{params:{companyId:s}}),createCall:(t,s,n)=>Z.post(`/leads/${t}/calls`,s,{params:{companyId:n}}),updateCall:(t,s,n,i)=>Z.put(`/leads/${t}/calls/${s}`,n,{params:{companyId:i}}),deleteCall:(t,s,n)=>Z.delete(`/leads/${t}/calls/${s}`,{params:{companyId:n}}),addCallNote:(t,s,n,i)=>Z.post(`/leads/${t}/calls/${s}/notes`,{note:n},{params:{companyId:i}})},Fw={getAll:t=>Z.get("/meetings",{params:t}),getUpcoming:()=>Z.get("/meetings/upcoming")},qw={getAll:t=>Z.get("/calls",{params:t}),getUpcoming:()=>Z.get("/calls/upcoming")},Ul={getAll:()=>Z.get("/lead-categories"),getById:(t,s)=>Z.get(`/lead-categories/${t}`,{params:{companyId:s}}),create:t=>Z.post("/lead-categories",t),update:(t,s)=>Z.put(`/lead-categories/${t}`,s),delete:(t,s)=>Z.delete(`/lead-categories/${t}`,{params:{companyId:s}})},Fl={getAll:()=>Z.get("/lead-interests"),getById:(t,s)=>Z.get(`/lead-interests/${t}`,{params:{companyId:s}}),create:t=>Z.post("/lead-interests",t),update:(t,s)=>Z.put(`/lead-interests/${t}`,s),delete:(t,s)=>Z.delete(`/lead-interests/${t}`,{params:{companyId:s}})},pn={getAll:t=>Z.get("/users",{params:t?{companyId:t}:{}}),getById:(t,s)=>Z.get(`/users/${t}`,{params:s?{companyId:s}:{}}),create:t=>Z.post("/users",t),update:(t,s)=>Z.put(`/users/${t}`,s),delete:(t,s)=>Z.delete(`/users/${t}`,{params:s?{companyId:s}:{}})},$f={getAll:t=>Z.get("/system-settings",{params:{companyId:t}}),getByKey:(t,s)=>Z.get(`/system-settings/${t}`,{params:{companyId:s}}),upsert:t=>Z.post("/system-settings",t),update:(t,s)=>Z.put(`/system-settings/${t}`,s),delete:(t,s)=>Z.delete(`/system-settings/${t}`,{params:{companyId:s}})},Ni={getThemeSettings:()=>Z.get("/theme/settings"),updateThemeSettings:t=>Z.post("/theme/settings",t),uploadLogo:t=>{const s=new FormData;return s.append("logo",t),Z.post("/theme/logo",s,{headers:{"Content-Type":"multipart/form-data"}})}},Fu={getAll:()=>Z.get("/roles"),getById:t=>Z.get(`/roles/${t}`),updatePermissions:(t,s)=>Z.put(`/roles/${t}/permissions`,{permissions:s})},Ca={getAll:(t,s)=>Z.get("/campaigns",{params:{companyId:t,...s}}),getById:(t,s)=>Z.get(`/campaigns/${t}`,{params:{companyId:s}}),create:t=>Z.post("/campaigns",t),update:(t,s,n)=>Z.put(`/campaigns/${t}`,s,{params:{companyId:n}}),delete:(t,s)=>Z.delete(`/campaigns/${t}`,{params:{companyId:s}}),getStatistics:(t,s)=>Z.get(`/campaigns/${t}/statistics`,{params:{companyId:s}}),getActive:t=>Z.get("/campaigns/active",{params:{companyId:t}}),getProducts:(t,s)=>Z.get(`/campaigns/${t}/products`,{params:{companyId:s}}),getGroups:(t,s)=>Z.get(`/campaigns/${t}/groups`,{params:{companyId:s}})},Wl={getAll:t=>Z.get("/employee-groups",{params:{companyId:t}}),getById:(t,s)=>Z.get(`/employee-groups/${t}`,{params:{companyId:s}}),create:t=>Z.post("/employee-groups",t),update:(t,s,n)=>Z.put(`/employee-groups/${t}`,s,{params:{companyId:n}}),delete:(t,s)=>Z.delete(`/employee-groups/${t}`,{params:{companyId:s}}),getMembers:(t,s)=>Z.get(`/employee-groups/${t}/members`,{params:{companyId:s}})},tn={getAll:(t,s)=>Z.get("/products",{params:{companyId:t,...s}}),getById:(t,s)=>Z.get(`/products/${t}`,{params:{companyId:s}}),create:t=>Z.post("/products",t),update:(t,s,n)=>Z.put(`/products/${t}`,s,{params:{companyId:n}}),delete:(t,s)=>Z.delete(`/products/${t}`,{params:{companyId:s}}),uploadImage:t=>{const s=new FormData;return s.append("image",t),Z.post("/products/upload-image",s)}},yi={getAll:t=>Z.get("/product-categories",{params:{companyId:t}}),getById:(t,s)=>Z.get(`/product-categories/${t}`,{params:{companyId:s}}),create:t=>Z.post("/product-categories",t),update:(t,s,n)=>Z.put(`/product-categories/${t}`,s,{params:{companyId:n}}),delete:(t,s)=>Z.delete(`/product-categories/${t}`,{params:{companyId:s}})},zr={getAll:()=>Z.get("/projects"),getById:t=>Z.get(`/projects/${t}`),create:t=>Z.post("/projects",t),update:(t,s)=>Z.put(`/projects/${t}`,s),sign:(t,s)=>Z.post(`/projects/${t}/sign`,{signature:s}),getStats:()=>Z.get("/projects/stats")},l5={getAll:t=>Z.get("/leads/client",{params:t?{campaignId:t}:{}})},zw={getMyCampaigns:()=>Z.get("/campaigns/client")},wi={getAll:t=>Z.get("/services",{params:t!==void 0?{isActive:t}:{}}),getById:t=>Z.get(`/services/${t}`),create:t=>Z.post("/services",t),update:(t,s)=>Z.put(`/services/${t}`,s),delete:t=>Z.delete(`/services/${t}`)},vi={getAllProjects:t=>Z.get("/admin/projects",{params:t}),getProjectById:t=>Z.get(`/admin/projects/${t}`),getAllClients:t=>Z.get("/admin/clients",{params:t}),getClientById:t=>Z.get(`/admin/clients/${t}`),updateProject:(t,s)=>Z.put(`/admin/projects/${t}`,s),deleteProject:t=>Z.delete(`/admin/projects/${t}`),updateClient:(t,s)=>Z.put(`/admin/clients/${t}`,s),deleteClient:t=>Z.delete(`/admin/clients/${t}`)},qu={getAll:t=>Z.get("/finance/invoices",{params:t}),getById:t=>Z.get(`/finance/invoices/${t}`),getClientInvoices:()=>Z.get("/finance/invoices/client")},hc={getAll:()=>Z.get("/payment-gateways"),getActive:()=>Z.get("/payment-gateways/active"),getById:t=>Z.get(`/payment-gateways/${t}`),create:t=>Z.post("/payment-gateways",t),update:(t,s)=>Z.put(`/payment-gateways/${t}`,s),delete:t=>Z.delete(`/payment-gateways/${t}`)},vc={create:t=>Z.post("/payments",t),getByInvoice:t=>Z.get(`/payments/invoice/${t}`),getClientPayments:()=>Z.get("/payments/client"),getAll:t=>Z.get("/payments",{params:t}),getById:t=>Z.get(`/payments/${t}`),approve:(t,s)=>Z.put(`/payments/${t}/approve`,s),reject:(t,s)=>Z.put(`/payments/${t}/reject`,s)},ob=[{label:"",items:[{label:"Dashboard",icon:Ew,path:"/dashboard"},{label:"Inbox",icon:Bs,path:"/inbox",permission:"can_manage_inbox"}]},{label:"CRM & Sales",items:[{label:"Leads",icon:Ws,permission:"can_view_leads",submenu:[{label:"All Leads",path:"/leads",icon:la},{label:"Lead Configuration",path:"/lead-config",icon:_x}]},{label:"Companies",icon:$a,path:"/companies",permission:"can_view_companies"},{label:"Employees",icon:Yt,path:"/employees",permission:"can_view_employees"},{label:"Employee Groups",icon:Yt,path:"/employee-groups",permission:"can_manage_employees"},{label:"Tasks",icon:Pl,path:"/tasks",permission:"can_view_tasks"}]},{label:"Meeting Schedule",items:[{label:"All Meetings",icon:Zs,path:"/meeting-schedule",permission:"can_manage_leads"}]},{label:"Call Schedule",items:[{label:"All Calls",icon:ca,path:"/call-schedule",permission:"can_manage_leads"},{label:"My Calls",icon:ca,path:"/my-calls"}]},{label:"Project Management",items:[{label:"Projects & Clients",icon:Yt,path:"/admin/projects-clients",permission:"can_manage_companies"}]},{label:"Finance",items:[{label:"Finance",icon:ps,permission:"can_view_finance",submenu:[{label:"Finance Overview",path:"/finance",icon:ps},{label:"Payment Management",path:"/payment-management",icon:ps},{label:"Payment Settings",path:"/payment-settings",icon:Ri}]}]},{label:"Content & Marketing",items:[{label:"Campaigns",icon:hi,permission:"can_manage_campaigns",submenu:[{label:"View Campaigns",path:"/campaigns",icon:la},{label:"Add New Campaign",path:"/campaigns/new",icon:_t}]},{label:"Products",icon:oa,permission:"can_manage_products",submenu:[{label:"All Products",path:"/products",icon:la},{label:"Add New Product",path:"/products/new",icon:_t},{label:"Product Categories",path:"/product-categories",icon:la},{label:"Add Category",path:"/product-categories/new",icon:_t}]},{label:"Services",icon:oa,path:"/services",permission:"can_manage_products"}]},{label:"System Administration",items:[{label:"Users",icon:Fr,path:"/users",permission:"can_view_all_users"},{label:"Roles",icon:Fr,path:"/roles",permission:"can_manage_roles"},{label:"System Settings",icon:nb,permission:"can_manage_root_items",submenu:[{label:"General Settings",path:"/system-settings",icon:nb},{label:"Theme Design",path:"/theme-design",icon:Rw},{label:"Integrations",path:"/integrations",icon:yu},{label:"Task Configuration",path:"/task-config",icon:_x},{label:"Settings",path:"/settings",icon:Uu}]}]}];function o5(){const t=_a(),{isOpen:s,setIsOpen:n}=GN(),{user:i,logout:o}=We(),[c,u]=v.useState({}),{data:m}=we({queryKey:["theme-settings"],queryFn:async()=>{try{return(await Ni.getThemeSettings()).data.data}catch{return null}},retry:!1,staleTime:300*1e3}),h=m?.siteLogo||null,f=m?.siteName||"Omni CRM",p="https://api.paaera.com/api".replace("/api","")||"http://localhost:5001";v.useEffect(()=>{const b={};ob.forEach(w=>{w.items.forEach(N=>{N.submenu?.some(j=>t.pathname===j.path)&&(b[N.label]=!0)})}),u(w=>({...w,...b}))},[t.pathname]);const y=b=>{u(w=>({...w,[b]:!w[b]}))};return e.jsxs(e.Fragment,{children:[s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>n(!1)}),e.jsxs("aside",{className:fe("fixed left-0 top-0 z-50 h-full w-64 bg-white border-r border-gray-200 transition-transform duration-300 ease-in-out flex flex-col",s?"translate-x-0":"-translate-x-full"),children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h?e.jsx("img",{src:h.startsWith("/")?`${p}${h}`:h,alt:f,className:"h-8 w-auto object-contain"}):e.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"O"})}),e.jsx("span",{className:"font-semibold text-slate-900 text-lg",children:f})]}),e.jsx("button",{onClick:()=>n(!1),className:"lg:hidden p-2 hover:bg-gray-100 rounded-md transition-colors","aria-label":"Close sidebar",children:e.jsx(Ye,{className:"w-5 h-5 text-slate-600"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4 min-h-0",children:ob.map((b,w)=>{const N=b.items.filter(j=>j.path==="/tasks"&&i?.roleName==="Client"?!1:j.path==="/tasks"&&i?.roleName!=="Client"?!0:!j.permission||i?.permissions?.[j.permission]||i?.roleName==="SuperAdmin");return N.length===0?null:e.jsxs("div",{className:fe(b.label&&"mt-6 first:mt-0"),children:[b.label&&e.jsx("div",{className:"px-4 py-2 mb-2",children:e.jsx("h3",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:b.label})}),e.jsx("ul",{className:"space-y-1",children:N.map(j=>{const C=j.icon,A=j.path?t.pathname===j.path:j.submenu?.some(E=>t.pathname===E.path);if(j.submenu&&j.submenu.length>0){const E=c[j.label]||!1,S=j.submenu.some(R=>t.pathname===R.path);return e.jsxs("li",{children:[e.jsxs("button",{onClick:()=>y(j.label),className:fe("w-full flex items-center gap-3 px-4 py-2.5 rounded-md text-sm font-medium transition-all duration-200","hover:bg-gray-50",S?"bg-indigo-50 text-indigo-700 border-l-4 border-indigo-600":"text-slate-700 hover:text-slate-900"),children:[e.jsx(C,{className:fe("w-5 h-5 flex-shrink-0 transition-colors",S?"text-indigo-600":"text-slate-500")}),e.jsx("span",{className:"flex-1 text-left",children:j.label}),e.jsx("div",{className:"flex-shrink-0 transition-transform duration-200",style:{transform:E?"rotate(0deg)":"rotate(-90deg)"},children:e.jsx(tm,{className:"w-4 h-4 text-slate-500"})})]}),e.jsx("div",{className:fe("overflow-hidden transition-all duration-300 ease-in-out",E?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:e.jsx("ul",{className:"ml-6 mt-1 mb-1 space-y-1 border-l-2 border-indigo-200 pl-4",children:j.submenu.map(R=>{const _=R.icon||la,L=t.pathname===R.path;return e.jsx("li",{children:e.jsxs(wt,{to:R.path,onClick:()=>{window.innerWidth<1024&&n(!1)},className:fe("flex items-center gap-3 px-4 py-2 rounded-md text-sm font-normal transition-colors","hover:bg-gray-50",L?"bg-indigo-50 text-indigo-600 font-medium":"text-slate-600 hover:text-slate-900"),children:[e.jsx(_,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-left",children:R.label})]})},R.path)})})})]},j.label)}return e.jsx("li",{children:e.jsxs(wt,{to:j.path,onClick:()=>{(j.path==="/inbox"||window.innerWidth<1024)&&n(!1)},className:fe("flex items-center gap-3 px-4 py-2.5 rounded-md text-sm font-medium transition-colors","hover:bg-gray-50",A?"bg-indigo-50 text-indigo-700 border-l-4 border-indigo-600":"text-slate-700 hover:text-slate-900"),children:[e.jsx(C,{className:fe("w-5 h-5 flex-shrink-0",A?"text-indigo-600":"text-slate-500")}),e.jsx("span",{className:"flex-1 text-left",children:j.label}),j.badge&&e.jsx("span",{className:"bg-indigo-600 text-white text-xs font-medium px-2 py-0.5 rounded-full flex-shrink-0",children:j.badge})]})},j.path)})})]},b.label||`section-${w}`)})}),e.jsxs("div",{className:"p-4 border-t border-gray-200 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center",children:i?.profileImage?e.jsx("img",{src:i.profileImage,alt:i.email,className:"w-8 h-8 rounded-full object-cover"}):e.jsx("span",{className:"text-white text-xs font-medium",children:i?.email?.charAt(0).toUpperCase()||"U"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:i?.email||"User"}),e.jsx("p",{className:"text-xs text-slate-500 truncate",children:i?.roleName||"User"})]})]}),e.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium text-slate-700 hover:bg-gray-100 transition-colors",children:[e.jsx(jp,{className:"w-5 h-5 text-slate-500"}),e.jsx("span",{children:"Logout"})]})]})]})]})}function c5({meeting:t,onDismiss:s}){const[n,i]=v.useState(null),[o,c]=v.useState(!1);if(v.useEffect(()=>{const m=()=>{const f=new Date(t.meetingTime),p=new Date,y=f.getTime()-p.getTime();if(y<=0){c(!0),i(null);return}const b=Math.floor(y/(1e3*60*60)),w=Math.floor(y%(1e3*60*60)/(1e3*60)),N=Math.floor(y%(1e3*60)/1e3);i({hours:b,minutes:w,seconds:N})};m();const h=setInterval(m,1e3);return()=>clearInterval(h)},[t.meetingTime]),o||!n)return null;const u=()=>{window.open(t.googleMeetUrl,"_blank","noopener,noreferrer")};return e.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 bg-indigo-50 border border-indigo-200 rounded-lg shadow-sm max-w-md",children:[e.jsx(Jt,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs font-semibold text-indigo-900 mb-0.5",children:" "}),e.jsxs("div",{className:"text-xs text-indigo-700 truncate",children:[t.title,t.lead&&e.jsxs("span",{className:"text-indigo-600 ml-1",children:[" ",t.lead.title]})]}),e.jsxs("div",{className:"text-xs text-indigo-600 mt-0.5 font-mono",children:[n.hours,"h ",n.minutes,"m ",n.seconds,"s"]})]}),e.jsxs(M,{size:"sm",onClick:u,className:"bg-indigo-600 hover:bg-indigo-700 text-white flex-shrink-0 text-xs px-2 py-1 h-auto",children:[e.jsx(Zl,{className:"w-3 h-3 mr-1"}),"Join"]}),s&&e.jsx("button",{onClick:s,className:"p-1 hover:bg-indigo-100 rounded transition-colors flex-shrink-0","aria-label":"Dismiss alert",children:e.jsx(Ye,{className:"w-3 h-3 text-indigo-600"})})]})}function dt({children:t}){const s=_a(),{isOpen:n,setIsOpen:i}=GN(),[o,c]=v.useState(!1),[u,m]=v.useState(!1),{user:h,logout:f}=We(),{data:p}=we({queryKey:["upcoming-meeting",h?.id,h?.companyId],queryFn:async()=>(await Fw.getUpcoming()).data.data,enabled:!!h?.id&&!!h?.companyId,refetchInterval:3e4});v.useEffect(()=>{s.pathname==="/inbox"?i(!1):i(!0)},[s.pathname,i]),v.useEffect(()=>{const b=()=>{m(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",b),document.addEventListener("webkitfullscreenchange",b),document.addEventListener("mozfullscreenchange",b),document.addEventListener("MSFullscreenChange",b),()=>{document.removeEventListener("fullscreenchange",b),document.removeEventListener("webkitfullscreenchange",b),document.removeEventListener("mozfullscreenchange",b),document.removeEventListener("MSFullscreenChange",b)}},[]);const y=async()=>{try{document.fullscreenElement?document.exitFullscreen?await document.exitFullscreen():document.webkitExitFullscreen?await document.webkitExitFullscreen():document.mozCancelFullScreen?await document.mozCancelFullScreen():document.msExitFullscreen&&await document.msExitFullscreen():document.documentElement.requestFullscreen?await document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen?await document.documentElement.webkitRequestFullscreen():document.documentElement.mozRequestFullScreen?await document.documentElement.mozRequestFullScreen():document.documentElement.msRequestFullscreen&&await document.documentElement.msRequestFullscreen()}catch(b){console.error("Error toggling fullscreen:",b)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(o5,{}),e.jsxs("div",{className:fe("transition-all duration-300",n?"lg:pl-64":"lg:pl-0"),children:[e.jsx("header",{className:"sticky top-0 z-30 h-16 bg-white border-b border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between h-full px-4 md:px-6",children:[e.jsx("button",{onClick:()=>i(!n),className:fe("p-2 hover:bg-gray-100 rounded-md transition-colors",s.pathname==="/inbox"&&!n?"":"lg:hidden"),"aria-label":"Toggle sidebar",children:e.jsx(GT,{className:"w-5 h-5 text-slate-600"})}),e.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-4",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[p&&e.jsx(c5,{meeting:p}),e.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded-md transition-colors","aria-label":u?"Exit fullscreen":"Enter fullscreen",title:u?"Exit fullscreen":"Enter fullscreen",children:u?e.jsx(YT,{className:"w-5 h-5 text-slate-600"}):e.jsx(_w,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("button",{className:"relative p-2 hover:bg-gray-100 rounded-md transition-colors","aria-label":"Notifications",children:[e.jsx(UT,{className:"w-5 h-5 text-slate-600"}),e.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 p-2 hover:bg-gray-100 rounded-md transition-colors","aria-label":"User menu",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center",children:h?.profileImage?e.jsx("img",{src:h.profileImage,alt:h.email,className:"w-8 h-8 rounded-full object-cover"}):e.jsx(is,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"hidden md:block text-sm font-medium text-slate-700",children:h?.email||"User"})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 z-20",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:h?.email}),e.jsx("p",{className:"text-xs text-slate-500",children:h?.roleName||"User"})]}),e.jsxs("button",{onClick:()=>{f(),c(!1)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-gray-100 transition-colors",children:[e.jsx(jp,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]})]})})]})]})]})]})}),e.jsx("main",{className:"p-4 md:p-6 lg:p-8",children:t})]})]})}const Xn={async getIntegrations(){const t=await Z.get("/integrations");if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to fetch integrations")},async getIntegrationById(t){const s=await Z.get(`/integrations/${t}`);if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.message||"Failed to fetch integration")},async upsertIntegration(t){const s=await Z.post("/integrations",t);if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.message||"Failed to save integration")},async updateIntegration(t,s){const n=await Z.put(`/integrations/${t}`,s);if(n.data.success&&n.data.data)return n.data.data;throw new Error(n.data.message||"Failed to update integration")},async deleteIntegration(t){const s=await Z.delete(`/integrations/${t}`);if(!s.data.success)throw new Error(s.data.message||"Failed to delete integration")},async syncChatwootConversations(t){const s=await Z.post("/chatwoot/sync",{integrationId:t});if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.message||"Failed to sync Chatwoot conversations")},async getChatwootWebhookUrl(t){const s=t?`?integrationId=${t}`:"",n=await Z.get(`/utils/chatwoot-webhook-url${s}`);if(n.data.success&&n.data.data)return n.data.data.webhookUrl;throw new Error(n.data.message||"Failed to get webhook URL")}},Ba={async getConversations(t,s){const n=new URLSearchParams;t&&n.set("tab",t),s&&n.set("status",s);const i=n.toString(),o=i?`/conversations?${i}`:"/conversations",c=await Z.get(o);if(c.data.success&&c.data.data)return c.data.data;throw new Error(c.data.message||"Failed to fetch conversations")},async getConversationMessages(t){const s=await Z.get(`/conversations/${t}/messages`);if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.message||"Failed to fetch messages")},async sendReply(t,s,n){if(n){const i=new FormData;s&&i.append("content",s),i.append("image",n),console.log(" Sending image message:",{conversationId:t,hasContent:!!s,imageName:n.name,imageSize:n.size,imageType:n.type});const o=await Z.post(`/conversations/${t}/reply`,i);if(o.data.success&&o.data.data)return o.data.data;throw new Error(o.data.message||"Failed to send message")}else{const i=await Z.post(`/conversations/${t}/reply`,{content:s});if(i.data.success&&i.data.data)return i.data.data;throw new Error(i.data.message||"Failed to send message")}},async getAnalytics(t=30){const s=await Z.get(`/conversations/analytics?days=${t}`);if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.message||"Failed to fetch analytics")},async getPublicAnalytics(t=30,s){const n=new URLSearchParams;n.set("days",String(t)),s&&n.set("companyId",String(s));const i=await Z.get(`/conversations/analytics/public?${n.toString()}`);if(i.data.success&&i.data.data)return i.data.data;throw new Error(i.data.message||"Failed to fetch analytics")},async markConversationAsRead(t){const s=await Z.post(`/conversations/${t}/mark-read`);if(!s.data.success)throw new Error(s.data.message||"Failed to mark messages as read")},async markMessageAsRead(t,s){const n=await Z.post(`/conversations/${t}/messages/${s}/mark-read`);if(n.data.success&&n.data.data)return n.data.data;throw new Error(n.data.message||"Failed to mark message as read")},async updateTypingStatus(t,s){const n=await Z.post(`/conversations/${t}/typing`,{isTyping:s});if(!n.data.success)throw new Error(n.data.message||"Failed to update typing status")},async getTypingStatus(t){const s=await Z.get(`/conversations/${t}/typing`);if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.message||"Failed to fetch typing status")},async assignConversation(t){const s=await Z.post(`/conversations/${t}/assign`);if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.message||"Failed to assign conversation")},async unassignConversation(t){const s=await Z.post(`/conversations/${t}/unassign`);if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.message||"Failed to unassign conversation")},async completeConversation(t){const s=await Z.post(`/conversations/${t}/complete`);if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.message||"Failed to complete conversation")},async getConversationStats(){const t=await Z.get("/conversations/stats");if(t.data.success&&t.data.data)return t.data.data;throw new Error(t.data.message||"Failed to fetch conversation statistics")},async getConversationReleaseHistory(t){const s=await Z.get(`/conversations/${t}/releases`);if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.message||"Failed to fetch release history")}};function Kf({value:t,size:s=120,strokeWidth:n=8,className:i,showPercentage:o=!0,children:c}){const u=(s-n)/2,m=u*2*Math.PI,h=m-Math.min(100,Math.max(0,t))/100*m;return e.jsxs("div",{className:fe("relative inline-flex items-center justify-center",i),children:[e.jsxs("svg",{width:s,height:s,className:"transform -rotate-90",children:[e.jsx("circle",{cx:s/2,cy:s/2,r:u,stroke:"currentColor",strokeWidth:n,fill:"none",className:"text-gray-200"}),e.jsx("circle",{cx:s/2,cy:s/2,r:u,stroke:"currentColor",strokeWidth:n,fill:"none",strokeDasharray:m,strokeDashoffset:h,strokeLinecap:"round",className:fe("transition-all duration-500",t>=100?"text-green-500":t>=75?"text-blue-500":t>=50?"text-yellow-500":"text-orange-500")})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c||o&&e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[Math.round(t),"%"]})})})]})}function d5(){const{user:t,hasPermission:s}=We(),[n,i]=v.useState(!1),[o,c]=v.useState("live-office"),{data:u}=we({queryKey:["user-tasks",t?.id],queryFn:async()=>!t?.id||!t?.companyId?[]:(await vs.getUserTasks(t.id,t.companyId)).data.data||[],enabled:!!t?.id&&!!t?.companyId}),{data:m=[]}=we({queryKey:["integrations"],queryFn:()=>Xn.getIntegrations(),enabled:s("can_view_integrations")}),h=m.find(T=>T.provider==="chatwoot"),{data:f}=we({queryKey:["chatwoot-webhook-url",h?.id],queryFn:async()=>{if(!h?.id)return null;try{return await Xn.getChatwootWebhookUrl(h.id)}catch(T){return console.error("Error fetching webhook URL:",T),null}},enabled:s("can_view_integrations")&&!!h?.id}),p=u||[],y=p.filter(T=>T.status==="Pending"),b=p.filter(T=>T.status==="StartedWorking"),w=p.filter(T=>T.status==="Complete"),N=p.filter(T=>T.status==="Cancel"),j=p.slice(0,5),{data:C}=we({queryKey:["leads-count"],queryFn:async()=>(await qs.getAll()).data.data||[],enabled:s("can_manage_leads")||s("can_view_leads")}),E=(C||[]).filter(T=>T.status!=="Won"&&T.status!=="Lost").length,{data:S}=we({queryKey:["campaigns-active",t?.companyId],queryFn:async()=>t?.companyId?(await Ca.getActive(t.companyId)).data.data||[]:[],enabled:!!t?.companyId&&(s("can_manage_leads")||s("can_view_leads"))}),{data:R,isLoading:_}=we({queryKey:["campaigns-all",t?.companyId],queryFn:async()=>t?.companyId?(await Ca.getAll(t.companyId)).data.data||[]:[],enabled:!!t?.companyId&&(s("can_manage_campaigns")||t?.roleName==="SuperAdmin")}),L=S||[],{data:I=[]}=we({queryKey:["campaign-stats",L.map(T=>T.id)],queryFn:async()=>{if(!t?.companyId||L.length===0)return[];const T=L.map(ye=>Ca.getStatistics(ye.id,t.companyId).then(Ce=>({campaignId:ye.id,...Ce.data.data})).catch(()=>null));return(await Promise.all(T)).filter(Boolean)},enabled:!!t?.companyId&&L.length>0&&(s("can_manage_leads")||s("can_view_leads"))}),q=async()=>{if(f)try{await navigator.clipboard.writeText(f),i(!0),setTimeout(()=>i(!1),2e3)}catch(T){console.error("Failed to copy:",T)}},$=R||[],{data:H}=we({queryKey:["client-invoices-dashboard"],queryFn:async()=>{try{return(await qu.getClientInvoices()).data.data||[]}catch{return[]}},enabled:t?.roleName==="Client"}),{data:G}=we({queryKey:["all-invoices-dashboard",t?.companyId],queryFn:async()=>{if(!t?.companyId)return[];try{return(await qu.getAll({companyId:t.companyId})).data.data||[]}catch{return[]}},enabled:!!t?.companyId&&(s("can_manage_finance")||t?.roleName==="SuperAdmin")}),F=H||[],de=G||[],z=de.filter(T=>T.status==="Unpaid"),he=de.reduce((T,ye)=>T+Number(ye.totalAmount||0),0),{data:O}=we({queryKey:["projects-dashboard",t?.companyId],queryFn:async()=>{if(!t?.companyId)return[];try{return(await vi.getAllProjects({companyId:t.companyId})).data.data||[]}catch{return[]}},enabled:!!t?.companyId&&(s("can_manage_companies")||t?.roleName==="SuperAdmin")}),U=(O||[]).reduce((T,ye)=>T+Number(ye.amount||0),0),Ne=(()=>{const T=[];if((s("can_manage_leads")||s("can_view_leads"))&&T.push({title:"Active Leads",value:E.toString(),change:"View all leads",icon:Ws,color:"text-blue-600",link:"/leads"}),(s("can_manage_finance")||t?.roleName==="SuperAdmin")&&T.push({title:"Total Invoices",value:`${he.toLocaleString()}`,change:`${z.length} unpaid`,icon:Vt,color:"text-green-600",link:"/finance"}),t?.roleName==="Client"&&T.push({title:"My Invoices",value:F.length.toString(),change:`${F.filter(ye=>ye.status==="Unpaid").length} unpaid`,icon:Vt,color:"text-indigo-600",link:"/client/invoices"}),s("can_manage_employees")&&T.push({title:"Total Employees",value:"0",change:"Manage team",icon:Yt,color:"text-indigo-600",link:"/employees"}),t?.roleName!=="Client"){const ye=p.length;T.push({title:"My Tasks",value:ye.toString(),change:`${y.length} pending, ${b.length} in progress`,icon:Pl,color:"text-orange-600",link:"/tasks"})}return s("can_manage_companies")&&T.push({title:"Companies",value:"0",change:"Manage companies",icon:$a,color:"text-purple-600",link:"/companies"}),s("can_manage_inbox")&&T.push({title:"Unread Messages",value:"0",change:"View inbox",icon:Bs,color:"text-pink-600",link:"/inbox"}),(s("can_manage_campaigns")||t?.roleName==="SuperAdmin")&&T.push({title:"Total Campaigns",value:String($.length),change:"Manage campaigns",icon:hi,color:"text-indigo-600",link:"/campaigns"}),T})(),{data:B}=we({queryKey:["conversation-stats"],queryFn:()=>Ba.getConversationStats(),enabled:t?.roleName==="SuperAdmin",refetchInterval:5e3}),te=t?.roleName==="SuperAdmin";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Dashboard"}),e.jsxs("p",{className:"text-slate-600 mt-1",children:["Welcome back",t?.email?`, ${t.email.split("@")[0]}`:"","! Here's what's happening today."]})]}),te&&e.jsxs("div",{className:"flex gap-2 border-b border-gray-200 pb-4",children:[e.jsx("button",{onClick:()=>c("live-office"),className:fe("px-4 py-2 text-sm font-medium rounded-md transition-colors",o==="live-office"?"bg-indigo-600 text-white":"bg-gray-100 text-slate-700 hover:bg-gray-200"),children:"Live Office ( )"}),e.jsx("button",{onClick:()=>c("analytics"),className:fe("px-4 py-2 text-sm font-medium rounded-md transition-colors",o==="analytics"?"bg-indigo-600 text-white":"bg-gray-100 text-slate-700 hover:bg-gray-200"),children:"Analytics ()"}),e.jsx("button",{onClick:()=>c("finance-report"),className:fe("px-4 py-2 text-sm font-medium rounded-md transition-colors",o==="finance-report"?"bg-indigo-600 text-white":"bg-gray-100 text-slate-700 hover:bg-gray-200"),children:"Finance Report ( )"})]}),te?e.jsxs(e.Fragment,{children:[o==="live-office"&&B&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium text-slate-600",children:"Conversations Taken"}),e.jsx(Bs,{className:"w-4 h-4 text-indigo-600"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:B.totalAssigned}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Currently assigned conversations"})]})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium text-slate-600",children:"Active Employees"}),e.jsx(Yt,{className:"w-4 h-4 text-indigo-600"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:B.activeEmployees.length}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Employees with assigned conversations"}),B.activeEmployees.length>0&&e.jsx("div",{className:"mt-3 space-y-2 max-h-32 overflow-y-auto",children:B.activeEmployees.map(T=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-700 truncate",children:T.name}),e.jsxs("span",{className:"text-slate-500 ml-2",children:["(",T.assignedCount,")"]})]},T.id))})]})]})]}),B.totalReleases>0&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"w-5 h-5 text-indigo-600"}),"Release Statistics"]}),e.jsx(Qe,{children:"Total releases and release statistics by employee"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:B.totalReleases}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Total conversation releases"})]}),B.releasesByEmployee.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Top Employees by Releases:"}),e.jsx("div",{className:"space-y-2",children:B.releasesByEmployee.map(T=>e.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-slate-700",children:T.employeeName}),e.jsx("span",{className:"font-semibold text-slate-900",children:T.releaseCount})]},T.employeeId))})]})]})]}),t?.roleName!=="Client"&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Pl,{className:"w-5 h-5 text-indigo-600"}),"My Tasks"]}),e.jsxs(Qe,{children:[p.length," total task",p.length!==1?"s":""]})]}),e.jsx(wt,{to:"/tasks",children:e.jsx(M,{variant:"outline",size:"sm",children:"View All"})})]})}),e.jsxs(ee,{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-md",children:[e.jsx("div",{className:"text-xl font-bold text-yellow-700",children:y.length}),e.jsx("div",{className:"text-xs text-yellow-600 mt-1",children:"Pending"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-md",children:[e.jsx("div",{className:"text-xl font-bold text-blue-700",children:b.length}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Started Working"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-md",children:[e.jsx("div",{className:"text-xl font-bold text-green-700",children:w.length}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Complete"})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-md",children:[e.jsx("div",{className:"text-xl font-bold text-red-700",children:N.length}),e.jsx("div",{className:"text-xs text-red-600 mt-1",children:"Cancel"})]})]}),j.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Recent Tasks:"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:j.map(T=>e.jsxs(wt,{to:"/tasks",className:"flex items-center justify-between p-2 border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[T.status==="Pending"&&e.jsx(Ti,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),T.status==="StartedWorking"&&e.jsx(Jt,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),T.status==="Complete"&&e.jsx(ma,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),T.status==="Cancel"&&e.jsx(Ye,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-slate-700 truncate flex-1",children:T.title})]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ml-2 flex-shrink-0 ${T.status==="Pending"?"bg-yellow-100 text-yellow-700":T.status==="StartedWorking"?"bg-blue-100 text-blue-700":T.status==="Complete"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:T.status==="Pending"?"Pending":T.status==="StartedWorking"?"Started":T.status==="Complete"?"Complete":"Cancel"})]},T.id))})]}):e.jsxs("div",{className:"text-center py-6 text-slate-500",children:[e.jsx(Pl,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),e.jsx("p",{className:"text-sm",children:"No tasks assigned yet"}),e.jsx(wt,{to:"/tasks",children:e.jsxs(M,{size:"sm",className:"mt-3",variant:"outline",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Create Task"]})})]})]})]})]}),o==="analytics"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Ne.map(T=>{const ye=T.icon;return e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium text-slate-600",children:T.title}),e.jsx(ye,{className:`w-4 h-4 ${T.color}`})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:T.value}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:T.change})]})]},T.title)})}),(s("can_manage_campaigns")||te)&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(hi,{className:"w-5 h-5 text-indigo-600"}),"Campaign Management"]}),e.jsx(Qe,{children:"Manage and monitor all marketing campaigns"})]}),e.jsx(wt,{to:"/campaigns",children:e.jsx(M,{variant:"outline",size:"sm",children:"Manage Campaigns"})})]})}),e.jsx(ee,{children:_?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-slate-500",children:"Loading campaigns..."})}):$&&$.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:$.slice(0,4).map(T=>{const ye=new Date,Ce=new Date(T.startDate),Pe=new Date(T.endDate),be=Ce<=ye&&Pe>=ye,$e=T.leads?.length||0,qe=T.leads?.reduce((at,Xe)=>at+(Xe.value?Number(Xe.value):0),0)||0,Ze=Number(T.budget)>0?qe/Number(T.budget)*100:0;return e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(ce,{className:"text-sm font-semibold",children:T.name}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${be?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:be?"Active":"Inactive"})]}),e.jsx(Qe,{className:"text-xs",children:T.type.charAt(0).toUpperCase()+T.type.slice(1)})]}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Kf,{value:Math.min(100,Math.max(0,Ze)),size:60,strokeWidth:5}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Budget:"}),e.jsxs("span",{className:"font-medium",children:["",Number(T.budget).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Value:"}),e.jsxs("span",{className:"font-medium text-green-600",children:["",qe.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Leads:"}),e.jsx("span",{className:"font-medium",children:$e})]})]})]})})]},T.id)})}):e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(hi,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),e.jsx("p",{children:"No campaigns found. Create your first campaign to get started."}),e.jsx(wt,{to:"/campaigns",children:e.jsxs(M,{className:"mt-4",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Create Campaign"]})})]})})]})]}),o==="finance-report"&&e.jsxs("div",{className:"space-y-6",children:[(s("can_manage_finance")||te)&&de.length>0&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"w-5 h-5 text-indigo-600"}),"Recent Invoices"]}),e.jsxs(Qe,{children:[z.length," unpaid invoice",z.length!==1?"s":""]})]}),e.jsx(wt,{to:"/finance",children:e.jsx(M,{variant:"outline",size:"sm",children:"View All"})})]})}),e.jsx(ee,{children:e.jsx("div",{className:"space-y-3",children:de.slice(0,5).map(T=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-md hover:bg-gray-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-slate-900",children:["Invoice #",T.invoiceNumber]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${T.status==="Paid"?"bg-green-100 text-green-700":T.status==="Unpaid"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:T.status}),e.jsxs("span",{className:"text-xs text-slate-500",children:["",Number(T.totalAmount).toLocaleString()]})]})]}),e.jsx(wt,{to:`/finance/invoices/${T.id}`,children:e.jsx(M,{size:"sm",variant:"ghost",children:"View"})})]},T.id))})})]}),(s("can_manage_finance")||te)&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium text-slate-600",children:"Total Project Amount"}),e.jsx(Pi,{className:"w-4 h-4 text-indigo-600"})]}),e.jsxs(ee,{children:[e.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:["",U.toLocaleString()]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Total value of all projects"})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Ne.map(T=>{const ye=T.icon;return e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium text-slate-600",children:T.title}),e.jsx(ye,{className:`w-4 h-4 ${T.color}`})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:T.value}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:T.change})]})]},T.title)})}),t?.roleName!=="Client"&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Pl,{className:"w-5 h-5 text-indigo-600"}),"My Tasks"]}),e.jsxs(Qe,{children:[p.length," total task",p.length!==1?"s":""]})]}),e.jsx(wt,{to:"/tasks",children:e.jsx(M,{variant:"outline",size:"sm",children:"View All"})})]})}),e.jsxs(ee,{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-md",children:[e.jsx("div",{className:"text-xl font-bold text-yellow-700",children:y.length}),e.jsx("div",{className:"text-xs text-yellow-600 mt-1",children:"Pending"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-md",children:[e.jsx("div",{className:"text-xl font-bold text-blue-700",children:b.length}),e.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Started Working"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-md",children:[e.jsx("div",{className:"text-xl font-bold text-green-700",children:w.length}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Complete"})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-md",children:[e.jsx("div",{className:"text-xl font-bold text-red-700",children:N.length}),e.jsx("div",{className:"text-xs text-red-600 mt-1",children:"Cancel"})]})]}),j.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:"Recent Tasks:"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:j.map(T=>e.jsxs(wt,{to:"/tasks",className:"flex items-center justify-between p-2 border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[T.status==="Pending"&&e.jsx(Ti,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),T.status==="StartedWorking"&&e.jsx(Jt,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),T.status==="Complete"&&e.jsx(ma,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),T.status==="Cancel"&&e.jsx(Ye,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-slate-700 truncate flex-1",children:T.title})]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ml-2 flex-shrink-0 ${T.status==="Pending"?"bg-yellow-100 text-yellow-700":T.status==="StartedWorking"?"bg-blue-100 text-blue-700":T.status==="Complete"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:T.status==="Pending"?"Pending":T.status==="StartedWorking"?"Started":T.status==="Complete"?"Complete":"Cancel"})]},T.id))})]}):e.jsxs("div",{className:"text-center py-6 text-slate-500",children:[e.jsx(Pl,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),e.jsx("p",{className:"text-sm",children:"No tasks assigned yet"}),e.jsx(wt,{to:"/tasks",children:e.jsxs(M,{size:"sm",className:"mt-3",variant:"outline",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Create Task"]})})]})]})]}),e.jsx(it,{permission:"can_view_integrations",children:e.jsxs(X,{className:"shadow-sm border-purple-200 bg-purple-50",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(Bs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(ce,{children:"Chatwoot Integration"}),e.jsx(Qe,{children:"Webhook URL for Chatwoot integration"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:fe("px-3 py-1 rounded-full text-xs font-medium",h?.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:h?.isActive?"Active":"Inactive"}),h?.isWebhookActive&&e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:"Webhook Active"})]})]})}),e.jsx(ee,{children:f?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Webhook URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(me,{value:f,readOnly:!0,className:"flex-1 bg-white font-mono text-sm"}),e.jsx(M,{type:"button",variant:"outline",onClick:q,className:"flex items-center gap-2",children:n?e.jsxs(e.Fragment,{children:[e.jsx(As,{className:"w-4 h-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Sc,{className:"w-4 h-4"}),"Copy"]})})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Copy this URL and add it in Chatwoot Settings  Integrations  Webhooks"})]}),h&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-purple-200",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Integration Status:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:fe("px-2 py-1 rounded-full text-xs font-medium",h.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:h.isActive?"Active":"Inactive"}),h.isWebhookActive&&e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:"Webhook Enabled"})]})]})]}):h?e.jsx("div",{className:"text-sm text-slate-500",children:"Webhook URL not available. Please configure the integration in Settings."}):e.jsx("div",{className:"text-sm text-slate-500",children:"No Chatwoot integration found. Please set up the integration in Settings."})})]})}),s("can_manage_campaigns")&&!te&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(hi,{className:"w-5 h-5 text-indigo-600"}),"Campaign Management"]}),e.jsx(Qe,{children:"Manage and monitor all marketing campaigns"})]}),e.jsx(wt,{to:"/campaigns",children:e.jsx(M,{variant:"outline",size:"sm",children:"Manage Campaigns"})})]})}),e.jsx(ee,{children:_?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-slate-500",children:"Loading campaigns..."})}):$&&$.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:$.slice(0,4).map(T=>{const ye=new Date,Ce=new Date(T.startDate),Pe=new Date(T.endDate),be=Ce<=ye&&Pe>=ye,$e=T.leads?.length||0,qe=T.leads?.reduce((at,Xe)=>at+(Xe.value?Number(Xe.value):0),0)||0,Ze=Number(T.budget)>0?qe/Number(T.budget)*100:0;return e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(ce,{className:"text-sm font-semibold",children:T.name}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${be?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:be?"Active":"Inactive"})]}),e.jsx(Qe,{className:"text-xs",children:T.type.charAt(0).toUpperCase()+T.type.slice(1)})]}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Kf,{value:Math.min(100,Math.max(0,Ze)),size:60,strokeWidth:5}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Budget:"}),e.jsxs("span",{className:"font-medium",children:["",Number(T.budget).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Value:"}),e.jsxs("span",{className:"font-medium text-green-600",children:["",qe.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Leads:"}),e.jsx("span",{className:"font-medium",children:$e})]})]})]})})]},T.id)})}):e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(hi,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),e.jsx("p",{children:"No campaigns found. Create your first campaign to get started."}),e.jsx(wt,{to:"/campaigns",children:e.jsxs(M,{className:"mt-4",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Create Campaign"]})})]})})]})]}),(s("can_manage_leads")||s("can_view_leads"))&&L.length>0&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(hi,{className:"w-5 h-5 text-indigo-600"}),"Campaign Progress"]}),e.jsx(Qe,{children:"Track your active marketing campaigns"})]}),e.jsx(wt,{to:"/campaigns",children:e.jsx(M,{variant:"outline",size:"sm",children:"View All"})})]})}),e.jsxs(ee,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(T=>{const ye=I.find($e=>$e.campaignId===T.id)?.statistics;if(!ye)return null;const Ce=ye.totalEstimatedValue||0,Pe=ye.budget||Number(T.budget),be=Pe>0?Ce/Pe*100:0;return e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"pb-3",children:[e.jsx(ce,{className:"text-base",children:T.name}),e.jsxs(Qe,{className:"text-xs",children:[T.type.charAt(0).toUpperCase()+T.type.slice(1)," Campaign"]})]}),e.jsx(ee,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Kf,{value:Math.min(100,Math.max(0,be)),size:80,strokeWidth:6}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Budget:"}),e.jsxs("span",{className:"font-medium text-slate-900",children:["",Pe.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Estimated Value:"}),e.jsxs("span",{className:"font-medium text-green-600",children:["",Ce.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-600",children:"Leads:"}),e.jsx("span",{className:"font-medium text-slate-900",children:ye.totalLeads||0})]})]})]})})]},T.id)})}),L.length===0&&e.jsx("div",{className:"text-center py-8 text-slate-500",children:"No active campaigns. Create a campaign to get started."})]})]}),p.length>0&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"My Tasks"}),e.jsxs(Qe,{children:[y.length," pending, ",b.length," in progress, ",w.length," complete"]})]}),e.jsx(wt,{to:"/tasks",children:e.jsx(M,{variant:"outline",size:"sm",children:"View All"})})]})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-3",children:[j.map(T=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${T.status==="Pending"?"bg-yellow-500":T.status==="Complete"?"bg-green-500":T.status==="StartedWorking"?"bg-blue-500":T.status==="Cancel"?"bg-red-500":"bg-gray-400"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:T.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${T.priority==="High"?"bg-red-100 text-red-700":T.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:T.priority}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${T.status==="Pending"?"bg-yellow-100 text-yellow-700":T.status==="Complete"?"bg-green-100 text-green-700":T.status==="StartedWorking"?"bg-blue-100 text-blue-700":T.status==="Cancel"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:T.status==="Pending"?"Pending":T.status==="StartedWorking"?"Started Working":T.status==="Complete"?"Complete":T.status==="Cancel"?"Cancel":T.status}),T.dueDate&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Due: ",new Date(T.dueDate).toLocaleDateString()]})]})]})]},T.id)),p.length===0&&e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No tasks assigned"})]})})]}),t?.roleName==="Client"&&F.length>0&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"w-5 h-5 text-indigo-600"}),"My Invoices"]}),e.jsxs(Qe,{children:[F.filter(T=>T.status==="Unpaid").length," unpaid"]})]}),e.jsx(wt,{to:"/client/invoices",children:e.jsx(M,{variant:"outline",size:"sm",children:"View All"})})]})}),e.jsx(ee,{children:e.jsx("div",{className:"space-y-3",children:F.slice(0,5).map(T=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-md hover:bg-gray-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-slate-900",children:["Invoice #",T.invoiceNumber]}),T.project&&e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:T.project.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${T.status==="Paid"?"bg-green-100 text-green-700":T.status==="Unpaid"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:T.status}),e.jsxs("span",{className:"text-xs text-slate-500",children:["",Number(T.totalAmount).toLocaleString()]})]})]}),e.jsx(wt,{to:`/client/invoices/${T.id}`,children:e.jsx(M,{size:"sm",variant:"ghost",children:"View"})})]},T.id))})})]})]})}const cb={async getPublicReviews(t=6){const s=await Z.get("/reviews/public",{params:{limit:t}});if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.message||"Failed to fetch reviews")},async getPublicPosts(t=6){const s=await Z.get("/blog/posts/public",{params:{limit:t}});if(s.data.success&&s.data.data)return s.data.data;throw new Error(s.data.message||"Failed to fetch posts")}};function Ui(){const t=[{label:"About",href:"/about"},{label:"Services",href:"/services"},{label:"Contact",href:"/contact"},{label:"Terms",href:"/terms"},{label:"Privacy",href:"/privacy"},{label:"Sitemap",href:"/sitemap"}],{data:s}=we({queryKey:["theme-settings-public"],queryFn:async()=>{try{return(await Ni.getThemeSettings()).data.data}catch{return null}},retry:!1,staleTime:300*1e3}),n=s?.siteLogo||null,i=s?.siteName||"Omni CRM",o="https://api.paaera.com/api".replace("/api","")||"http://localhost:5001";return e.jsx("header",{className:"border-b border-gray-200 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsxs(wt,{to:"/",className:"flex items-center gap-2",children:[n?e.jsx("img",{src:n.startsWith("/")?`${o}${n}`:n,alt:i,className:"h-10 w-auto object-contain"}):e.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"O"})}),e.jsx("span",{className:"text-xl font-bold text-slate-900",children:i})]}),e.jsx("div",{className:"hidden md:flex items-center gap-6 text-sm text-slate-700",children:t.map(c=>e.jsx(wt,{to:c.href,className:"hover:text-slate-900",children:c.label},c.href))}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(wt,{to:"/login",children:e.jsx(M,{variant:"ghost",children:"Sign In"})}),e.jsx(wt,{to:"/register",children:e.jsx(M,{className:"bg-indigo-600 hover:bg-indigo-700",children:"Get Started"})})]})]})})}function u5(){const{data:t}=we({queryKey:["public-conversation-analytics"],queryFn:()=>Ba.getPublicAnalytics(30)}),{data:s}=we({queryKey:["theme-settings-public"],queryFn:async()=>{try{return(await Ni.getThemeSettings()).data.data}catch{return null}},retry:!1,staleTime:300*1e3}),n=s?.siteName||"Omni CRM",{data:i=[]}=we({queryKey:["public-reviews"],queryFn:()=>cb.getPublicReviews(6)}),{data:o=[]}=we({queryKey:["public-posts"],queryFn:()=>cb.getPublicPosts(3)}),c=t?.daily.slice(-14)||[],u=c.reduce((f,p)=>Math.max(f,p.messages),0),m=[{label:"Facebook",value:t?.platformBreakdown.facebook||0,color:"text-indigo-600"},{label:"Chatwoot",value:t?.platformBreakdown.chatwoot||0,color:"text-emerald-600"},{label:"Other",value:t?.platformBreakdown.other||0,color:"text-slate-600"}],h=[{title:"Explore",links:["Product","Pricing","Integrations","Security","Status"]},{title:"Solutions",links:["Sales Teams","Marketing Teams","Service Teams","Startups","Enterprise"]},{title:"Resources",links:["Blog","Guides","Docs","API Reference","Community"]},{title:"Company",links:["About","Careers","Contact","Legal","Privacy"]}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx(Ui,{}),e.jsxs("section",{className:"container mx-auto px-4 py-20 text-center",children:[e.jsx("h1",{className:"text-5xl font-bold text-slate-900 mb-6",children:"Streamline Your Business Operations"}),e.jsx("p",{className:"text-xl text-slate-600 mb-8 max-w-2xl mx-auto",children:"Complete CRM and project management solution for modern businesses. Manage leads, campaigns, projects, and clients all in one place."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(wt,{to:"/register",children:e.jsxs(M,{size:"lg",className:"bg-indigo-600 hover:bg-indigo-700",children:["Start Free Trial",e.jsx(mc,{className:"ml-2 w-4 h-4"})]})}),e.jsx(wt,{to:"/login",children:e.jsx(M,{size:"lg",variant:"outline",children:"Sign In"})})]})]}),e.jsxs("section",{className:"container mx-auto px-4 py-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-12",children:"Everything You Need to Manage Your Business"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:Yt,title:"Client Management",description:"Register clients, projects, and track milestones seamlessly.",points:["Easy project creation","E-signature support","Status tracking"]},{icon:Ws,title:"Campaign Management",description:"Plan, launch, and report on marketing campaigns.",points:["Multi-client campaigns","Product assignments","Lead tracking"]},{icon:Pi,title:"Project Tracking",description:"Monitor delivery health from draft to completion.",points:["Real-time updates","Document management","Timeline visibility"]},{icon:Sw,title:"Lead Analytics",description:"Actionable insights for every campaign and channel.",points:["Campaign-based leads","Detailed insights","Filter by source"]},{icon:bi,title:"Secure & Reliable",description:"Enterprise-grade security and observability.",points:["Data encryption","99.9% uptime","Regular backups"]},{icon:Yt,title:"Team Collaboration",description:"Roles, permissions, and shared dashboards.",points:["Role-based access","Shared dashboards","Real-time sync"]}].map(f=>e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{children:[e.jsx(f.icon,{className:"w-10 h-10 text-indigo-600 mb-2"}),e.jsx(ce,{children:f.title}),e.jsx(Qe,{children:f.description})]}),e.jsx(ee,{children:e.jsx("ul",{className:"space-y-2 text-sm text-slate-600",children:f.points.map(p=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(bi,{className:"w-4 h-4 text-green-600"}),p]},p))})})]},f.title))})]}),e.jsx("section",{className:"bg-white border-y border-gray-200",children:e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-50 text-indigo-700 text-sm font-medium",children:[e.jsx(Bs,{className:"w-4 h-4"}),"Conversation Insights"]}),e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mt-4 mb-3",children:"Live conversation health in one glance"}),e.jsx("p",{className:"text-slate-600 mb-6 max-w-xl",children:"Track message volume, open vs closed threads, and platform performance pulled directly from your inbox data."}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Qf,{title:"Total Conversations",value:t?.totalConversations??"",icon:QT,accent:"bg-indigo-100 text-indigo-700"}),e.jsx(Qf,{title:"Open Conversations",value:t?.openConversations??"",icon:qr,accent:"bg-amber-100 text-amber-700"}),e.jsx(Qf,{title:"Closed",value:t?.closedConversations??"",icon:bi,accent:"bg-emerald-100 text-emerald-700"}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{className:"pb-2",children:e.jsx(ce,{className:"text-sm text-slate-600",children:"Platform mix"})}),e.jsx(ee,{className:"space-y-2",children:m.map(f=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-slate-700",children:f.label}),e.jsx("span",{className:`font-semibold ${f.color}`,children:f.value})]},f.label))})]})]})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ce,{children:"Message trend (14 days)"}),e.jsx(Qe,{children:"Pulled from live conversation activity"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-indigo-500"}),"Messages"]})]})}),e.jsx(ee,{children:e.jsxs("div",{className:"h-48 flex items-end gap-2",children:[c.map(f=>{const p=u?Math.round(f.messages/u*100):0;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-full rounded-md bg-indigo-500 transition-all",style:{height:`${Math.max(6,p)}%`},title:`${f.messages} messages on ${f.date}`}),e.jsx("span",{className:"text-[11px] text-slate-500",children:new Intl.DateTimeFormat("en",{month:"short",day:"numeric"}).format(new Date(f.date))})]},f.date)}),c.length===0&&e.jsx("div",{className:"text-sm text-slate-500",children:"No activity yet."})]})})]})]})})}),e.jsxs("section",{className:"container mx-auto px-4 py-16",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-50 text-emerald-700 text-sm font-medium",children:[e.jsx(ib,{className:"w-4 h-4"}),"Customer Reviews"]}),e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mt-3",children:"Loved by modern teams"}),e.jsx("p",{className:"text-slate-600 mt-2",children:"Feedback from teams running their operations on Omni."})]}),e.jsx(wt,{to:"/register",children:e.jsx(M,{variant:"outline",children:"Start Free Trial"})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map(f=>e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ce,{className:"text-base",children:f.authorName}),e.jsx(Qe,{children:f.role||"Customer"})]}),e.jsx("div",{className:"flex items-center gap-1 text-amber-500",children:Array.from({length:5}).map((p,y)=>e.jsx(ib,{className:`w-4 h-4 ${y<f.rating?"fill-amber-400":"text-slate-200"}`},y))})]})}),e.jsx(ee,{children:e.jsxs("p",{className:"text-sm text-slate-700 leading-relaxed",children:["",f.comment,""]})})]},f.id)),i.length===0&&e.jsx("div",{className:"col-span-full text-center text-slate-500",children:"Reviews will appear once added."})]})]}),e.jsx("section",{className:"bg-white border-t border-gray-200",children:e.jsxs("div",{className:"container mx-auto px-4 py-16",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-50 text-blue-700 text-sm font-medium",children:[e.jsx(WT,{className:"w-4 h-4"}),"Latest from the blog"]}),e.jsx("h2",{className:"text-3xl font-bold text-slate-900 mt-3",children:"Insights, playbooks, and releases"}),e.jsx("p",{className:"text-slate-600 mt-2",children:"Stay ahead with product updates and GTM guides."})]}),e.jsx(wt,{to:"/register",children:e.jsxs(M,{variant:"ghost",className:"text-indigo-600",children:["Join Omni",e.jsx(mc,{className:"w-4 h-4 ml-2"})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.map(f=>e.jsx(X,{className:"shadow-sm border-gray-200 h-full flex flex-col",children:e.jsxs(ee,{className:"pt-6 flex-1 flex flex-col",children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-indigo-600 font-semibold",children:f.publishedAt?new Date(f.publishedAt).toLocaleDateString():"Coming soon"}),e.jsx("h3",{className:"text-xl font-semibold text-slate-900 mt-2",children:f.title}),e.jsx("p",{className:"text-slate-600 text-sm mt-2 flex-1",children:f.excerpt||"Read the latest updates from the Omni team."}),e.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 text-indigo-600 text-sm font-medium",children:["Read more",e.jsx(mc,{className:"w-4 h-4"})]})]})},f.id)),o.length===0&&e.jsx("div",{className:"col-span-full text-center text-slate-500",children:"Blog posts will appear once published."})]})]})}),e.jsx("section",{className:"bg-indigo-600 text-white py-16",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Get Started?"}),e.jsx("p",{className:"text-xl mb-8 text-indigo-100",children:"Join thousands of businesses using Omni CRM to manage their operations"}),e.jsx(wt,{to:"/register",children:e.jsxs(M,{size:"lg",variant:"secondary",className:"bg-white text-indigo-600 hover:bg-gray-100",children:["Create Your Account",e.jsx(mc,{className:"ml-2 w-4 h-4"})]})})]})}),e.jsx("footer",{className:"border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:h.map(f=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 tracking-tight",children:f.title}),e.jsx("ul",{className:"space-y-2 text-sm text-slate-600",children:f.links.map(p=>e.jsx("li",{className:"hover:text-slate-900 transition-colors cursor-pointer",children:p},p))})]},f.title))}),e.jsxs("div",{className:"border-t border-gray-200 mt-10 pt-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4 text-xs text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"O"})}),e.jsx("span",{className:"text-slate-900 font-semibold",children:n})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("span",{children:[" ",new Date().getFullYear()," ",n,". All rights reserved."]}),e.jsx("span",{className:"hidden md:inline-block text-slate-300",children:"|"}),e.jsx("span",{className:"hover:text-slate-900 cursor-pointer",children:"Privacy Policy"}),e.jsx("span",{className:"hover:text-slate-900 cursor-pointer",children:"Terms of Service"})]}),e.jsx("div",{className:"text-slate-500",children:"Bangladesh  United States"})]})]})})]})}function Qf({title:t,value:s,icon:n,accent:i}){return e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsx(oe,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-9 h-9 rounded-md flex items-center justify-center ${i}`,children:e.jsx(n,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx(ce,{className:"text-sm text-slate-600",children:t}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:s})]})]})})})}const W=v.forwardRef(({className:t,...s},n)=>e.jsx("label",{ref:n,className:fe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...s}));W.displayName="Label";const m5=Es({email:Fe().email("Invalid email address"),password:Fe().min(6,"Password must be at least 6 characters"),confirmPassword:Fe().min(6,"Password must be at least 6 characters")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function h5(){const t=St(),[s,n]=v.useState(null),[i,o]=v.useState(!1),{register:c,handleSubmit:u,formState:{errors:m}}=Vs({resolver:Hs(m5)}),h=async f=>{try{n(null),o(!0),await mi.registerClient(f.email,f.password),t("/client/dashboard")}catch(p){n(p.message||"Registration failed. Please try again.")}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs(X,{className:"w-full max-w-md shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"O"})})}),e.jsx(ce,{className:"text-2xl font-bold text-slate-900",children:"Create Client Account"}),e.jsx(Qe,{className:"text-slate-600",children:"Sign up to start managing your projects"})]}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:u(h),className:"space-y-4",children:[s&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:s}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"email",type:"email",placeholder:"you@example.com",className:"pl-10",...c("email")})]}),m.email&&e.jsx("p",{className:"text-sm text-red-600",children:m.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"password",type:"password",placeholder:"",className:"pl-10",...c("password")})]}),m.password&&e.jsx("p",{className:"text-sm text-red-600",children:m.password.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"confirmPassword",type:"password",placeholder:"",className:"pl-10",...c("confirmPassword")})]}),m.confirmPassword&&e.jsx("p",{className:"text-sm text-red-600",children:m.confirmPassword.message})]}),e.jsx(M,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"}),e.jsxs("div",{className:"text-center text-sm text-slate-600",children:["Already have an account?"," ",e.jsx(wt,{to:"/login",className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Sign in"})]})]})})]})})}const f5=Es({host:Fe().min(1,"Database host is required"),port:lw.number().int().positive().default(3306),database:Fe().min(1,"Database name is required"),username:Fe().min(1,"Database username is required"),password:Fe().min(1,"Database password is required")}),x5=Es({companyName:Fe().min(1,"Company name is required"),name:Fe().min(1,"Admin name is required"),email:Fe().email("Invalid email address"),password:Fe().min(8,"Password must be at least 8 characters"),confirmPassword:Fe().min(8,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),p5=Es({setupMode:wn(["automatic","manual"]),databaseName:Fe().min(1).optional(),databaseUsername:Fe().min(1).optional(),databasePassword:Fe().min(1).optional(),mysqlRootHost:Fe().optional(),mysqlRootPort:lw.number().optional(),mysqlRootUsername:Fe().optional(),mysqlRootPassword:Fe().optional(),useExistingDatabase:Ur().optional()});function g5(){const t=St(),[s,n]=v.useState(0),[i,o]=v.useState(null),[c,u]=v.useState(null),[m,h]=v.useState(!0),[f,p]=v.useState(!1),[y,b]=v.useState(null),[w,N]=v.useState(!1),[j,C]=v.useState(""),[A,E]=v.useState([]),[S,R]=v.useState(null),[_,L]=v.useState(null),I=Vs({resolver:Hs(f5),defaultValues:{host:"localhost",port:3306,database:"",username:"",password:""}}),q=Vs({resolver:Hs(x5)}),$=Vs({resolver:Hs(p5),defaultValues:{setupMode:"automatic",mysqlRootHost:"localhost",mysqlRootPort:3306,mysqlRootUsername:"root"}});v.useEffect(()=>{(async()=>{try{h(!0);const P=await fi.checkPrerequisites();u(P)}catch(P){R(P.response?.data?.message||"Failed to check prerequisites")}finally{h(!1)}})()},[]);const H=async O=>{try{p(!0),R(null),b(null);const P={host:O.host,port:O.port,database:O.database,username:O.username,password:O.password},U=await fi.testDatabase(P);b(U),U.success&&L(P)}catch(P){b({success:!1,message:P.response?.data?.message||"Database connection test failed"})}finally{p(!1)}},G=async O=>{if(!y?.success){R("Please test database connection first");return}L({host:O.host,port:O.port,database:O.database,username:O.username,password:O.password}),n(3)},F=async(O,P)=>{try{N(!0),R(null),E([]);const U={databaseName:O.databaseName||"omni_crm",databaseUsername:O.databaseUsername||"omni_user",databasePassword:O.databasePassword||"",mysqlRoot:O.setupMode==="automatic"&&O.mysqlRootHost?{host:O.mysqlRootHost,port:O.mysqlRootPort||3306,rootUsername:O.mysqlRootUsername||"root",rootPassword:O.mysqlRootPassword||""}:void 0,useExistingDatabase:O.useExistingDatabase||!1,existingDatabaseConfig:_||void 0},pe=window.location.origin,Ne="https://api.paaera.com/api".replace("/api","")||pe,B=await fi.completeAutoInstallation(U,P,void 0,pe,Ne);if(!B.success)throw new Error(B.message);E(B.steps||[]),n(4),setTimeout(()=>{t("/login")},3e3)}catch(U){R(U.response?.data?.message||U.message||"Automatic installation failed")}finally{N(!1)}},de=async O=>{if(!_){R("Database configuration is missing");return}try{N(!0),R(null),C("Setting up database...");const P=await fi.setupDatabase(_);if(!P.success)throw new Error(P.message);C("Creating admin user...");const U={companyName:O.companyName,name:O.name,email:O.email,password:O.password},pe=await fi.createAdmin(U,_);if(!pe.success)throw new Error(pe.message);C("Finalizing installation...");const Ne=await fi.finalizeInstallation(O.email,_);if(!Ne.success)throw new Error(Ne.message);C("Installation completed!"),n(4),setTimeout(()=>{t("/login")},3e3)}catch(P){R(P.message||"Installation failed")}finally{N(!1)}},z=[{number:0,title:"Setup Mode",icon:Uu},{number:1,title:"Prerequisites",icon:Uu},{number:2,title:"Database",icon:VT},{number:3,title:"Admin Account",icon:is},{number:4,title:"Complete",icon:As}],he=()=>{switch(s){case 0:return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Choose Installation Mode"}),e.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Select how you want to set up your database. Automatic mode will create everything for you."}),e.jsxs("form",{onSubmit:$.handleSubmit(O=>{o(O.setupMode),O.setupMode,n(1)}),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:`p-6 border-2 rounded-lg cursor-pointer transition-all ${$.watch("setupMode")==="automatic"?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>$.setValue("setupMode","automatic"),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(Pw,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h4",{className:"font-semibold text-slate-900",children:"Automatic Setup"})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"The wizard will automatically create the database and user for you. You just need to provide MySQL root credentials."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"mysqlRootHost",children:"MySQL Host"}),e.jsx(me,{id:"mysqlRootHost",...$.register("mysqlRootHost"),placeholder:"localhost"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"mysqlRootPort",children:"MySQL Port"}),e.jsx(me,{id:"mysqlRootPort",type:"number",...$.register("mysqlRootPort"),placeholder:"3306"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"mysqlRootUsername",children:"MySQL Root Username"}),e.jsx(me,{id:"mysqlRootUsername",...$.register("mysqlRootUsername"),placeholder:"root"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"mysqlRootPassword",children:"MySQL Root Password"}),e.jsx(me,{id:"mysqlRootPassword",type:"password",...$.register("mysqlRootPassword"),placeholder:""})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"databaseName",children:"Database Name"}),e.jsx(me,{id:"databaseName",...$.register("databaseName"),placeholder:"omni_crm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"databaseUsername",children:"Database Username"}),e.jsx(me,{id:"databaseUsername",...$.register("databaseUsername"),placeholder:"omni_user"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"databasePassword",children:"Database Password"}),e.jsx(me,{id:"databasePassword",type:"password",...$.register("databasePassword"),placeholder:""})]})]})]}),e.jsxs("div",{className:`p-6 border-2 rounded-lg cursor-pointer transition-all ${$.watch("setupMode")==="manual"?"border-indigo-600 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>$.setValue("setupMode","manual"),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(a5,{className:"w-6 h-6 text-indigo-600"}),e.jsx("h4",{className:"font-semibold text-slate-900",children:"Manual Setup"})]}),e.jsx("p",{className:"text-sm text-slate-600",children:"You will manually configure an existing database. Use this if you've already created the database in cPanel."})]})]}),e.jsx("input",{type:"hidden",...$.register("setupMode")}),e.jsx("div",{className:"flex justify-end",children:e.jsx(M,{type:"submit",children:"Continue"})})]})]})});case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"System Requirements Check"}),m?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(Is,{className:"w-6 h-6 animate-spin text-indigo-600"}),e.jsx("span",{className:"ml-2 text-slate-600",children:"Checking prerequisites..."})]}):c?e.jsx("div",{className:"space-y-3",children:Object.entries(c).map(([O,P])=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[P.status?e.jsx(ma,{className:"w-5 h-5 text-green-500"}):e.jsx(Wn,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:"text-sm font-medium text-slate-700 capitalize",children:O.replace(/([A-Z])/g," $1").trim()})]}),e.jsx("span",{className:`text-sm ${P.status?"text-green-600":"text-red-600"}`,children:P.message})]},O))}):null]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(M,{onClick:()=>{n(i==="automatic"?3:2)},disabled:!c||Object.values(c).some(O=>!O.status&&O.message!=="Database URL not configured"),children:"Next Step"})})]});case 2:return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Database Configuration"}),e.jsxs("form",{onSubmit:I.handleSubmit(G),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"host",children:"Database Host"}),e.jsx(me,{id:"host",...I.register("host"),placeholder:"localhost"}),I.formState.errors.host&&e.jsx("p",{className:"text-sm text-red-600",children:I.formState.errors.host.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"port",children:"Database Port"}),e.jsx(me,{id:"port",type:"number",...I.register("port"),placeholder:"3306"}),I.formState.errors.port&&e.jsx("p",{className:"text-sm text-red-600",children:I.formState.errors.port.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"database",children:"Database Name"}),e.jsx(me,{id:"database",...I.register("database"),placeholder:"omni_crm"}),I.formState.errors.database&&e.jsx("p",{className:"text-sm text-red-600",children:I.formState.errors.database.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"username",children:"Database Username"}),e.jsx(me,{id:"username",...I.register("username"),placeholder:"root"}),I.formState.errors.username&&e.jsx("p",{className:"text-sm text-red-600",children:I.formState.errors.username.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"password",children:"Database Password"}),e.jsx(me,{id:"password",type:"password",...I.register("password"),placeholder:""}),I.formState.errors.password&&e.jsx("p",{className:"text-sm text-red-600",children:I.formState.errors.password.message})]}),y&&e.jsx("div",{className:`p-3 rounded-md ${y.success?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:y.message}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(M,{type:"button",variant:"outline",onClick:I.handleSubmit(H),disabled:f,children:f?e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"w-4 h-4 animate-spin mr-2"}),"Testing..."]}):"Test Connection"}),e.jsx(M,{type:"submit",disabled:!y?.success,className:"ml-auto",children:"Next Step"})]})]})]})});case 3:return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Admin Account Setup"}),e.jsxs("form",{onSubmit:q.handleSubmit(async O=>{if(i==="automatic"){const P=$.getValues();await F(P,{companyName:O.companyName,name:O.name,email:O.email,password:O.password})}else await de(O)}),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"companyName",children:"Company Name"}),e.jsx(me,{id:"companyName",...q.register("companyName"),placeholder:"My Company"}),q.formState.errors.companyName&&e.jsx("p",{className:"text-sm text-red-600",children:q.formState.errors.companyName.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"name",children:"Admin Name"}),e.jsx(me,{id:"name",...q.register("name"),placeholder:"John Doe"}),q.formState.errors.name&&e.jsx("p",{className:"text-sm text-red-600",children:q.formState.errors.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"email",children:"Admin Email"}),e.jsx(me,{id:"email",type:"email",...q.register("email"),placeholder:"admin@example.com"}),q.formState.errors.email&&e.jsx("p",{className:"text-sm text-red-600",children:q.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"password",children:"Password"}),e.jsx(me,{id:"password",type:"password",...q.register("password"),placeholder:""}),q.formState.errors.password&&e.jsx("p",{className:"text-sm text-red-600",children:q.formState.errors.password.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx(me,{id:"confirmPassword",type:"password",...q.register("confirmPassword"),placeholder:""}),q.formState.errors.confirmPassword&&e.jsx("p",{className:"text-sm text-red-600",children:q.formState.errors.confirmPassword.message})]}),S&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-md text-sm",children:S}),w&&e.jsx("div",{className:"space-y-2",children:i==="automatic"&&A.length>0?A.map((O,P)=>e.jsx("div",{className:`p-3 rounded-md text-sm ${O.status?"bg-green-50 border border-green-200 text-green-700":"bg-blue-50 border border-blue-200 text-blue-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[O.status?e.jsx(ma,{className:"w-4 h-4"}):e.jsx(Is,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:O.message})]})},P)):e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 text-blue-700 rounded-md text-sm",children:j||"Installing..."})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(M,{type:"submit",disabled:w,children:w?e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"w-4 h-4 animate-spin mr-2"}),i==="automatic"?"Installing Automatically...":"Installing..."]}):i==="automatic"?"Start Automatic Installation":"Complete Installation"})})]})]})});case 4:return e.jsxs("div",{className:"space-y-6 text-center",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(ma,{className:"w-8 h-8 text-green-600"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold text-slate-900 mb-2",children:"Installation Complete!"}),e.jsx("p",{className:"text-slate-600",children:"Your Omni CRM has been successfully installed. You will be redirected to the login page shortly."})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(M,{onClick:()=>t("/login"),children:"Go to Login"})})]});default:return null}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4 py-8",children:e.jsxs(X,{className:"w-full max-w-3xl shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"space-y-1 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"O"})})}),e.jsx(ce,{className:"text-3xl font-bold text-slate-900",children:"Omni CRM Installation"}),e.jsx(Qe,{className:"text-slate-600",children:"Follow the steps below to complete the installation"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"flex justify-between mb-8",children:z.filter(O=>O.number!==0||s===0).map((O,P)=>{const U=O.icon,pe=s===O.number,Ne=s>O.number;return e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${Ne?"bg-green-500 border-green-500 text-white":pe?"bg-indigo-600 border-indigo-600 text-white":"bg-gray-100 border-gray-300 text-gray-400"}`,children:Ne?e.jsx(As,{className:"w-5 h-5"}):e.jsx(U,{className:"w-5 h-5"})}),e.jsx("span",{className:`mt-2 text-xs font-medium ${pe?"text-indigo-600":Ne?"text-green-600":"text-gray-400"}`,children:O.title})]}),P<z.length-1&&e.jsx("div",{className:`h-0.5 flex-1 mx-2 ${Ne?"bg-green-500":"bg-gray-300"}`})]},O.number)})}),e.jsx("div",{className:"min-h-[400px]",children:he()})]})]})})}function di({children:t}){const{user:s,logout:n}=We(),i=St(),o=()=>{n(),i("/")};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("aside",{className:"fixed left-0 top-0 h-full w-64 bg-white border-r border-gray-200",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"O"})}),e.jsx("span",{className:"text-xl font-bold text-slate-900",children:"Omni CRM"})]}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs(wt,{to:"/client/dashboard",className:"flex items-center gap-3 px-4 py-2 rounded-md text-slate-700 hover:bg-gray-100",children:[e.jsx(Ew,{className:"w-5 h-5"}),"Dashboard"]}),e.jsxs(wt,{to:"/client/projects",className:"flex items-center gap-3 px-4 py-2 rounded-md text-slate-700 hover:bg-gray-100",children:[e.jsx(Pi,{className:"w-5 h-5"}),"Projects"]}),e.jsxs(wt,{to:"/client/campaigns",className:"flex items-center gap-3 px-4 py-2 rounded-md text-slate-700 hover:bg-gray-100",children:[e.jsx(Ws,{className:"w-5 h-5"}),"Campaigns"]}),e.jsxs(wt,{to:"/client/leads",className:"flex items-center gap-3 px-4 py-2 rounded-md text-slate-700 hover:bg-gray-100",children:[e.jsx(Yt,{className:"w-5 h-5"}),"Leads"]}),e.jsxs(wt,{to:"/client/invoices",className:"flex items-center gap-3 px-4 py-2 rounded-md text-slate-700 hover:bg-gray-100",children:[e.jsx(Vt,{className:"w-5 h-5"}),"Invoices"]})]})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t border-gray-200",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:s?.email}),e.jsx("p",{className:"text-xs text-slate-500",children:"Client"})]}),e.jsxs(M,{variant:"ghost",className:"w-full justify-start",onClick:o,children:[e.jsx(jp,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),e.jsx("div",{className:"ml-64",children:e.jsx("main",{className:"p-8",children:t})})]})}const y5=6e3;function v5({isOpen:t,onClose:s,services:n,products:i,onStartProject:o}){const[c,u]=v.useState(0),[m,h]=v.useState(!0),[f,p]=v.useState(!1),y=v.useRef(null),b=v.useRef(null),w=[{type:"welcome"},...n.length>0?n.map(S=>({type:"service",data:S})):[],...i.length>0?i.map(S=>({type:"product",data:S})):[],{type:"cta"}],N=w.length;v.useEffect(()=>{if(!(!t||!m||f||N<=1))return y.current=setInterval(()=>{u(S=>S>=N-1?0:S+1)},y5),()=>{y.current&&clearInterval(y.current)}},[t,m,f,N]),v.useEffect(()=>{if(!t)return;const S=R=>{R.key==="Escape"?s():R.key==="ArrowLeft"?C():R.key==="ArrowRight"?j():R.key===" "&&(R.preventDefault(),h(_=>!_))};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,s]),v.useEffect(()=>{t&&(u(0),h(!0),p(!1))},[t]);const j=v.useCallback(()=>{u(S=>S>=N-1?0:S+1),p(!0),setTimeout(()=>p(!1),2e3)},[N]),C=v.useCallback(()=>{u(S=>S<=0?N-1:S-1),p(!0),setTimeout(()=>p(!1),2e3)},[N]),A=()=>{h(S=>!S)},E=S=>{u(S),p(!0),setTimeout(()=>p(!1),2e3)};return t?(w[c],e.jsx("div",{ref:b,className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onClick:S=>{S.target===b.current&&s()},children:e.jsxs("div",{className:"relative w-[95vw] h-[90vh] bg-white rounded-lg shadow-2xl overflow-hidden flex flex-col",onClick:S=>S.stopPropagation(),children:[e.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/20 to-transparent p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:A,className:"text-white hover:bg-white/20",children:m?e.jsx(kc,{className:"w-4 h-4"}):e.jsx(Ka,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-white text-sm font-medium",children:["Slide ",c+1," of ",N]})]}),e.jsx(M,{variant:"ghost",size:"sm",onClick:s,className:"text-white hover:bg-white/20",children:e.jsx(Ye,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gray-200 z-10",children:e.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-300",style:{width:`${(c+1)/N*100}%`}})}),e.jsx("div",{className:"flex-1 overflow-hidden relative",children:e.jsx("div",{className:"h-full relative",children:w.map((S,R)=>e.jsxs("div",{className:fe("absolute inset-0 transition-opacity duration-500 ease-in-out flex items-center justify-center p-12",R===c?"opacity-100 z-10":"opacity-0 z-0 pointer-events-none"),children:[S.type==="welcome"&&e.jsx(j5,{onStartProject:o}),S.type==="service"&&S.data&&e.jsx(b5,{service:S.data,onStartProject:o}),S.type==="product"&&S.data&&e.jsx(N5,{product:S.data,onStartProject:o}),S.type==="cta"&&e.jsx(w5,{onStartProject:o})]},R))})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center gap-4 z-10",children:[e.jsx(M,{variant:"outline",size:"lg",onClick:C,className:"bg-white/90 hover:bg-white",children:e.jsx(sm,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex gap-2",children:w.map((S,R)=>e.jsx("button",{onClick:()=>E(R),className:fe("w-2 h-2 rounded-full transition-all",R===c?"bg-indigo-600 w-8":"bg-gray-300 hover:bg-gray-400")},R))}),e.jsx(M,{variant:"outline",size:"lg",onClick:j,className:"bg-white/90 hover:bg-white",children:e.jsx(Fc,{className:"w-5 h-5"})})]})]})})):null}function j5({onStartProject:t}){return e.jsxs("div",{className:"text-center max-w-4xl mx-auto flex flex-col items-center justify-center h-full",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"w-24 h-24 bg-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-white font-bold text-4xl",children:"O"})}),e.jsx("h1",{className:"text-6xl font-bold text-slate-900 mb-4",children:"Welcome to Omni CRM"}),e.jsx("p",{className:"text-2xl text-slate-600 mb-8",children:"Your Gateway to Digital Excellence"}),e.jsx("div",{className:"w-24 h-1 bg-indigo-600 mx-auto"})]}),e.jsx("p",{className:"text-xl text-slate-500 max-w-2xl mx-auto mb-12",children:"Discover our comprehensive range of services and products designed to transform your business. Let's get started on your journey to success."}),e.jsx(M,{size:"lg",onClick:t,className:"px-12 py-6 text-lg font-semibold bg-indigo-600 hover:bg-indigo-700",children:"Start New Project"})]})}function b5({service:t,onStartProject:s}){const n=typeof t.attributes=="string"?JSON.parse(t.attributes):t.attributes;return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 max-w-6xl mx-auto items-center h-full",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:"px-4 py-2 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium",children:"Service"})}),e.jsx("h2",{className:"text-5xl font-bold text-slate-900 mb-4",children:t.title}),e.jsx("p",{className:"text-xl text-slate-600 mb-8 leading-relaxed",children:t.details}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-indigo-600",children:""})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Starting Price"}),e.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:["",Number(t.pricing).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Delivery Timeline"}),e.jsxs("p",{className:"text-lg font-semibold text-slate-900",children:[new Date(t.deliveryStartDate).toLocaleDateString()," -"," ",new Date(t.deliveryEndDate).toLocaleDateString()]})]})]})]}),n?.tags&&n.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-6",children:n.tags.map((i,o)=>e.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-700 rounded-full text-sm",children:i},o))}),e.jsx("div",{className:"mt-8",children:e.jsx(M,{size:"lg",onClick:s,className:"px-12 py-6 text-lg font-semibold bg-indigo-600 hover:bg-indigo-700",children:"Start New Project"})})]}),e.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-8 h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-32 h-32 bg-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-white text-5xl",children:""})}),e.jsx("p",{className:"text-lg text-slate-600 font-medium",children:"Professional Service"})]})})]})}function N5({product:t,onStartProject:s}){return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 max-w-6xl mx-auto items-center h-full",children:[e.jsx("div",{className:"order-2 lg:order-1",children:t.imageUrl?e.jsx("div",{className:"rounded-2xl overflow-hidden shadow-xl",children:e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-[400px] object-cover"})}):e.jsx("div",{className:"bg-gradient-to-br from-slate-100 to-slate-200 rounded-2xl h-[400px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-slate-300 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-4xl",children:""})}),e.jsx("p",{className:"text-slate-500",children:"No Image Available"})]})})}),e.jsxs("div",{className:"order-1 lg:order-2",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("span",{className:"px-4 py-2 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:"Product"}),t.category&&e.jsx("span",{className:"ml-2 px-4 py-2 bg-slate-100 text-slate-700 rounded-full text-sm font-medium",children:t.category.name})]}),e.jsx("h2",{className:"text-5xl font-bold text-slate-900 mb-4",children:t.name}),t.description&&e.jsx("p",{className:"text-xl text-slate-600 mb-8 leading-relaxed",children:t.description}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-green-600",children:""})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Sale Price"}),e.jsxs("p",{className:"text-3xl font-bold text-slate-900",children:["",Number(t.salePrice).toLocaleString()]})]})]}),t.productCompany&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Company"}),e.jsx("p",{className:"text-lg font-semibold text-slate-900",children:t.productCompany})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx(M,{size:"lg",onClick:s,className:"px-12 py-6 text-lg font-semibold bg-indigo-600 hover:bg-indigo-700",children:"Start New Project"})})]})]})}function w5({onStartProject:t}){return e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-8",children:e.jsx("span",{className:"text-white text-6xl",children:""})}),e.jsx("h1",{className:"text-6xl font-bold text-slate-900 mb-6",children:"Ready to Get Started?"}),e.jsx("p",{className:"text-2xl text-slate-600 mb-12 max-w-2xl mx-auto",children:"Let's create something amazing together. Start your first project today and experience the power of our services and products."})]}),e.jsx(M,{size:"lg",onClick:t,className:"px-12 py-6 text-lg font-semibold bg-indigo-600 hover:bg-indigo-700",children:"Start New Project"}),e.jsx("p",{className:"text-slate-500 mt-6 text-sm",children:"Click the button above to begin your journey"})]})}function S5(){const t=St(),{user:s}=We(),[n,i]=v.useState(!1),{data:o}=we({queryKey:["project-stats"],queryFn:async()=>(await zr.getStats()).data.data}),{data:c}=we({queryKey:["client-campaigns-dashboard"],queryFn:async()=>(await zw.getMyCampaigns()).data.data||[]}),u=o||{total:0,active:0,completed:0},m=c||[],h=u.total===0&&o!==void 0,{data:f}=we({queryKey:["services","active"],queryFn:async()=>(await wi.getAll(!0)).data.data||[],enabled:h}),{data:p}=we({queryKey:["products",s?.companyId],queryFn:async()=>s?.companyId?(await tn.getAll(s.companyId)).data.data||[]:[],enabled:h&&!!s?.companyId}),y=f||[],b=p||[];v.useEffect(()=>{h&&!n&&i(!0)},[h,n]);const w=m.filter(C=>{const A=new Date,E=new Date(C.startDate),S=new Date(C.endDate);return A>=E&&A<=S}).length,N=m.reduce((C,A)=>C+(A.leads?.length||0),0),j=()=>{i(!1),t("/client/projects"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("open-project-form"))},100)};return e.jsxs("div",{className:"space-y-6",children:[h&&e.jsx(v5,{isOpen:n,onClose:()=>i(!1),services:y,products:b,onStartProject:j}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Dashboard"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Overview of your projects and campaigns"})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Total Projects"}),e.jsx(Pi,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.total}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All time projects"})]})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Active Projects"}),e.jsx(Jt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.active}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"In progress"})]})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Completed"}),e.jsx(bi,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.completed}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Finished projects"})]})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(ce,{className:"text-sm font-medium",children:"Active Campaigns"}),e.jsx(Ws,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"text-2xl font-bold",children:w}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Running now"})]})]})]}),m.length>0&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{children:[e.jsx(ce,{className:"text-lg",children:"Campaign Overview"}),e.jsx(Qe,{children:"Your assigned campaigns"})]}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ws,{className:"w-5 h-5 text-indigo-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Total Campaigns"})]}),e.jsx("span",{className:"text-2xl font-bold",children:m.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qr,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Total Leads"})]}),e.jsx("span",{className:"text-2xl font-bold",children:N})]})]})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{children:[e.jsx(ce,{className:"text-lg",children:"Recent Campaigns"}),e.jsx(Qe,{children:"Latest campaign activity"})]}),e.jsx(ee,{children:e.jsx("div",{className:"space-y-3",children:m.slice(0,3).map(C=>{const A=new Date,E=new Date(C.startDate),S=new Date(C.endDate),R=A>=E&&A<=S;return e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-2 last:border-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:C.name}),e.jsx("p",{className:"text-xs text-slate-500",children:C.type})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:R?"Active":"Inactive"})]},C.id)})})})]})]})]})}function C5(){const t=St(),s=_a(),n=gt(),{user:i}=We(),[o,c]=v.useState(!1),[u,m]=v.useState(null),[h,f]=v.useState(1),[p,y]=v.useState(null),[b,w]=v.useState({serviceId:0,title:"",description:"",budget:"",deliveryStartDate:"",deliveryEndDate:"",time:""}),{data:N}=we({queryKey:["services"],queryFn:async()=>(await wi.getAll(!0)).data.data||[]}),j=N||[],{data:C,isLoading:A}=we({queryKey:["projects"],queryFn:async()=>(await zr.getAll()).data.data,refetchInterval:H=>u?2e3:!1}),E=C||[];v.useEffect(()=>{const G=new URLSearchParams(s.search).get("signed");if(G){const F=parseInt(G);m(F),n.invalidateQueries({queryKey:["projects"]}),setTimeout(()=>{m(null),n.invalidateQueries({queryKey:["projects"]}),t(s.pathname,{replace:!0})},3e3)}},[s,t,n]),v.useEffect(()=>{const H=()=>{c(!0),f(1)};return window.addEventListener("open-project-form",H),()=>{window.removeEventListener("open-project-form",H)}},[]),v.useEffect(()=>{p&&(Number(p.pricing)*.5,Number(p.pricing)*1.5,w({serviceId:p.id,title:p.title,description:p.details,budget:p.pricing.toString(),deliveryStartDate:new Date(p.deliveryStartDate).toISOString().split("T")[0],deliveryEndDate:new Date(p.deliveryEndDate).toISOString().split("T")[0],time:`${Math.ceil((new Date(p.deliveryEndDate).getTime()-new Date(p.deliveryStartDate).getTime())/(1e3*60*60*24))} days`}))},[p]);const S=Te({mutationFn:H=>zr.create(H),onSuccess:()=>{window.alert("Project created successfully"),n.invalidateQueries({queryKey:["projects"]}),c(!1),f(1),y(null),w({serviceId:0,title:"",description:"",budget:"",deliveryStartDate:"",deliveryEndDate:"",time:""})},onError:H=>{console.error("Failed to create project:",H);const G=H?.response?.data?.message||"Failed to create project";window.alert(G)}}),R=H=>{y(H),f(2)},_=H=>{if(!p)return;const G=parseFloat(H)||0,F=Number(p.pricing),de=F*.5,z=F*1.5;G>=de&&G<=z&&w({...b,budget:H})},L=H=>{if(H.preventDefault(),!p)return;const G=Number(p.pricing),F=G*.5,de=G*1.5,z=parseFloat(b.budget);if(z<F||z>de){alert(`Budget must be between ${F.toFixed(2)} and ${de.toFixed(2)}`);return}S.mutate({serviceId:b.serviceId,title:b.title,description:b.description,budget:z,deliveryStartDate:b.deliveryStartDate,deliveryEndDate:b.deliveryEndDate,time:b.time})},I=H=>{switch(H){case"Completed":return"bg-green-100 text-green-700";case"InProgress":return"bg-blue-100 text-blue-700";case"Submitted":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},q=p?Number(p.pricing)*.5:0,$=p?Number(p.pricing)*1.5:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Projects"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Manage your projects"})]}),e.jsxs(M,{onClick:()=>c(!0),children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"New Project"]})]}),o&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{children:[e.jsxs(ce,{children:["Create New Project ",h===1?"- Select Service":"- Configure Project"]}),e.jsx(Qe,{children:h===1?"Choose a service to get started":"Adjust budget and delivery dates as needed"})]}),e.jsx(ee,{children:h===1?e.jsxs("div",{className:"space-y-4",children:[j.length===0?e.jsx("div",{className:"text-center py-8 text-slate-500",children:"No services available"}):e.jsx("div",{className:"grid gap-4",children:j.map(H=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-indigo-500 cursor-pointer transition-colors",onClick:()=>R(H),children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:H.title}),e.jsx("p",{className:"text-sm text-slate-600 mt-1 line-clamp-2",children:H.details}),e.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[e.jsxs("span",{className:"font-medium text-indigo-600",children:["$",Number(H.pricing).toLocaleString()]}),e.jsxs("span",{className:"text-slate-500",children:[new Date(H.deliveryStartDate).toLocaleDateString()," -"," ",new Date(H.deliveryEndDate).toLocaleDateString()]})]})]}),e.jsx(Fc,{className:"w-5 h-5 text-slate-400"})]})},H.id))}),e.jsx(M,{type:"button",variant:"outline",onClick:()=>{c(!1),f(1),y(null)},className:"w-full",children:"Cancel"})]}):e.jsxs("form",{onSubmit:L,className:"space-y-4",children:[p&&e.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-indigo-900",children:"Selected Service"}),e.jsx("p",{className:"text-sm text-indigo-700",children:p.title}),e.jsxs("p",{className:"text-xs text-indigo-600 mt-1",children:["Base Price: $",Number(p.pricing).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"title",children:"Title *"}),e.jsx(me,{id:"title",value:b.title,onChange:H=>w({...b,title:H.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",value:b.description,onChange:H=>w({...b,description:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3})]}),e.jsxs("div",{children:[e.jsxs(W,{htmlFor:"budget",children:["Budget * (Range: $",q.toFixed(2)," - $",$.toFixed(2),")"]}),e.jsx(me,{id:"budget",type:"number",step:"0.01",min:q,max:$,value:b.budget,onChange:H=>_(H.target.value),required:!0}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"You can adjust budget between 50% and 150% of service price"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"deliveryStartDate",children:"Delivery Start Date *"}),e.jsx(me,{id:"deliveryStartDate",type:"date",value:b.deliveryStartDate,onChange:H=>w({...b,deliveryStartDate:H.target.value}),min:p?new Date(p.deliveryStartDate).toISOString().split("T")[0]:void 0,max:p?new Date(p.deliveryEndDate).toISOString().split("T")[0]:void 0,required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"deliveryEndDate",children:"Delivery End Date *"}),e.jsx(me,{id:"deliveryEndDate",type:"date",value:b.deliveryEndDate,onChange:H=>w({...b,deliveryEndDate:H.target.value}),min:b.deliveryStartDate||(p?new Date(p.deliveryStartDate).toISOString().split("T")[0]:void 0),max:p?new Date(p.deliveryEndDate).toISOString().split("T")[0]:void 0,required:!0})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"time",children:"Timeframe *"}),e.jsx(me,{id:"time",value:b.time,onChange:H=>w({...b,time:H.target.value}),placeholder:"e.g., 4 weeks",required:!0})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{type:"button",variant:"outline",onClick:()=>f(1),children:[e.jsx(sm,{className:"w-4 h-4 mr-1"}),"Back"]}),e.jsx(M,{type:"submit",disabled:S.isPending,className:"flex-1",children:S.isPending?"Creating...":"Create Project"}),e.jsx(M,{type:"button",variant:"outline",onClick:()=>{c(!1),f(1),y(null)},children:"Cancel"})]})]})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{children:["All Projects (",E.length,")"]})}),e.jsx(ee,{children:A?e.jsx("div",{className:"text-center py-8",children:"Loading..."}):E.length===0?e.jsx("div",{className:"text-center py-8 text-slate-500",children:"No projects yet"}):e.jsx("div",{className:"space-y-4",children:E.map(H=>{const G=u===H.id,F=H.invoices&&H.invoices.length>0?H.invoices[0]:null;return e.jsxs("div",{className:`border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-all ${G?"ring-2 ring-indigo-500 ring-offset-2 bg-indigo-50":""}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:H.title}),G&&e.jsxs("div",{className:"flex items-center gap-2 text-indigo-600",children:[e.jsx(Is,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-xs font-medium",children:"Processing..."})]})]}),H.description&&e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:H.description}),e.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-slate-500",children:[e.jsxs("span",{children:["Budget: $",Number(H.budget).toLocaleString()]}),e.jsxs("span",{children:["Time: ",H.time]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${I(H.status)}`,children:H.status}),F&&e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>t(`/client/invoices/${F.id}`),children:[e.jsx(Vt,{className:"w-4 h-4 mr-1"}),"Invoice ",F.invoiceNumber]}),H.status==="Draft"&&!G&&e.jsxs(M,{size:"sm",onClick:()=>{m(H.id),t(`/client/projects/${H.id}/sign`)},children:[e.jsx(Vt,{className:"w-4 h-4 mr-1"}),"Sign"]}),(G||u===H.id&&H.status==="Submitted")&&e.jsxs("div",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded text-xs font-medium flex items-center gap-2",children:[e.jsx(Is,{className:"w-3 h-3 animate-spin"}),H.status==="Submitted"?"Processing...":"Signing..."]})]})]}),G&&e.jsx("div",{className:"mt-3 pt-3 border-t border-indigo-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-700",children:[e.jsx("div",{className:"flex-1 bg-indigo-100 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-indigo-600 h-full rounded-full animate-pulse",style:{width:"60%"}})}),e.jsx("span",{className:"text-xs",children:"Submitting signature..."})]})})]},H.id)})})})]})]})}const k5=Nw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function js({className:t,variant:s,...n}){return e.jsx("div",{className:fe(k5({variant:s}),t),...n})}function E5(){const{data:t,isLoading:s}=we({queryKey:["client-campaigns"],queryFn:async()=>(await zw.getMyCampaigns()).data.data||[]}),n=t||[],i=(c,u)=>{const m=new Date,h=new Date(c),f=new Date(u);return m<h?{label:"Upcoming",color:"bg-blue-500"}:m>f?{label:"Ended",color:"bg-gray-500"}:{label:"Active",color:"bg-green-500"}},o=c=>({reach:"Reach Campaign",sale:"Sales Campaign",research:"Research Campaign"})[c]||c;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"My Campaigns"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Track your assigned campaigns and their progress"})]}),s?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):n.length===0?e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsxs(ee,{className:"text-center py-12",children:[e.jsx(Ws,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 text-lg",children:"No campaigns assigned yet"}),e.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"You'll see your campaigns here once they're assigned"})]})}):e.jsx("div",{className:"grid gap-6",children:n.map(c=>{const u=i(c.startDate,c.endDate),m=c.leads?.length||0,h=c.products?.length||0,f=c.invoices?.length||0;return e.jsxs(X,{className:"shadow-sm border-gray-200 hover:shadow-md transition-shadow",children:[e.jsx(oe,{children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ce,{className:"text-xl",children:c.name}),e.jsx(js,{className:`${u.color} text-white`,children:u.label})]}),e.jsx(Qe,{className:"text-base",children:c.description||"No description provided"})]})})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 pb-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:e.jsx(Ws,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Type"}),e.jsx("p",{className:"text-sm font-medium text-slate-900",children:o(c.type)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:e.jsx(Zs,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Duration"}),e.jsxs("p",{className:"text-sm font-medium text-slate-900",children:[new Date(c.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",new Date(c.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:e.jsx(ps,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Budget"}),e.jsxs("p",{className:"text-sm font-medium text-slate-900",children:["$",Number(c.budget).toLocaleString()]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qr,{className:"w-4 h-4 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Leads"}),e.jsx("p",{className:"text-lg font-semibold text-slate-900",children:m})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oa,{className:"w-4 h-4 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Products"}),e.jsx("p",{className:"text-lg font-semibold text-slate-900",children:h})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"w-4 h-4 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Invoices"}),e.jsx("p",{className:"text-lg font-semibold text-slate-900",children:f})]})]})]}),c.project&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Related Project"}),e.jsx("p",{className:"text-sm font-medium text-slate-900",children:c.project.title})]})]})})]},c.id)})})]})}function A5(){const[t,s]=v.useState(""),{data:n,isLoading:i,error:o}=we({queryKey:["client-leads",t],queryFn:async()=>(await l5.getAll(t?parseInt(t):void 0)).data.data}),c=n||[],u=m=>{switch(m){case"Won":return"bg-green-100 text-green-700";case"Lost":return"bg-red-100 text-red-700";case"Negotiation":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Campaign Leads"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"View leads from your campaigns"})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsx(ce,{children:"Filter Leads"})}),e.jsx(ee,{children:e.jsxs("div",{children:[e.jsx(W,{htmlFor:"campaignId",children:"Campaign ID (optional)"}),e.jsx(me,{id:"campaignId",type:"number",value:t,onChange:m=>s(m.target.value),placeholder:"Filter by campaign ID"})]})})]}),o&&e.jsx(X,{className:"shadow-sm border-red-200 bg-red-50",children:e.jsx(ee,{className:"py-4 text-red-700",children:o?.response?.data?.message||"Failed to load leads"})}),i?e.jsx("div",{className:"text-center py-8",children:"Loading..."}):c.length===0?e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsx(ee,{className:"text-center py-8 text-slate-500",children:"No leads found. Complete a project to view leads from your campaigns."})}):e.jsx("div",{className:"grid gap-4",children:c.map(m=>e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(ce,{children:m.title}),m.customerName&&e.jsxs(Qe,{className:"flex items-center gap-2 mt-1",children:[e.jsx(Yt,{className:"w-4 h-4"}),m.customerName]})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${u(m.status)}`,children:m.status})]})}),e.jsxs(ee,{children:[m.description&&e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:m.description}),e.jsxs("div",{className:"flex gap-4 text-sm",children:[m.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ca,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{children:m.phone})]}),m.value&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ps,{className:"w-4 h-4 text-slate-400"}),e.jsxs("span",{children:["$",Number(m.value).toLocaleString()]})]}),m.campaign&&e.jsxs("div",{className:"text-slate-500",children:["Campaign: ",m.campaign.name]})]})]})]},m.id))})]})}function Cp({onSignatureChange:t}){const s=v.useRef(null),n=v.useRef(null),i=v.useRef(!1),[o,c]=v.useState(!1);v.useEffect(()=>{const m=s.current,h=n.current;if(!m||!h)return;const f=()=>{const y=h.getBoundingClientRect(),b=window.devicePixelRatio||1;m.style.width=`${y.width}px`,m.style.height=`${y.height}px`,m.width=y.width*b,m.height=y.height*b;const w=m.getContext("2d");w&&(w.scale(b,b),w.strokeStyle="#000",w.lineWidth=2,w.lineCap="round",w.lineJoin="round"),c(!0)},p=new ResizeObserver(f);return p.observe(h),f(),()=>{p.disconnect()}},[]),v.useEffect(()=>{const m=s.current;if(!m||!o)return;const h=m.getContext("2d");if(!h)return;const f=N=>{const j=m.getBoundingClientRect();let C,A;if("touches"in N&&N.touches.length>0)C=N.touches[0].clientX,A=N.touches[0].clientY;else if("clientX"in N)C=N.clientX,A=N.clientY;else return{x:0,y:0};const E=C-j.left,S=A-j.top;return{x:E,y:S}},p=N=>{N.preventDefault(),i.current=!0;const j=f(N);h.beginPath(),h.moveTo(j.x,j.y)},y=N=>{if(!i.current)return;N.preventDefault();const j=f(N);h.lineTo(j.x,j.y),h.stroke()},b=()=>{i.current&&(i.current=!1,w())},w=()=>{if(m){const N=m.toDataURL();t(N)}};return m.addEventListener("mousedown",p),m.addEventListener("mousemove",y),m.addEventListener("mouseup",b),m.addEventListener("mouseout",b),m.addEventListener("touchstart",p,{passive:!1}),m.addEventListener("touchmove",y,{passive:!1}),m.addEventListener("touchend",b),()=>{m.removeEventListener("mousedown",p),m.removeEventListener("mousemove",y),m.removeEventListener("mouseup",b),m.removeEventListener("mouseout",b),m.removeEventListener("touchstart",p),m.removeEventListener("touchmove",y),m.removeEventListener("touchend",b)}},[t,o]);const u=()=>{const m=s.current;if(!m)return;const h=m.getContext("2d");if(!h)return;const f=m.getBoundingClientRect();h.clearRect(0,0,f.width,f.height),t("")};return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{ref:n,className:"border border-gray-300 rounded-md bg-white",style:{width:"100%",height:"200px"},children:e.jsx("canvas",{ref:s,className:"cursor-crosshair",style:{touchAction:"none",display:"block",width:"100%",height:"100%"}})}),e.jsx(M,{type:"button",variant:"outline",size:"sm",onClick:u,children:"Clear"})]})}function _5(){const{id:t}=ln(),s=St(),n=gt(),{user:i}=We(),[o,c]=v.useState(""),{data:u,isLoading:m}=we({queryKey:["project",t],queryFn:async()=>(await zr.getById(Number(t))).data.data,enabled:!!t}),h=Te({mutationFn:w=>zr.sign(Number(t),w),onSuccess:w=>{n.invalidateQueries({queryKey:["projects"]}),n.invalidateQueries({queryKey:["project",t]});const N=w.data?.data?.invoice;N?console.log("Invoice created:",N.invoiceNumber):console.warn("No invoice in response after signing project"),s(`/client/projects?signed=${t}`)},onError:w=>{console.error("Error signing project:",w);const N=w?.response?.data?.message||"Failed to sign project";alert(N)}}),f=u,p=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});if(m)return e.jsx("div",{className:"text-center py-8",children:"Loading..."});if(!f)return e.jsx("div",{className:"text-center py-8",children:"Project not found"});const y=i?.email?.split("@")[1]?.split(".")[0]||"Your Company",b=i?.email?.split("@")[0]||"Client";return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs(M,{variant:"ghost",onClick:()=>s("/client/projects"),className:"mb-6",children:[e.jsx(ha,{className:"w-4 h-4 mr-2"}),"Back to Projects"]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden border-2 border-gray-200",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white p-8",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"DIGITAL MARKETING SERVICES"}),e.jsx("p",{className:"text-indigo-100 text-lg",children:"Project Proposal & Agreement"})]}),e.jsxs("div",{className:"text-right text-indigo-100",children:[e.jsx("p",{className:"text-sm",children:"Document Date"}),e.jsx("p",{className:"font-semibold",children:p})]})]})}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 border-b pb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-800",children:"CLIENT INFORMATION"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Name:"})," ",b]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Company:"})," ",y]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Email:"})," ",i?.email]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-800",children:"SERVICE PROVIDER"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Company:"})," Omni Digital Marketing"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Services:"})," Digital Marketing Solutions"]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Contact:"})," support@omni.com"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 border-b-2 border-indigo-600 pb-2",children:"PROJECT DETAILS"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:f.title}),f.description&&e.jsx("p",{className:"text-gray-700 leading-relaxed",children:f.description})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900 border-b-2 border-indigo-600 pb-2",children:"PROPOSED DIGITAL MARKETING SERVICES"}),e.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[e.jsx("p",{children:"This proposal outlines the comprehensive digital marketing services we will provide to enhance your online presence, drive engagement, and achieve your business objectives. Our team specializes in delivering measurable results through strategic digital marketing campaigns."}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border-l-4 border-indigo-600",children:[e.jsx("h4",{className:"font-semibold text-lg mb-3 text-gray-900",children:"Services Included:"}),e.jsxs("ul",{className:"space-y-2 list-disc list-inside",children:[e.jsx("li",{children:"Search Engine Optimization (SEO) to improve organic visibility"}),e.jsx("li",{children:"Social Media Marketing and Management across major platforms"}),e.jsx("li",{children:"Content Marketing Strategy and Creation"}),e.jsx("li",{children:"Pay-Per-Click (PPC) Advertising Campaigns"}),e.jsx("li",{children:"Email Marketing Campaigns and Automation"}),e.jsx("li",{children:"Analytics and Performance Reporting"}),e.jsx("li",{children:"Website Optimization and Conversion Rate Optimization"})]})]}),e.jsx("p",{children:"Our approach combines data-driven strategies with creative execution to maximize your return on investment. We will work closely with your team to ensure all campaigns align with your brand voice and business goals."})]})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-900",children:"PROJECT TERMS"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ps,{className:"w-5 h-5 text-indigo-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:"Total Budget"}),e.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:["$",Number(f.budget).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Jt,{className:"w-5 h-5 text-indigo-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:"Project Timeline"}),e.jsx("p",{className:"text-xl font-bold text-indigo-600",children:f.time})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-3 text-gray-900",children:"TERMS AND CONDITIONS"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[e.jsx("p",{children:"1. Payment terms: 50% upfront payment required to commence work, remaining 50% upon project completion."}),e.jsx("p",{children:"2. All deliverables will be provided according to the agreed timeline. Any delays will be communicated in advance."}),e.jsx("p",{children:"3. Client will provide necessary access, content, and approvals in a timely manner to ensure project success."}),e.jsx("p",{children:"4. Intellectual property rights for custom work will transfer to the client upon final payment."}),e.jsx("p",{children:"5. This agreement may be terminated by either party with 30 days written notice."})]})]}),e.jsxs("div",{className:"border-t-2 border-gray-300 pt-8",children:[e.jsx("h3",{className:"font-bold text-lg mb-6 text-gray-900",children:"ELECTRONIC SIGNATURE"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-3 text-gray-700",children:"Please sign below to accept this proposal and authorize the project:"}),e.jsx(Cp,{onSignatureChange:c})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("input",{type:"checkbox",id:"agree",checked:!!o,readOnly:!0,className:"w-4 h-4 text-indigo-600"}),e.jsx("label",{htmlFor:"agree",children:"By signing above, I acknowledge that I have read, understood, and agree to the terms and conditions outlined in this proposal. I authorize Omni Digital Marketing to proceed with the project as described."})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(M,{onClick:()=>h.mutate(o),disabled:!o||h.isPending,className:"bg-indigo-600 hover:bg-indigo-700",size:"lg",children:h.isPending?"Submitting...":"Submit & Sign Document"}),e.jsx(M,{variant:"outline",onClick:()=>s("/client/projects"),size:"lg",children:"Cancel"})]})]})]}),e.jsxs("div",{className:"border-t pt-6 text-center text-xs text-gray-500",children:[e.jsx("p",{children:"This is an electronically generated document. By signing, you agree to the terms and conditions stated above."}),e.jsxs("p",{className:"mt-2",children:["Document ID: PROJ-",f.id," | Generated on ",p]})]})]})]})]})})}function T5({error:t,onClose:s}){const[n,i]=v.useState(!1),c=(()=>{const f={};return t.message&&(f.message=t.message),t.name&&(f.name=t.name),t.code&&(f.code=t.code),t.response&&(t.response.status&&(f.status=t.response.status),t.response.statusText&&(f.statusText=t.response.statusText),t.response.data&&(f.responseData=t.response.data,t.response.data.message&&(f.errorMessage=t.response.data.message))),t.config&&(t.config.url&&(f.url=t.config.url),t.config.method&&(f.method=t.config.method)),t.stack&&(f.stack=t.stack),f})(),u=JSON.stringify(c,null,2),m=async()=>{try{await navigator.clipboard.writeText(u),i(!0),setTimeout(()=>i(!1),2e3)}catch(f){console.error("Failed to copy:",f)}},h=()=>c.errorMessage?c.errorMessage:c.message?c.message:"An error occurred";return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wc,{className:"w-5 h-5 text-red-500"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Error Details"})]}),e.jsx(M,{variant:"ghost",size:"icon",onClick:s,className:"h-8 w-8",children:e.jsx(Ye,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Error Message:"}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:e.jsx("p",{className:"text-sm text-red-800",children:h()})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Error Details:"}),e.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-md p-3",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[c.status&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Status:"}),e.jsxs("span",{className:"text-slate-900",children:[c.status," ",c.statusText||""]})]}),c.url&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"font-medium text-slate-600",children:"URL:"}),e.jsx("span",{className:"text-slate-900 break-all",children:c.url})]}),c.method&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Method:"}),e.jsx("span",{className:"text-slate-900",children:c.method.toUpperCase()})]}),c.code&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"font-medium text-slate-600",children:"Code:"}),e.jsx("span",{className:"text-slate-900",children:c.code})]})]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Full Error (JSON):"}),e.jsx(M,{variant:"outline",size:"sm",onClick:m,className:"h-7 text-xs",children:n?e.jsxs(e.Fragment,{children:[e.jsx(As,{className:"w-3 h-3 mr-1"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Sc,{className:"w-3 h-3 mr-1"}),"Copy"]})})]}),e.jsx("pre",{className:"bg-slate-900 text-slate-100 rounded-md p-3 text-xs overflow-x-auto max-h-64 overflow-y-auto",children:u})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 p-4 border-t border-gray-200",children:[e.jsxs(M,{variant:"outline",onClick:m,className:"flex items-center gap-2",children:[e.jsx(Sc,{className:"w-4 h-4"}),"Copy Error"]}),e.jsx(M,{onClick:s,className:"bg-indigo-600 hover:bg-indigo-700",children:"Close"})]})]})})}const R5=({className:t})=>e.jsx("svg",{className:t,fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),D5=["Hello! How can I help you today?","Hi! Thanks for reaching out.","Good morning! How may I assist you?","Good afternoon! What can I do for you?","Hello! Welcome to our service.","Hi there! I'm here to help.","Thank you for contacting us!","Hello! How are you doing today?"];function O5(){const{user:t}=We(),[s,n]=v.useState("inbox"),[i,o]=v.useState(null),[c,u]=v.useState(""),[m,h]=v.useState(!1),[f,p]=v.useState(!1),[y,b]=v.useState(!1),[w,N]=v.useState(null),[j,C]=v.useState("default"),[A,E]=v.useState(""),[S,R]=v.useState(null),[_,L]=v.useState(1),[I,q]=v.useState(null),[$,H]=v.useState({title:"",description:"",value:"",assignedTo:"",customerName:"",phone:"",categoryId:"",interestId:"",campaignId:""}),G=v.useRef(null),F=v.useRef(null),[de,z]=v.useState(null),[he,O]=v.useState(null),[P,U]=v.useState(null),[pe,Ne]=v.useState(!1),B=v.useRef(null),te=gt(),{data:T=[],isLoading:ye}=we({queryKey:["conversations",s],queryFn:()=>Ba.getConversations(s),refetchInterval:1e4}),{data:Ce,isLoading:Pe}=we({queryKey:["conversation",i],queryFn:()=>Ba.getConversationMessages(i),enabled:!!i,refetchInterval:5e3}),{data:be}=we({queryKey:["typing-status",i],queryFn:()=>Ba.getTypingStatus(i),enabled:!!i,refetchInterval:2e3}),$e=Te({mutationFn:V=>Ba.markConversationAsRead(V),onSuccess:()=>{te.invalidateQueries({queryKey:["conversations"]}),te.invalidateQueries({queryKey:["conversation",i]})}}),qe=Te({mutationFn:({conversationId:V,isTyping:Re})=>Ba.updateTypingStatus(V,Re)}),{data:Ze}=we({queryKey:["lead-categories"],queryFn:async()=>(await Ul.getAll(t?.companyId||0)).data.data||[],enabled:!!t?.companyId&&m}),{data:at}=we({queryKey:["lead-interests"],queryFn:async()=>(await Fl.getAll(t?.companyId||0)).data.data||[],enabled:!!t?.companyId&&m}),{data:Xe=[]}=we({queryKey:["products",t?.companyId],queryFn:async()=>t?.companyId?(await tn.getAll(t.companyId)).data.data||[]:[],enabled:!!t?.companyId&&m&&S==="sales"&&_>=2}),{data:es=[]}=we({queryKey:["active-campaigns",t?.companyId],queryFn:async()=>t?.companyId?(await Ca.getActive(t.companyId)).data.data||[]:[],enabled:!!t?.companyId}),{data:zt=[]}=we({queryKey:["campaign-products",A,t?.companyId],queryFn:async()=>!A||!t?.companyId?[]:(await Ca.getProducts(Number(A),t.companyId)).data.data||[],enabled:!!A&&!!t?.companyId&&j==="campaign"}),{data:$s=[]}=we({queryKey:["all-products",t?.companyId],queryFn:async()=>t?.companyId?(await tn.getAll(t.companyId)).data.data||[]:[],enabled:!!t?.companyId&&j==="all"}),{data:Ps}=we({queryKey:["campaigns-active",t?.companyId],queryFn:async()=>t?.companyId?(await Ca.getActive(t.companyId)).data.data||[]:[],enabled:!!t?.companyId&&m}),Us=Ze||[],An=at||[],xa=Ps||[],Q=Te({mutationFn:({content:V,image:Re})=>Ba.sendReply(i,V,Re),onSuccess:()=>{u(""),z(null),he&&URL.revokeObjectURL(he),O(null),F.current&&(F.current.value=""),te.invalidateQueries({queryKey:["conversations"]}),te.invalidateQueries({queryKey:["conversation",i]})},onError:V=>{console.error(" Error sending message:",V),U(V)}}),ae=v.useCallback(V=>{const Re=V.target.files?.[0];if(Re){if(!Re.type.startsWith("image/")){alert("Please select an image file");return}if(Re.size>5*1024*1024){alert("Image size must be less than 5MB");return}z(Re);const mt=URL.createObjectURL(Re);O(mt)}},[]),xe=v.useCallback(()=>{he&&URL.revokeObjectURL(he),z(null),O(null),F.current&&(F.current.value="")},[he]),_e=Te({mutationFn:V=>{if(!i)throw new Error("Conversation ID is required");return qs.createFromInbox(i,V)},onSuccess:()=>{h(!1),H({title:"",description:"",customerName:"",phone:"",categoryId:"",interestId:"",campaignId:""}),R(null),L(1),q(null),te.invalidateQueries({queryKey:["leads"]}),alert("Lead created successfully!")},onError:V=>{alert(V.response?.data?.message||"Failed to create lead")}}),Se=Te({mutationFn:V=>Ba.assignConversation(V),onSuccess:()=>{te.invalidateQueries({queryKey:["conversations",s]}),te.invalidateQueries({queryKey:["conversations","inbox"]}),te.invalidateQueries({queryKey:["conversations","taken"]})},onError:V=>{alert(V.response?.data?.message||"Failed to assign conversation")}}),ke=Te({mutationFn:V=>Ba.unassignConversation(V),onSuccess:()=>{te.invalidateQueries({queryKey:["conversations",s]}),te.invalidateQueries({queryKey:["conversations","inbox"]}),te.invalidateQueries({queryKey:["conversations","taken"]})},onError:V=>{alert(V.response?.data?.message||"Failed to unassign conversation")}}),Ue=Te({mutationFn:V=>Ba.completeConversation(V),onSuccess:()=>{te.invalidateQueries({queryKey:["conversations",s]}),te.invalidateQueries({queryKey:["conversations","inbox"]}),te.invalidateQueries({queryKey:["conversations","taken"]}),te.invalidateQueries({queryKey:["conversations","complete"]}),te.invalidateQueries({queryKey:["conversation",i]})},onError:V=>{alert(V.response?.data?.message||"Failed to complete conversation")}}),{data:ft=[],isLoading:bt}=we({queryKey:["conversation-release-history",w],queryFn:async()=>w?await Ba.getConversationReleaseHistory(w):[],enabled:!!w&&y}),ws=(V,Re)=>{Re.stopPropagation(),N(V),b(!0)},Ks=()=>{if(!Ce)return;R(null),L(1),q(null);const V=Ce.externalUserName?`Lead from ${Ce.externalUserName}`:`Lead from ${Ce.platform}`;H({title:V,description:Ce.messages?.[0]?.content||"",customerName:Ce.externalUserName||"",phone:"",categoryId:"",interestId:"",campaignId:""}),h(!0)},Ra=S?S==="sales"?4:3:1,ie=()=>{if(_===1)return"Select Lead Type";if(!S)return"Create Lead from Conversation";if(S==="sales"){if(_===2)return"Product Selection";if(_===3)return"Customer Information";if(_===4)return"Lead Details"}else if(S==="connection"){if(_===2)return"Basic Information";if(_===3)return"Additional Details"}else if(S==="research"){if(_===2)return"Basic Information";if(_===3)return"Research Details"}return"Create Lead from Conversation"},nt=V=>{if(V.preventDefault(),!$.title.trim()){alert("Lead title is required");return}if(!$.customerName?.trim()){alert("Customer name is required");return}if(!$.phone?.trim()){alert("Phone is required");return}if(!$.categoryId||$.categoryId===""){alert("Category is required");return}if(!$.interestId||$.interestId===""){alert("Interest is required");return}const Re=$.categoryId&&$.categoryId!==""?parseInt($.categoryId,10):null,mt=$.interestId&&$.interestId!==""?parseInt($.interestId,10):null;if(!Re||isNaN(Re)){alert("Please select a category");return}if(!mt||isNaN(mt)){alert("Please select an interest");return}if(!$.campaignId||$.campaignId===""){alert("Campaign is required");return}const Tt=$.campaignId&&$.campaignId!==""?parseInt($.campaignId,10):null;if(!Tt||isNaN(Tt)){alert("Please select a valid campaign");return}if(S==="sales"&&!I){alert("Please select a product");return}let yt=$.title;if(S==="sales"&&I){const Gt=Xe.find(Xs=>Xs.id===I);Gt&&!$.title.includes(Gt.name)&&(yt=`${Gt.name} - ${$.customerName}`)}const Qt={title:yt,description:$.description||void 0,customerName:$.customerName||void 0,phone:$.phone||void 0,categoryId:Re,interestId:mt,campaignId:Tt};if(S==="sales"&&I){const Gt=Xe.find(Xs=>Xs.id===I);if(Gt){const Xs=parseFloat(Gt.purchasePrice)||0,zc=parseFloat(Gt.salePrice)||0,Bc=zc-Xs;Qt.productId=I,Qt.purchasePrice=Xs,Qt.salePrice=zc,Qt.profit=Bc}}_e.mutate(Qt,{onSuccess:()=>{h(!1),R(null),L(1),q(null),H({title:"",description:"",customerName:"",phone:"",categoryId:"",interestId:"",campaignId:""})}})};v.useEffect(()=>{G.current?.scrollIntoView({behavior:"smooth"})},[Ce?.messages]),v.useEffect(()=>()=>{he&&URL.revokeObjectURL(he)},[he]);const Zt=V=>{V.preventDefault(),i&&(!c.trim()&&!de||Q.mutate({content:c.trim(),image:de||void 0}))},Kt=V=>{u(V),p(!1),setTimeout(()=>{const Re=document.querySelector('input[placeholder="Type a message..."]');Re&&(Re.focus(),Re.setSelectionRange(V.length,V.length))},0)},Fi=V=>{const Re=new Date(V),Tt=new Date().getTime()-Re.getTime(),yt=Math.floor(Tt/6e4),Qt=Math.floor(Tt/36e5),Gt=Math.floor(Tt/864e5);return yt<1?"Just now":yt<60?`${yt}m ago`:Qt<24?`${Qt}h ago`:Gt<7?`${Gt}d ago`:Re.toLocaleDateString()},qi=V=>V.messages&&V.messages.length>0?V.messages[V.messages.length-1]:null,gm=V=>V.unreadCount!==void 0?V.unreadCount:V.messages?V.messages.filter(Re=>Re.senderType==="customer"&&!Re.isRead).length:0,zi=V=>{o(V),$e.mutate(V)},Bi=V=>{const Re=V.target.value;u(Re),i&&(B.current&&clearTimeout(B.current),Re.trim().length>0?(qe.mutate({conversationId:i,isTyping:!0}),Ne(!0),B.current=setTimeout(()=>{qe.mutate({conversationId:i,isTyping:!1}),Ne(!1)},2e3)):(qe.mutate({conversationId:i,isTyping:!1}),Ne(!1)))};return v.useEffect(()=>()=>{B.current&&clearTimeout(B.current),i&&pe&&qe.mutate({conversationId:i,isTyping:!1})},[i]),e.jsxs("div",{className:"h-[calc(100vh-8rem)] flex flex-col",children:[e.jsxs("div",{className:"flex-1 flex gap-4 overflow-hidden",children:[e.jsxs(X,{className:"w-80 flex flex-col shadow-sm border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"font-semibold text-slate-900",children:"Conversations"}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[T.length," ",T.length===1?"conversation":"conversations"]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx("button",{onClick:()=>n("inbox"),className:fe("flex-1 px-3 py-1.5 text-sm font-medium rounded-md transition-colors",s==="inbox"?"bg-indigo-600 text-white":"bg-gray-100 text-slate-700 hover:bg-gray-200"),children:"Inbox"}),e.jsx("button",{onClick:()=>n("taken"),className:fe("flex-1 px-3 py-1.5 text-sm font-medium rounded-md transition-colors",s==="taken"?"bg-indigo-600 text-white":"bg-gray-100 text-slate-700 hover:bg-gray-200"),children:"Taken"}),e.jsx("button",{onClick:()=>n("complete"),className:fe("flex-1 px-3 py-1.5 text-sm font-medium rounded-md transition-colors",s==="complete"?"bg-indigo-600 text-white":"bg-gray-100 text-slate-700 hover:bg-gray-200"),children:"Complete"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:ye?e.jsx("div",{className:"p-4 text-center text-slate-500",children:"Loading conversations..."}):T.length===0?e.jsxs("div",{className:"p-4 text-center text-slate-500",children:[e.jsx(Bs,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),e.jsx("p",{children:"No conversations yet"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:T.map(V=>{const Re=qi(V),mt=i===V.id,Tt=V.assignedTo!==null&&V.assignedTo!==void 0,yt=Se.isPending,Qt=ke.isPending;return e.jsxs("div",{className:fe("w-full hover:bg-gray-50 transition-colors",mt&&"bg-indigo-50 border-l-4 border-indigo-600"),children:[e.jsx("button",{onClick:()=>zi(V.id),className:"w-full p-4 text-left",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:V.externalUserName?e.jsx("span",{className:"text-white text-sm font-medium",children:V.externalUserName.charAt(0).toUpperCase()}):e.jsx(is,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[V.platform==="facebook"&&e.jsx(R5,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),e.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:V.externalUserName||`User ${V.externalUserId.slice(0,8)}`})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[V.status==="Open"&&e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(V._count?.releases||0)>0?e.jsx("button",{onClick:Xs=>ws(V.id,Xs),className:"bg-orange-100 text-orange-700 text-xs font-medium rounded-full px-2 py-0.5 border border-orange-300 hover:bg-orange-200 transition-colors cursor-pointer",title:"Click to view release history",children:"Released"}):null,(()=>{const Gt=gm(V);return Gt>0?e.jsx("span",{className:"bg-indigo-600 text-white text-xs font-medium rounded-full px-2 py-0.5 min-w-[20px] text-center",children:Gt>99?"99+":Gt}):null})()]})]}),Re&&e.jsx("p",{className:"text-xs text-slate-500 truncate mb-1",children:Re.content}),V.lastMessageAt&&e.jsx("p",{className:"text-xs text-slate-400",children:Fi(V.lastMessageAt)})]})]})}),e.jsxs("div",{className:"px-4 pb-3",children:[s==="inbox"&&!Tt&&e.jsx(M,{onClick:Gt=>{Gt.stopPropagation(),Se.mutate(V.id)},disabled:yt||Qt,size:"sm",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",children:yt?"Taking...":"Take"}),s==="taken"&&Tt&&e.jsx(M,{onClick:Gt=>{Gt.stopPropagation(),ke.mutate(V.id)},disabled:yt||Qt,size:"sm",variant:"outline",className:"w-full border-red-300 text-red-600 hover:bg-red-50",children:Qt?"Releasing...":"Release"})]})]},V.id)})})})]}),e.jsx(X,{className:"flex-1 flex flex-col shadow-sm border-gray-200",children:i?Pe?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("div",{className:"text-slate-500",children:"Loading messages..."})}):Ce?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center",children:Ce.externalUserName?e.jsx("span",{className:"text-white text-sm font-medium",children:Ce.externalUserName.charAt(0).toUpperCase()}):e.jsx(is,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:Ce.externalUserName||`User ${Ce.externalUserId.slice(0,8)}`}),e.jsxs("p",{className:"text-xs text-slate-500",children:[Ce.platform,"  ",Ce.status]})]}),e.jsx("span",{className:fe("px-2 py-1 text-xs font-medium rounded-full",Ce.status==="Open"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:Ce.status})]}),e.jsx(it,{permission:"can_manage_leads",children:e.jsxs(M,{variant:"outline",size:"sm",onClick:Ks,className:"ml-4",children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Create Lead"]})}),Ce.status==="Open"&&e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>{i&&Ue.mutate(i)},disabled:Ue.isPending,className:"ml-2",children:[e.jsx(As,{className:"w-4 h-4 mr-2"}),Ue.isPending?"Completing...":"Complete"]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[Ce.messages&&Ce.messages.length>0?Ce.messages.map(V=>{const Re=V.senderType==="agent";return e.jsxs("div",{className:fe("flex gap-3",Re?"justify-end":"justify-start"),children:[!Re&&e.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(is,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:fe("max-w-[70%] rounded-lg",V.imageUrl?"p-0 overflow-hidden":"px-4 py-2",Re?V.imageUrl?"bg-transparent":"bg-indigo-600 text-white":V.imageUrl?"bg-transparent":"bg-gray-100 text-slate-900"),children:[V.imageUrl&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:V.imageUrl?.startsWith("http")?V.imageUrl:`${"https://api.paaera.com/api".replace("/api","")}${V.imageUrl}`,alt:"Message attachment",className:"max-w-full max-h-[300px] rounded-lg object-contain cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{const mt=V.imageUrl?.startsWith("http")?V.imageUrl:`${"https://api.paaera.com/api".replace("/api","")}${V.imageUrl}`;window.open(mt,"_blank")},onError:mt=>{mt.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200"%3E%3Crect fill="%23ddd" width="200" height="200"/%3E%3Ctext fill="%23999" font-family="sans-serif" font-size="14" dy="10.5" font-weight="bold" x="50%25" y="50%25" text-anchor="middle"%3EImage not found%3C/text%3E%3C/svg%3E'},loading:"lazy"})}),V.content&&e.jsx("p",{className:fe("text-sm",V.imageUrl&&"px-4 py-2"),children:V.content}),e.jsxs("div",{className:fe("flex items-center gap-2 mt-1",V.imageUrl?"px-4 pb-2":"",Re?"justify-end":"justify-start"),children:[e.jsx("p",{className:fe("text-xs",Re?"text-indigo-100":"text-slate-500"),children:Fi(V.createdAt)}),Re&&e.jsx("span",{className:fe("text-xs",V.isSeen?"text-indigo-100":"text-indigo-200/70"),children:V.isSeen?"seen":"unseen"}),!Re&&V.isRead&&e.jsx(qT,{className:"w-3 h-3 text-slate-400",title:"Read"})]})]}),Re&&e.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(FT,{className:"w-4 h-4 text-white"})})]},V.id)}):e.jsx("div",{className:"text-center text-slate-500 py-8",children:"No messages yet. Start the conversation!"}),be?.isTyping&&e.jsxs("div",{className:"flex gap-3 justify-start",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(is,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"bg-gray-100 text-slate-900 rounded-lg px-4 py-2",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),e.jsx("div",{ref:G})]}),i&&e.jsxs("div",{className:"px-4 pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pw,{className:"w-4 h-4 text-indigo-600"}),e.jsx("span",{className:"text-xs font-medium text-slate-700",children:"Quick Replies"})]}),e.jsx(M,{type:"button",variant:"ghost",size:"sm",onClick:()=>p(!f),className:"h-6 px-2 text-xs",children:f?"Hide":"Show"})]}),f&&e.jsxs("div",{className:"space-y-3 mb-3",children:[e.jsxs("div",{className:"flex gap-1 border-b border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>{C("default"),E("")},className:fe("px-3 py-2 text-xs font-medium border-b-2 transition-colors",j==="default"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Default Messages"}),e.jsx("button",{type:"button",onClick:()=>{C("campaign"),E("")},className:fe("px-3 py-2 text-xs font-medium border-b-2 transition-colors",j==="campaign"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Campaign Products"}),e.jsx("button",{type:"button",onClick:()=>{C("all"),E("")},className:fe("px-3 py-2 text-xs font-medium border-b-2 transition-colors",j==="all"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"All Products"})]}),j==="campaign"&&e.jsx("div",{children:e.jsxs("select",{value:A,onChange:V=>E(V.target.value?Number(V.target.value):""),className:"w-full px-3 py-2 text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Select Campaign"}),es.map(V=>e.jsx("option",{value:V.id,children:V.name},V.id))]})}),j==="default"&&e.jsx("div",{className:"flex flex-wrap gap-2",children:D5.map((V,Re)=>e.jsx("button",{type:"button",onClick:()=>Kt(V),className:"px-3 py-1.5 text-xs font-medium text-indigo-700 bg-indigo-50 border border-indigo-200 rounded-md hover:bg-indigo-100 hover:border-indigo-300 transition-colors",children:V},Re))}),j==="campaign"&&e.jsx("div",{children:A?zt.length===0?e.jsx("div",{className:"text-center py-4 text-xs text-slate-500",children:"No products assigned to this campaign"}):e.jsx("div",{className:"space-y-4 max-h-64 overflow-y-auto",children:zt.map(V=>{const Re=V.quickReplies||[],mt=Re.filter(yt=>yt.type==="attribute"),Tt=Re.filter(yt=>yt.type==="sales");return e.jsxs("div",{className:"p-3 border border-gray-200 rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(oa,{className:"w-4 h-4 text-indigo-600"}),e.jsx("span",{className:"text-sm font-semibold text-slate-900",children:V.name})]}),mt.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs font-medium text-slate-600 mb-1",children:"Attributes:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:mt.map((yt,Qt)=>e.jsxs("button",{type:"button",onClick:()=>Kt(`${yt.key||"Attribute"}: ${yt.value}`),className:"px-2 py-1 text-xs font-medium text-indigo-700 bg-indigo-50 border border-indigo-200 rounded hover:bg-indigo-100 transition-colors",children:[yt.key||"Attribute",": ",yt.value]},Qt))})]}),Tt.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-slate-600 mb-1",children:"Sales Messages:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:Tt.map((yt,Qt)=>e.jsx("button",{type:"button",onClick:()=>Kt(yt.value),className:"px-2 py-1 text-xs font-medium text-green-700 bg-green-50 border border-green-200 rounded hover:bg-green-100 transition-colors",children:yt.value},Qt))})]}),mt.length===0&&Tt.length===0&&e.jsx("div",{className:"text-xs text-slate-400",children:"No quick replies for this product"})]},V.id)})}):e.jsx("div",{className:"text-center py-4 text-xs text-slate-500",children:"Select a campaign to view product quick replies"})}),j==="all"&&e.jsx("div",{children:$s.length===0?e.jsx("div",{className:"text-center py-4 text-xs text-slate-500",children:"No products available"}):e.jsx("div",{className:"space-y-4 max-h-64 overflow-y-auto",children:$s.map(V=>{const Re=V.quickReplies||[],mt=Re.filter(yt=>yt.type==="attribute"),Tt=Re.filter(yt=>yt.type==="sales");return e.jsxs("div",{className:"p-3 border border-gray-200 rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(oa,{className:"w-4 h-4 text-indigo-600"}),e.jsx("span",{className:"text-sm font-semibold text-slate-900",children:V.name})]}),mt.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs font-medium text-slate-600 mb-1",children:"Attributes:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:mt.map((yt,Qt)=>e.jsxs("button",{type:"button",onClick:()=>Kt(`${yt.key||"Attribute"}: ${yt.value}`),className:"px-2 py-1 text-xs font-medium text-indigo-700 bg-indigo-50 border border-indigo-200 rounded hover:bg-indigo-100 transition-colors",children:[yt.key||"Attribute",": ",yt.value]},Qt))})]}),Tt.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-slate-600 mb-1",children:"Sales Messages:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:Tt.map((yt,Qt)=>e.jsx("button",{type:"button",onClick:()=>Kt(yt.value),className:"px-2 py-1 text-xs font-medium text-green-700 bg-green-50 border border-green-200 rounded hover:bg-green-100 transition-colors",children:yt.value},Qt))})]}),mt.length===0&&Tt.length===0&&e.jsx("div",{className:"text-xs text-slate-400",children:"No quick replies for this product"})]},V.id)})})})]})]}),he&&e.jsx("div",{className:"px-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:he,alt:"Preview",className:"max-h-[200px] max-w-[300px] rounded-lg object-contain"}),e.jsx("button",{type:"button",onClick:xe,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:e.jsx(Ye,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsx("form",{onSubmit:Zt,className:"space-y-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:F,type:"file",accept:"image/*",onChange:ae,className:"hidden"}),e.jsx(M,{type:"button",variant:"outline",size:"icon",onClick:()=>F.current?.click(),disabled:Q.isPending,title:"Attach image",children:e.jsx(Di,{className:"w-4 h-4"})}),e.jsx(me,{type:"text",placeholder:"Type a message...",value:c,onChange:Bi,className:"flex-1",disabled:Q.isPending}),e.jsx(M,{type:"submit",disabled:!c.trim()&&!de||Q.isPending,children:Q.isPending?"Sending...":e.jsxs(e.Fragment,{children:[e.jsx(Ow,{className:"w-4 h-4"}),"Send"]})})]})})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("div",{className:"text-slate-500",children:"Failed to load conversation"})}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Bs,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),e.jsx("p",{className:"text-slate-500",children:"Select a conversation to start chatting"})]})})})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs(X,{className:"w-full max-w-2xl shadow-lg max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs(oe,{className:"flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{children:ie()}),e.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{h(!1),R(null),L(1),q(null)},children:e.jsx(Ye,{className:"w-4 h-4"})})]}),S&&e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:Array.from({length:Ra},(V,Re)=>Re+1).map(V=>{const Re=V,mt=Re<_,Tt=Re===_;return e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:"flex items-center justify-center flex-1",children:e.jsx("div",{className:fe("w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all duration-300",mt?"bg-green-500 text-white":Tt?"bg-indigo-600 text-white ring-4 ring-indigo-200":"bg-gray-200 text-gray-600"),children:mt?e.jsx(As,{className:"w-4 h-4"}):Re})}),Re<Ra&&e.jsx("div",{className:fe("h-1 flex-1 mx-2 transition-all duration-300",mt?"bg-green-500":"bg-gray-200")})]},Re)})}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-indigo-600 h-full transition-all duration-300 ease-in-out",style:{width:`${_/Ra*100}%`}})})]})]}),e.jsxs(ee,{className:"flex-1 overflow-y-auto",children:[_===1&&!S&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Select the type of lead you want to create:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("button",{type:"button",onClick:()=>{R("sales"),L(2)},className:fe("p-6 border-2 rounded-lg text-left transition-all duration-200 hover:shadow-lg hover:scale-105","border-gray-200 hover:border-indigo-500 bg-white"),children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-3",children:e.jsx(Mw,{className:"w-6 h-6 text-indigo-600"})}),e.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Sales Lead"}),e.jsx("p",{className:"text-xs text-slate-600",children:"Create a lead for product sales"})]})}),e.jsx("button",{type:"button",onClick:()=>{R("connection"),L(2)},className:fe("p-6 border-2 rounded-lg text-left transition-all duration-200 hover:shadow-lg hover:scale-105","border-gray-200 hover:border-indigo-500 bg-white"),children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-3",children:e.jsx(Yt,{className:"w-6 h-6 text-indigo-600"})}),e.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Connection Lead"}),e.jsx("p",{className:"text-xs text-slate-600",children:"Create a lead for networking/partnerships"})]})}),e.jsx("button",{type:"button",onClick:()=>{R("research"),L(2)},className:fe("p-6 border-2 rounded-lg text-left transition-all duration-200 hover:shadow-lg hover:scale-105","border-gray-200 hover:border-indigo-500 bg-white"),children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mb-3",children:e.jsx(Sw,{className:"w-6 h-6 text-indigo-600"})}),e.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Research Lead"}),e.jsx("p",{className:"text-xs text-slate-600",children:"Create a lead for market research"})]})})]})]}),S==="sales"&&_===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Select a product for this sales lead:"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:Xe.map(V=>e.jsxs("button",{type:"button",onClick:()=>q(V.id),className:fe("p-4 border-2 rounded-lg text-left transition-all duration-200 hover:shadow-md",I===V.id?"border-indigo-500 bg-indigo-50 ring-2 ring-indigo-200":"border-gray-200 hover:border-indigo-300 bg-white"),children:[V.imageUrl&&e.jsx("img",{src:V.imageUrl,alt:V.name,className:"w-full h-24 object-cover rounded-md mb-2"}),!V.imageUrl&&e.jsx("div",{className:"w-full h-24 bg-gray-100 rounded-md mb-2 flex items-center justify-center",children:e.jsx(oa,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h4",{className:"font-medium text-slate-900 text-sm mb-1 truncate",children:V.name}),V.price&&e.jsxs("p",{className:"text-xs text-slate-600",children:["",parseFloat(V.price).toFixed(2)]}),I===V.id&&e.jsxs("div",{className:"mt-2 flex items-center text-indigo-600 text-xs",children:[e.jsx(As,{className:"w-4 h-4 mr-1"}),"Selected"]})]},V.id))}),Xe.length===0&&e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(oa,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),e.jsx("p",{children:"No products available"})]})]}),S==="sales"&&_===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"sales-customer-name",children:"Customer Name *"}),e.jsx(me,{id:"sales-customer-name",value:$.customerName,onChange:V=>H({...$,customerName:V.target.value}),placeholder:"Enter customer name",required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"sales-phone",children:"Phone *"}),e.jsx(me,{id:"sales-phone",type:"tel",value:$.phone,onChange:V=>H({...$,phone:V.target.value}),placeholder:"Enter phone number",required:!0})]})]}),S==="sales"&&_===4&&e.jsxs("form",{id:"sales-lead-form",onSubmit:nt,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"sales-lead-title",children:"Lead Title *"}),e.jsx(me,{id:"sales-lead-title",value:$.title,onChange:V=>H({...$,title:V.target.value}),placeholder:"Enter lead title",required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"sales-lead-category",children:"Category *"}),e.jsxs("select",{id:"sales-lead-category",value:$.categoryId,onChange:V=>H({...$,categoryId:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),Us.map(V=>e.jsx("option",{value:V.id,children:V.name},V.id))]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"sales-lead-interest",children:"Interest *"}),e.jsxs("select",{id:"sales-lead-interest",value:$.interestId,onChange:V=>H({...$,interestId:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select interest"}),An.map(V=>e.jsx("option",{value:V.id,children:V.name},V.id))]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"sales-lead-campaign",children:"Select Campaign *"}),e.jsxs("select",{id:"sales-lead-campaign",value:$.campaignId,onChange:V=>H({...$,campaignId:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select campaign"}),xa.map(V=>e.jsxs("option",{value:V.id,children:[V.name," - ",V.type.charAt(0).toUpperCase()+V.type.slice(1)]},V.id))]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"sales-lead-description",children:"Description"}),e.jsx("textarea",{id:"sales-lead-description",value:$.description,onChange:V=>H({...$,description:V.target.value}),placeholder:"Enter lead description",className:"w-full min-h-[100px] px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),I&&(()=>{const V=Xe.find(Re=>Re.id===I);if(V){const Re=parseFloat(V.purchasePrice)||0,mt=parseFloat(V.salePrice)||0,Tt=mt-Re;return e.jsxs("div",{className:"p-4 bg-indigo-50 border border-indigo-200 rounded-lg space-y-2",children:[e.jsx("h4",{className:"font-semibold text-slate-900 text-sm mb-3",children:"Product Pricing Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Product:"}),e.jsx("p",{className:"font-medium text-slate-900",children:V.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Purchase Price:"}),e.jsxs("p",{className:"font-medium text-slate-900",children:["",Re.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Sale Price:"}),e.jsxs("p",{className:"font-medium text-slate-900",children:["",mt.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600",children:"Profit:"}),e.jsxs("p",{className:fe("font-medium",Tt>0?"text-green-600":Tt<0?"text-red-600":"text-slate-600"),children:["",Tt.toFixed(2)]})]})]})]})}return null})()]}),S==="connection"&&_===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"connection-customer-name",children:"Customer Name *"}),e.jsx(me,{id:"connection-customer-name",value:$.customerName,onChange:V=>H({...$,customerName:V.target.value}),placeholder:"Enter customer name",required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"connection-phone",children:"Phone *"}),e.jsx(me,{id:"connection-phone",type:"tel",value:$.phone,onChange:V=>H({...$,phone:V.target.value}),placeholder:"Enter phone number",required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"connection-title",children:"Lead Title *"}),e.jsx(me,{id:"connection-title",value:$.title,onChange:V=>H({...$,title:V.target.value}),placeholder:"Enter lead title",required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"connection-description",children:"Description"}),e.jsx("textarea",{id:"connection-description",value:$.description,onChange:V=>H({...$,description:V.target.value}),placeholder:"Enter lead description",className:"w-full min-h-[100px] px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),S==="connection"&&_===3&&e.jsxs("form",{id:"connection-lead-form",onSubmit:nt,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"connection-category",children:"Category *"}),e.jsxs("select",{id:"connection-category",value:$.categoryId,onChange:V=>H({...$,categoryId:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),Us.map(V=>e.jsx("option",{value:V.id,children:V.name},V.id))]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"connection-interest",children:"Interest *"}),e.jsxs("select",{id:"connection-interest",value:$.interestId,onChange:V=>H({...$,interestId:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select interest"}),An.map(V=>e.jsx("option",{value:V.id,children:V.name},V.id))]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"connection-campaign",children:"Select Campaign *"}),e.jsxs("select",{id:"connection-campaign",value:$.campaignId,onChange:V=>H({...$,campaignId:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select campaign"}),xa.map(V=>e.jsxs("option",{value:V.id,children:[V.name," - ",V.type.charAt(0).toUpperCase()+V.type.slice(1)]},V.id))]})]})]}),S==="research"&&_===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"research-customer-name",children:"Customer Name *"}),e.jsx(me,{id:"research-customer-name",value:$.customerName,onChange:V=>H({...$,customerName:V.target.value}),placeholder:"Enter customer name",required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"research-phone",children:"Phone *"}),e.jsx(me,{id:"research-phone",type:"tel",value:$.phone,onChange:V=>H({...$,phone:V.target.value}),placeholder:"Enter phone number",required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"research-title",children:"Lead Title *"}),e.jsx(me,{id:"research-title",value:$.title,onChange:V=>H({...$,title:V.target.value}),placeholder:"Enter lead title",required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"research-description",children:"Description"}),e.jsx("textarea",{id:"research-description",value:$.description,onChange:V=>H({...$,description:V.target.value}),placeholder:"Enter lead description",className:"w-full min-h-[100px] px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),S==="research"&&_===3&&e.jsxs("form",{id:"research-lead-form",onSubmit:nt,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"research-category",children:"Category *"}),e.jsxs("select",{id:"research-category",value:$.categoryId,onChange:V=>H({...$,categoryId:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),Us.map(V=>e.jsx("option",{value:V.id,children:V.name},V.id))]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"research-interest",children:"Interest *"}),e.jsxs("select",{id:"research-interest",value:$.interestId,onChange:V=>H({...$,interestId:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select interest"}),An.map(V=>e.jsx("option",{value:V.id,children:V.name},V.id))]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"research-campaign",children:"Select Campaign *"}),e.jsxs("select",{id:"research-campaign",value:$.campaignId,onChange:V=>H({...$,campaignId:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select campaign"}),xa.map(V=>e.jsxs("option",{value:V.id,children:[V.name," - ",V.type.charAt(0).toUpperCase()+V.type.slice(1)]},V.id))]})]})]}),e.jsxs("div",{className:"flex gap-2 justify-between mt-6 pt-4 border-t border-gray-200",children:[e.jsx("div",{children:_>1&&e.jsxs(M,{type:"button",variant:"outline",onClick:()=>{_===2&&S?(R(null),L(1),q(null)):L(_-1)},children:[e.jsx(sm,{className:"w-4 h-4 mr-1"}),"Back"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>{h(!1),R(null),L(1),q(null)},children:"Cancel"}),_===1&&!S?null:_<Ra?e.jsxs(M,{type:"button",onClick:()=>{if(S==="sales"&&_===2){if(!I){alert("Please select a product");return}}else if(S==="sales"&&_===3){if(!$.customerName?.trim()||!$.phone?.trim()){alert("Please fill in all required fields");return}}else if((S==="connection"||S==="research")&&_===2&&(!$.customerName?.trim()||!$.phone?.trim()||!$.title?.trim())){alert("Please fill in all required fields");return}L(_+1)},children:["Next",e.jsx(Fc,{className:"w-4 h-4 ml-1"})]}):e.jsx(M,{type:"button",onClick:V=>{if(S==="sales"&&!I){alert("Please select a product");return}const Re=S==="sales"?"sales-lead-form":S==="connection"?"connection-lead-form":"research-lead-form",mt=document.getElementById(Re);mt?mt.requestSubmit():nt(V)},disabled:_e.isPending,children:_e.isPending?"Creating...":"Create Lead"})]})]})]})]})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs(X,{className:"w-full max-w-2xl shadow-lg max-h-[80vh] flex flex-col",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"w-5 h-5 text-orange-600"}),"Release History"]}),e.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{b(!1),N(null)},children:e.jsx(Ye,{className:"w-4 h-4"})})]})}),e.jsx(ee,{className:"flex-1 overflow-y-auto",children:bt?e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading release history..."}):ft.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(Jt,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),e.jsx("p",{children:"No release history found"})]}):e.jsx("div",{className:"space-y-3",children:ft.map(V=>{const mt=new Date(V.releasedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(is,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"font-medium text-slate-900",children:V.employee.user.name||V.employee.user.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Jt,{className:"w-4 h-4"}),e.jsx("span",{children:mt})]})]}),e.jsx("span",{className:"bg-orange-100 text-orange-700 text-xs font-medium rounded-full px-2 py-1",children:"Released"})]})},V.id)})})})]})}),P&&e.jsx(T5,{error:P,onClose:()=>U(null)})]})}const M5=Es({provider:wn(["facebook","whatsapp","chatwoot"]),pageId:Fe().min(1,"Page ID is required"),accessToken:Fe().min(1,"Access token is required"),accountId:Fe().optional(),baseUrl:Fe().optional(),isActive:Ur().optional()}),I5=Es({provider:Uc("chatwoot"),pageId:Fe().min(1,"Inbox ID is required"),accessToken:Fe().min(1,"API Access Token is required"),accountId:Fe().min(1,"Account ID is required"),baseUrl:Fe().optional(),isActive:Ur().optional(),webhookMode:wn(["local","live"]).optional(),isWebhookActive:Ur().optional()});function L5({integration:t,onSave:s}){const n=gt(),[i,o]=v.useState(!1),[c,u]=v.useState(null),[m,h]=v.useState(""),[f,p]=v.useState(!1),{register:y,handleSubmit:b,formState:{errors:w},reset:N}=Vs({resolver:Hs(I5),defaultValues:{provider:"chatwoot",pageId:t?.pageId||"",accessToken:t?.accessToken||"",accountId:t?.accountId||"",baseUrl:t?.baseUrl||"https://app.chatwoot.com",isActive:t?.isActive??!0,webhookMode:t?.webhookMode||"local",isWebhookActive:t?.isWebhookActive??!1}});v.useEffect(()=>{t&&N({provider:"chatwoot",pageId:t.pageId,accessToken:t.accessToken,accountId:t.accountId||"",baseUrl:t.baseUrl||"https://app.chatwoot.com",isActive:t.isActive??!0,webhookMode:t.webhookMode||"local",isWebhookActive:t.isWebhookActive??!1})},[t,N]),v.useEffect(()=>{(async()=>{if(t?.id)try{const R=await Xn.getChatwootWebhookUrl(t.id);h(R)}catch(R){console.error("Error fetching webhook URL:",R)}})()},[t?.id,t?.webhookMode]);const j=Te({mutationFn:S=>Xn.upsertIntegration(S),onSuccess:()=>{n.invalidateQueries({queryKey:["integrations"]}),s(),alert("Chatwoot integration saved successfully!")},onError:S=>{alert(S.message||"Failed to save integration")}}),C=Te({mutationFn:()=>Xn.syncChatwootConversations(t?.id),onSuccess:S=>{u(`Synced ${S.synced||0} conversations successfully!`),n.invalidateQueries({queryKey:["conversations"]}),setTimeout(()=>u(null),5e3)},onError:S=>{u(`Sync failed: ${S.message}`),setTimeout(()=>u(null),5e3)},onSettled:()=>{o(!1)}}),A=S=>{j.mutate(S)},E=()=>{if(!t?.id){alert("Please save the integration first before syncing");return}o(!0),u(null),C.mutate()};return e.jsxs("form",{onSubmit:b(A),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"chatwoot-baseUrl",className:"block text-sm font-medium text-slate-700 mb-2",children:"Chatwoot Base URL"}),e.jsx(me,{id:"chatwoot-baseUrl",type:"text",placeholder:"https://app.chatwoot.com",...y("baseUrl"),className:w.baseUrl?"border-red-500":""}),w.baseUrl&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:w.baseUrl.message}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Leave empty for Chatwoot Cloud. For self-hosted, enter your Chatwoot URL."})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"chatwoot-accountId",className:"block text-sm font-medium text-slate-700 mb-2",children:["Account ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(me,{id:"chatwoot-accountId",type:"text",placeholder:"Enter your Chatwoot Account ID",...y("accountId"),className:w.accountId?"border-red-500":""}),w.accountId&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:w.accountId.message}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Find your Account ID in Chatwoot Settings  Account Settings"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"chatwoot-pageId",className:"block text-sm font-medium text-slate-700 mb-2",children:["Inbox ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(me,{id:"chatwoot-pageId",type:"text",placeholder:"Enter your Chatwoot Inbox ID",...y("pageId"),className:w.pageId?"border-red-500":""}),w.pageId&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:w.pageId.message}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Find your Inbox ID in Chatwoot Settings  Inboxes"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"chatwoot-accessToken",className:"block text-sm font-medium text-slate-700 mb-2",children:["API Access Token ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(me,{id:"chatwoot-accessToken",type:"password",placeholder:"Enter your Chatwoot API Access Token",...y("accessToken"),className:w.accessToken?"border-red-500":""}),w.accessToken&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:w.accessToken.message}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Generate an API Access Token from Chatwoot Settings  API Tokens"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"chatwoot-isActive",...y("isActive"),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"chatwoot-isActive",className:"text-sm font-medium text-slate-700",children:"Active Integration"})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-md border border-purple-200 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-purple-900 mb-3",children:"Webhook Configuration"}),e.jsx("p",{className:"text-xs text-purple-700 mb-4",children:"Enable webhooks to automatically sync messages from Chatwoot in real-time"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Webhook Mode"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",value:"local",...y("webhookMode"),className:"w-4 h-4 text-purple-600 border-gray-300 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-slate-700",children:"Local Server"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",value:"live",...y("webhookMode"),className:"w-4 h-4 text-purple-600 border-gray-300 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-slate-700",children:"Live Server"})]})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Local: Use ngrok for development. Live: Use your production domain."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"chatwoot-isWebhookActive",...y("isWebhookActive"),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("label",{htmlFor:"chatwoot-isWebhookActive",className:"text-sm font-medium text-slate-700",children:"Enable Webhook (Live/Test Mode)"})]}),t?.id&&m&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Webhook URL"}),e.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Copy this URL and add it in Chatwoot Settings  Integrations  Webhooks"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(me,{value:m,readOnly:!0,className:"flex-1 bg-white font-mono text-sm"}),e.jsx(M,{type:"button",variant:"outline",onClick:async()=>{try{await navigator.clipboard.writeText(m),p(!0),setTimeout(()=>p(!1),2e3)}catch(S){console.error("Failed to copy:",S)}},className:"flex items-center gap-2",children:f?e.jsxs(e.Fragment,{children:[e.jsx(As,{className:"w-4 h-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Sc,{className:"w-4 h-4"}),"Copy"]})})]}),e.jsxs("p",{className:"text-xs text-purple-700 mt-2",children:["Subscribe to ",e.jsx("code",{className:"bg-purple-100 px-1 rounded",children:"message_created"})," event in Chatwoot"]})]}),t&&e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-purple-200",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"Webhook Status:"}),e.jsx("span",{className:fe("px-2 py-1 rounded-full text-xs font-medium",t.isWebhookActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:t.isWebhookActive?"Active":"Inactive"})]})]}),t?.id&&e.jsxs("div",{className:"p-4 bg-purple-50 rounded-md border border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-900",children:"Sync Conversations"}),e.jsx(M,{type:"button",onClick:E,disabled:i,variant:"outline",className:"border-purple-300 text-purple-700 hover:bg-purple-100",children:i?e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"w-4 h-4 animate-spin mr-2"}),"Syncing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Dw,{className:"w-4 h-4 mr-2"}),"Sync Now"]})})]}),c&&e.jsx("p",{className:fe("text-xs mt-2",c.includes("failed")?"text-red-600":"text-green-600"),children:c}),e.jsx("p",{className:"text-xs text-purple-700 mt-2",children:'Click "Sync Now" to fetch conversations from Chatwoot and display them in the inbox.'})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(M,{type:"submit",disabled:j.isPending,className:"min-w-[120px]",children:j.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):"Save Integration"})}),t&&e.jsx("div",{className:"p-4 bg-purple-50 rounded-md border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Integration Status"}),e.jsxs("p",{className:"text-xs text-purple-700 mt-1",children:[t.isActive?"Active":"Inactive","  Last updated:"," ",t.updatedAt?new Date(t.updatedAt).toLocaleDateString():"N/A"]})]}),e.jsx("span",{className:fe("px-3 py-1 rounded-full text-xs font-medium",t.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:t.isActive?"Active":"Inactive"})]})})]})}function P5(){const{hasPermission:t}=We(),s=St(),n=gt(),[i,o]=v.useState("integrations"),[c,u]=v.useState(!1),[m,h]=v.useState(""),[f,p]=v.useState("checking"),[y,b]=v.useState("checking");v.useEffect(()=>{t("can_manage_integrations")||s("/dashboard")},[t,s]);const{data:w=[]}=we({queryKey:["integrations"],queryFn:()=>Xn.getIntegrations()}),N=w.find(H=>H.provider==="facebook"),j=w.find(H=>H.provider==="chatwoot"),C=w.find(H=>H.isActive),{register:A,handleSubmit:E,formState:{errors:S},reset:R}=Vs({resolver:Hs(M5),defaultValues:{provider:"facebook",pageId:N?.pageId||"",accessToken:N?.accessToken||"",isActive:N?.isActive??!0}});v.useEffect(()=>{N&&R({provider:"facebook",pageId:N.pageId,accessToken:N.accessToken,isActive:N.isActive})},[N,R]);const _=async()=>{if(!N?.pageId||!N?.accessToken){b("error");return}b("checking");try{const H=await Z.get("/utils/check-subscription",{params:{pageId:N.pageId,accessToken:N.accessToken}});H.data.success&&H.data.data.isSubscribed?b("subscribed"):b("not_subscribed")}catch(H){console.error("Error checking subscription:",H),b("error")}},L=Te({mutationFn:async()=>{if(!N?.pageId||!N?.accessToken)throw new Error("Page ID and Access Token are required");return(await Z.post("/utils/subscribe-page",{pageId:N.pageId,accessToken:N.accessToken})).data},onSuccess:()=>{alert("Page subscribed successfully! Messages should now start coming."),_()},onError:H=>{alert(H.response?.data?.message||"Failed to subscribe page")}});v.useEffect(()=>{N?.pageId&&N?.accessToken&&_()},[N?.pageId,N?.accessToken]),v.useEffect(()=>{const H=async()=>{try{const he=await fetch("https://api.paaera.com/api/utils/ngrok-url");if(he.ok){const O=await he.json();if(O.success&&O.data?.available&&O.data?.webhookUrl){h(O.data.webhookUrl),p("available");return}}p("unavailable")}catch{p("unavailable")}let F="https://api.paaera.com/api";F||(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?F="http://localhost:5001":F=window.location.origin.replace(window.location.port,"5001")),F.endsWith("/api")&&(F=F.slice(0,-4));const de=`${F}/api/webhooks/facebook`;h(de)};H();const G=setInterval(()=>{H()},5e3);return()=>clearInterval(G)},[]);const I=Te({mutationFn:H=>Xn.upsertIntegration(H),onSuccess:(H,G)=>{n.invalidateQueries({queryKey:["integrations"]}),n.invalidateQueries({queryKey:["conversations"]});const F=C&&C.provider!==G.provider&&G.isActive?"Integration saved successfully! Other integrations have been disabled.":"Integration saved successfully!";alert(F)},onError:H=>{alert(H.message||"Failed to save integration")}}),q=H=>{H.isActive&&C&&C.provider!==H.provider&&!confirm(`Enabling ${H.provider} will disable the currently active ${C.provider} integration. Continue?`)||I.mutate(H)},$=async()=>{try{await navigator.clipboard.writeText(m),u(!0),setTimeout(()=>u(!1),2e3)}catch(H){console.error("Failed to copy:",H)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Settings"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Manage your application settings and integrations"})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx("button",{onClick:()=>o("integrations"),className:fe("py-4 px-1 border-b-2 font-medium text-sm transition-colors",i==="integrations"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"),children:"Integrations"}),e.jsx("button",{onClick:()=>o("general"),className:fe("py-4 px-1 border-b-2 font-medium text-sm transition-colors",i==="general"?"border-indigo-600 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"),children:"General"})]})}),i==="integrations"&&e.jsxs("div",{className:"space-y-6",children:[C&&e.jsx("div",{className:"p-4 bg-indigo-50 rounded-md border border-indigo-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsxs("p",{className:"text-sm font-medium text-indigo-900",children:["Active Integration: ",e.jsx("span",{className:"capitalize",children:C.provider})]})]}),e.jsx("p",{className:"text-xs text-indigo-700",children:"Only one integration can be active at a time"})]})}),e.jsxs(X,{className:fe("shadow-sm border-gray-200",N?.isActive&&"border-indigo-300 ring-2 ring-indigo-100"),children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(vp,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx(ce,{children:"Facebook Integration"}),e.jsx(Qe,{children:"Connect your Facebook page to receive messages in the inbox"})]})]})}),e.jsxs(ee,{children:[e.jsxs("form",{onSubmit:E(q),className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-md border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Webhook URL"}),e.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Use this URL when configuring your Facebook app webhook settings"}),window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?e.jsx("div",{className:"mb-3 p-3 rounded-md bg-yellow-50 border border-yellow-200",children:f==="available"?e.jsx("p",{className:"text-xs text-green-700",children:" ngrok is running - Using public URL for Facebook webhook"}):f==="unavailable"?e.jsxs("div",{className:"text-xs text-yellow-700",children:[e.jsx("p",{className:"font-medium mb-1",children:" ngrok not detected"}),e.jsx("p",{className:"mb-2",children:"For local testing, start ngrok:"}),e.jsx("code",{className:"block bg-white p-2 rounded border text-xs mb-2",children:"ngrok http 5001"}),e.jsx("p",{className:"text-xs",children:"If ngrok is not authenticated, run:"}),e.jsx("code",{className:"block bg-white p-2 rounded border text-xs",children:"ngrok config add-authtoken YOUR_TOKEN"}),e.jsxs("p",{className:"text-xs mt-2 text-slate-600",children:["Get your token from: ",e.jsx("a",{href:"https://dashboard.ngrok.com/get-started/your-authtoken",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 underline",children:"ngrok dashboard"})]})]}):e.jsx("p",{className:"text-xs text-slate-600",children:" Checking for ngrok..."})}):null,e.jsxs("div",{className:"flex gap-2",children:[e.jsx(me,{value:m,readOnly:!0,className:"flex-1 bg-white font-mono text-sm"}),e.jsx(M,{type:"button",variant:"outline",onClick:$,className:"flex items-center gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx(As,{className:"w-4 h-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Sc,{className:"w-4 h-4"}),"Copy"]})})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Copy this URL and paste it in your Facebook App  Webhooks  Callback URL"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pageId",className:"block text-sm font-medium text-slate-700 mb-2",children:"Facebook Page ID"}),e.jsx(me,{id:"pageId",type:"text",placeholder:"Enter your Facebook Page ID",...A("pageId"),className:S.pageId?"border-red-500":""}),S.pageId&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:S.pageId.message}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Find your Page ID in Facebook Page Settings  About"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"accessToken",className:"block text-sm font-medium text-slate-700 mb-2",children:"Access Token"}),e.jsx(me,{id:"accessToken",type:"password",placeholder:"Enter your Facebook Access Token",...A("accessToken"),className:S.accessToken?"border-red-500":""}),S.accessToken&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:S.accessToken.message}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Generate a Page Access Token from Facebook Graph API Explorer"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"isActive",...A("isActive"),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-slate-700",children:"Active Integration"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(M,{type:"submit",disabled:I.isPending,className:"min-w-[120px]",children:I.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):"Save Integration"})})]}),N&&e.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-md border border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Webhook Subscription Status"}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Check if your Facebook Page is subscribed to receive messages"})]}),e.jsx(M,{type:"button",variant:"outline",size:"sm",onClick:_,disabled:y==="checking",children:y==="checking"?e.jsx(Is,{className:"w-4 h-4 animate-spin"}):e.jsx(Dw,{className:"w-4 h-4"})})]}),y==="checking"&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(Is,{className:"w-4 h-4 animate-spin"}),"Checking subscription status..."]}),y==="subscribed"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[e.jsx(As,{className:"w-4 h-4"}),e.jsx("span",{children:"Page is subscribed to webhook"})]}),e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Subscribed"})]}),y==="not_subscribed"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-700",children:[e.jsx(wc,{className:"w-4 h-4"}),e.jsx("span",{children:"Page is NOT subscribed to webhook"})]}),e.jsx("p",{className:"text-xs text-slate-600",children:"Your Page needs to be subscribed to receive messages. Click the button below to subscribe automatically."}),e.jsx(M,{type:"button",onClick:()=>L.mutate(),disabled:L.isPending,className:"w-full",children:L.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"w-4 h-4 animate-spin mr-2"}),"Subscribing..."]}):"Subscribe Page to Webhook"})]}),y==="error"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-2 text-sm text-red-700",children:[e.jsx(wc,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium mb-1",children:"Error checking subscription"}),e.jsx("p",{className:"text-xs text-red-600",children:"This usually means your Access Token is missing required permissions or has expired."})]})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-3 text-xs text-red-800",children:[e.jsx("p",{className:"font-medium mb-2",children:"How to fix:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[e.jsxs("li",{children:["Go to ",e.jsx("a",{href:"https://developers.facebook.com/tools/explorer/",target:"_blank",rel:"noopener noreferrer",className:"text-red-600 underline",children:"Graph API Explorer"})]}),e.jsx("li",{children:"Select your App and get a User Access Token"}),e.jsxs("li",{children:["Request these permissions:",e.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1",children:[e.jsx("li",{children:e.jsx("code",{className:"bg-red-100 px-1 rounded",children:"pages_manage_metadata"})}),e.jsx("li",{children:e.jsx("code",{className:"bg-red-100 px-1 rounded",children:"pages_messaging"})}),e.jsx("li",{children:e.jsx("code",{className:"bg-red-100 px-1 rounded",children:"pages_read_engagement"})})]})]}),e.jsx("li",{children:"Generate a Page Access Token (long-lived)"}),e.jsx("li",{children:"Update the Access Token in this form and save"})]}),e.jsxs("p",{className:"mt-2 text-red-700",children:[e.jsx("strong",{children:"Note:"})," The token must have ",e.jsx("code",{className:"bg-red-100 px-1 rounded",children:"pages_manage_metadata"})," permission to check subscription status."]})]})]})]}),N&&e.jsx("div",{className:"mt-4 p-4 bg-indigo-50 rounded-md border border-indigo-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-indigo-900",children:"Integration Status"}),e.jsxs("p",{className:"text-xs text-indigo-700 mt-1",children:[N.isActive?"Active":"Inactive","  Last updated:"," ",new Date(N.updatedAt).toLocaleDateString()]})]}),e.jsx("span",{className:fe("px-3 py-1 rounded-full text-xs font-medium",N.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:N.isActive?"Active":"Inactive"})]})})]})]}),e.jsxs(X,{className:fe("shadow-sm border-gray-200",j?.isActive&&"border-purple-300 ring-2 ring-purple-100"),children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(Bs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx(ce,{children:"Chatwoot Integration"}),e.jsx(Qe,{children:"Connect your Chatwoot account to receive messages in the inbox"})]})]})}),e.jsx(ee,{children:e.jsx(L5,{integration:j?{...j,accountId:j.accountId||void 0,baseUrl:j.baseUrl||void 0,webhookMode:j.webhookMode||void 0,isWebhookActive:j.isWebhookActive??void 0}:void 0,onSave:()=>{n.invalidateQueries({queryKey:["integrations"]})}})})]})]}),i==="general"&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"General Settings"}),e.jsx(Qe,{children:"Manage your general application settings"})]}),e.jsx(ee,{children:e.jsx("p",{className:"text-slate-500",children:"General settings coming soon..."})})]})]})}function U5(){const{user:t}=We(),[s,n]=v.useState([]),[i,o]=v.useState(!0),[c,u]=v.useState("");v.useEffect(()=>{m()},[]);const m=async()=>{try{o(!0);const f=await Sp.getAll();f.data.success&&n(f.data.data||[])}catch(f){console.error("Failed to load companies:",f)}finally{o(!1)}},h=s.filter(f=>f.name.toLowerCase().includes(c.toLowerCase()));return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Companies"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Manage your companies"})]}),e.jsxs(M,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Add Company"]})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),e.jsx(me,{placeholder:"Search companies...",value:c,onChange:f=>u(f.target.value),className:"pl-10"})]})})}),e.jsxs(ee,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(f=>e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($a,{className:"w-8 h-8 text-indigo-600"}),e.jsxs("div",{children:[e.jsx(ce,{className:"text-lg",children:f.name}),f.industry&&e.jsx("p",{className:"text-sm text-slate-500",children:f.industry})]})]})})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-2 text-sm",children:[f.email&&e.jsxs("p",{className:"text-slate-600",children:[" ",f.email]}),f.phone&&e.jsxs("p",{className:"text-slate-600",children:[" ",f.phone]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(M,{variant:"outline",size:"sm",children:e.jsx($t,{className:"w-4 h-4"})}),e.jsx(M,{variant:"outline",size:"sm",children:e.jsx(Ls,{className:"w-4 h-4"})})]})]})})]},f.id))}),h.length===0&&e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No companies found"})]})]})]})}function Bw({value:t,onChange:s,placeholder:n="Enter code or text...",language:i="plaintext",rows:o=12}){const c=v.useRef(null),u=m=>{s(m.target.value)};return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(BT,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Job Responsibilities & Duties"}),i!=="plaintext"&&e.jsx("span",{className:"text-xs px-2 py-1 bg-slate-100 text-slate-600 rounded",children:i})]}),e.jsx("div",{className:"border border-gray-300 rounded-lg overflow-hidden shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:border-indigo-500",children:e.jsx("textarea",{ref:c,value:t,onChange:u,placeholder:n,rows:o,className:"w-full px-4 py-3 font-mono text-sm bg-slate-50 focus:bg-white focus:outline-none resize-y border-0",style:{fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',lineHeight:"1.6"}})}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Describe the employee's responsibilities, duties, and what they will do in the company"})]})}const _l=[{id:1,title:"Basic Information",icon:is},{id:2,title:"Personal Details",icon:bp},{id:3,title:"Role & Company",icon:Fr},{id:4,title:"Employee Details",icon:Pi},{id:5,title:"Additional Info",icon:Di}];function F5({isOpen:t,onClose:s}){const{user:n}=We(),i=n?.roleName==="SuperAdmin",o=gt(),[c,u]=v.useState(1),[m,h]=v.useState({name:"",email:"",password:"",confirmPassword:"",phone:"",address:"",education:"",roleId:0,companyId:n?.companyId||0,designation:"",department:"",salary:"",workHours:"",holidays:"",bonus:"",profileImage:"",eSignature:"",responsibilities:""}),[f,p]=v.useState(null),[y,b]=v.useState({}),{data:w}=we({queryKey:["roles"],queryFn:async()=>(await Fu.getAll()).data.data||[],enabled:t}),{data:N}=we({queryKey:["companies"],queryFn:async()=>(await Sp.getAll()).data.data||[],enabled:i&&t}),j=w||[],C=N||[],A=G=>{const F={};return G===1&&(m.name.trim()||(F.name="Name is required"),m.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(F.email="Invalid email address"):F.email="Email is required",m.password?m.password.length<6&&(F.password="Password must be at least 6 characters"):F.password="Password is required",m.password!==m.confirmPassword&&(F.confirmPassword="Passwords do not match")),G===3&&i&&((!m.roleId||m.roleId===0)&&(F.roleId="Role is required"),(!m.companyId||m.companyId===0)&&(F.companyId="Company is required")),b(F),Object.keys(F).length===0},E=()=>{A(c)&&c<_l.length&&u(c+1)},S=()=>{c>1&&u(c-1)},R=(G,F=800,de=.8)=>new Promise((z,he)=>{const O=new FileReader;O.onload=P=>{const U=new Image;U.onload=()=>{const pe=document.createElement("canvas");let Ne=U.width,B=U.height;Ne>F&&(B=B*F/Ne,Ne=F),pe.width=Ne,pe.height=B;const te=pe.getContext("2d");if(!te){he(new Error("Could not get canvas context"));return}te.drawImage(U,0,0,Ne,B);const T=pe.toDataURL("image/jpeg",de);z(T)},U.onerror=he,U.src=P.target?.result},O.onerror=he,O.readAsDataURL(G)}),_=async G=>{const F=G.target.files?.[0];if(F)try{const de=await R(F,800,.8);p(de),h({...m,profileImage:de})}catch(de){console.error("Error compressing image:",de);const z=new FileReader;z.onloadend=()=>{p(z.result),h({...m,profileImage:z.result})},z.readAsDataURL(F)}},L=G=>{h({...m,eSignature:G})},I=Te({mutationFn:async G=>{let F=G.roleId,de=G.companyId;i||(de=n?.companyId||0,F=j.find(pe=>pe.name!=="Client"&&pe.name!=="SuperAdmin")?.id||2);const z={email:G.email,password:G.password,name:G.name||null,phone:G.phone||null,address:G.address||null,education:G.education||null,roleId:F,companyId:de,profileImage:G.profileImage||null,eSignature:G.eSignature||null},O=(await pn.create(z)).data.data.id,P={designation:G.designation||null,department:G.department||null,salary:G.salary?parseFloat(G.salary):null,workHours:G.workHours?parseFloat(G.workHours):null,holidays:G.holidays?parseInt(G.holidays):null,bonus:G.bonus?parseFloat(G.bonus):null,responsibilities:G.responsibilities||null};return await pn.update(O,P),{userId:O}},onSuccess:()=>{o.invalidateQueries({queryKey:["all-users"]}),o.invalidateQueries({queryKey:["employees"]}),$(),alert("Employee created successfully!")},onError:G=>{alert(G.response?.data?.message||"Failed to create employee")}}),q=()=>{A(c)&&I.mutate(m)},$=()=>{u(1),h({name:"",email:"",password:"",confirmPassword:"",phone:"",address:"",education:"",roleId:0,companyId:n?.companyId||0,designation:"",department:"",salary:"",workHours:"",holidays:"",bonus:"",profileImage:"",eSignature:"",responsibilities:""}),p(null),b({}),s()};if(!t)return null;const H=()=>{switch(c){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"name",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"name",value:m.name,onChange:G=>h({...m,name:G.target.value}),className:`pl-10 ${y.name?"border-red-500":""}`,placeholder:"Enter full name"})]}),y.name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:y.name})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"email",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"email",type:"email",value:m.email,onChange:G=>h({...m,email:G.target.value}),className:`pl-10 ${y.email?"border-red-500":""}`,placeholder:"Enter email address"})]}),y.email&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:y.email})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"password",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"password",type:"password",value:m.password,onChange:G=>h({...m,password:G.target.value}),className:`pl-10 ${y.password?"border-red-500":""}`,placeholder:"Enter password (min 6 characters)"})]}),y.password&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:y.password})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"confirmPassword",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Cc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:G=>h({...m,confirmPassword:G.target.value}),className:`pl-10 ${y.confirmPassword?"border-red-500":""}`,placeholder:"Confirm password"})]}),y.confirmPassword&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:y.confirmPassword})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"phone",children:"Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx(ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"phone",type:"tel",value:m.phone,onChange:G=>h({...m,phone:G.target.value}),className:"pl-10",placeholder:"Enter phone number"})]})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"address",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(bp,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),e.jsx("textarea",{id:"address",value:m.address,onChange:G=>h({...m,address:G.target.value}),rows:3,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter address"})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"education",children:"Education"}),e.jsxs("div",{className:"relative",children:[e.jsx(KT,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),e.jsx("textarea",{id:"education",value:m.education,onChange:G=>h({...m,education:G.target.value}),rows:4,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter education details"})]})]})]});case 3:return e.jsx("div",{className:"space-y-4",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"roleId",children:"Role *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsxs("select",{id:"roleId",value:m.roleId,onChange:G=>h({...m,roleId:parseInt(G.target.value)}),className:`w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-white ${y.roleId?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:0,children:"Select a role"}),j.filter(G=>G.name!=="Client").map(G=>e.jsx("option",{value:G.id,children:G.name},G.id))]})]}),y.roleId&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:y.roleId})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"companyId",children:"Company *"}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsxs("select",{id:"companyId",value:m.companyId,onChange:G=>h({...m,companyId:parseInt(G.target.value)}),className:`w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-white ${y.companyId?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:0,children:"Select a company"}),C.map(G=>e.jsx("option",{value:G.id,children:G.name},G.id))]})]}),y.companyId&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:y.companyId})]})]}):e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(Fr,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),e.jsx("p",{children:"Employee will be assigned to your current company with default employee role."})]})});case 4:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"designation",children:"Designation"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"designation",value:m.designation,onChange:G=>h({...m,designation:G.target.value}),className:"pl-10",placeholder:"e.g., Senior Developer, Marketing Manager"})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"department",children:"Department"}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"department",value:m.department,onChange:G=>h({...m,department:G.target.value}),className:"pl-10",placeholder:"e.g., Engineering, Marketing, Sales"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"salary",children:"Salary"}),e.jsxs("div",{className:"relative",children:[e.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"salary",type:"number",step:"0.01",min:"0",value:m.salary,onChange:G=>h({...m,salary:G.target.value}),className:"pl-10",placeholder:"Annual salary"})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"workHours",children:"Work Hours (per week)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"workHours",type:"number",step:"0.5",min:"0",max:"168",value:m.workHours,onChange:G=>h({...m,workHours:G.target.value}),className:"pl-10",placeholder:"e.g., 40"})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"holidays",children:"Holidays (per year)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"holidays",type:"number",min:"0",value:m.holidays,onChange:G=>h({...m,holidays:G.target.value}),className:"pl-10",placeholder:"e.g., 20"})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"bonus",children:"Bonus"}),e.jsxs("div",{className:"relative",children:[e.jsx($T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{id:"bonus",type:"number",step:"0.01",min:"0",value:m.bonus,onChange:G=>h({...m,bonus:G.target.value}),className:"pl-10",placeholder:"Bonus amount"})]})]})]})]});case 5:return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"profileImage",children:"Profile Image"}),e.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[f?e.jsx("img",{src:f,alt:"Profile preview",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-200 flex items-center justify-center",children:e.jsx(Di,{className:"w-8 h-8 text-slate-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(me,{id:"profileImage",type:"file",accept:"image/*",onChange:_,className:"cursor-pointer"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Upload a profile image (JPG, PNG, etc.)"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"E-Signature"}),e.jsx("div",{className:"mt-2 border border-gray-300 rounded-lg p-4 bg-slate-50",children:e.jsx(Cp,{onSignatureChange:L})})]}),e.jsx("div",{children:e.jsx(Bw,{value:m.responsibilities,onChange:G=>h({...m,responsibilities:G}),placeholder:"Describe the employee's responsibilities, duties, and what they will do in the company...",language:"markdown",rows:10})})]});default:return null}};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:e.jsxs(X,{className:"w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col shadow-xl border-gray-200",children:[e.jsxs(oe,{className:"border-b border-gray-200 bg-slate-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ce,{className:"text-2xl",children:"Add New Employee"}),e.jsxs(Qe,{className:"mt-1",children:["Step ",c," of ",_l.length,": ",_l[c-1].title]})]}),e.jsx(M,{variant:"ghost",size:"sm",onClick:$,children:e.jsx(Ye,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex items-center justify-between mt-6",children:_l.map((G,F)=>{const de=G.icon,z=c===G.id,he=c>G.id;return e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-colors ${z?"bg-indigo-600 border-indigo-600 text-white":he?"bg-green-500 border-green-500 text-white":"bg-white border-gray-300 text-gray-400"}`,children:he?e.jsx(As,{className:"w-5 h-5"}):e.jsx(de,{className:"w-5 h-5"})}),e.jsx("span",{className:`text-xs mt-2 text-center ${z?"text-indigo-600 font-medium":"text-slate-500"}`,children:G.title})]}),F<_l.length-1&&e.jsx("div",{className:`h-0.5 flex-1 mx-2 mt-[-20px] ${he?"bg-green-500":"bg-gray-300"}`})]},G.id)})})]}),e.jsx(ee,{className:"flex-1 overflow-y-auto p-6",children:H()}),e.jsxs("div",{className:"border-t border-gray-200 p-4 bg-slate-50 flex justify-between",children:[e.jsxs(M,{variant:"outline",onClick:S,disabled:c===1||I.isPending,children:[e.jsx(sm,{className:"w-4 h-4 mr-2"}),"Previous"]}),c<_l.length?e.jsxs(M,{onClick:E,disabled:I.isPending,children:["Next",e.jsx(Fc,{className:"w-4 h-4 ml-2"})]}):e.jsx(M,{onClick:q,disabled:I.isPending,children:I.isPending?"Creating...":e.jsxs(e.Fragment,{children:[e.jsx(As,{className:"w-4 h-4 mr-2"}),"Create Employee"]})})]})]})})}const q5=(t,s)=>{if(s){const i=s.trim().split(" ");return i.length>=2?(i[0][0]+i[i.length-1][0]).toUpperCase():s.substring(0,2).toUpperCase()}if(!t)return"?";const n=t.split("@")[0].split(/[._-]/);return n.length>=2?(n[0][0]+n[1][0]).toUpperCase():t.substring(0,2).toUpperCase()},z5=t=>{const s=["bg-indigo-500","bg-blue-500","bg-purple-500","bg-pink-500","bg-red-500","bg-orange-500","bg-yellow-500","bg-green-500","bg-teal-500","bg-cyan-500"],n=t.charCodeAt(0)%s.length;return s[n]};function B5(){const{user:t}=We(),s=St(),n=t?.roleName==="SuperAdmin",[i,o]=v.useState(!1),{data:c,isLoading:u}=we({queryKey:["all-users",n],queryFn:async()=>{if(n){const y=await pn.getAll();if(!y.data.success)throw new Error(y.data.message||"Failed to fetch users");return(y.data.data||[]).filter(w=>(w.role?.name||"")!=="Client"&&w.employee&&w.employee.id)}return[]},enabled:n}),{data:m,isLoading:h}=we({queryKey:["employees",t?.companyId],queryFn:async()=>!t?.companyId||n?null:(await nm.getAll(t.companyId)).data.data||[],enabled:!n&&!!t?.companyId}),f=n?u:h,p=n?(c||[]).map(y=>({...y,id:y.id,email:y.email,roleName:y.role.name,companyName:y.company.name,designation:y.employee?.designation||null,department:y.employee?.department||null,salary:y.employee?.salary||null,profileImage:y.profileImage})):(m||[]).map(y=>{const b=y.user;return{id:b?.id||y.id,email:b?.email||"N/A",roleName:b?.role?.name||"Employee",companyName:t?.companyId?"Current Company":"N/A",designation:y.designation||null,department:y.department||null,salary:y.salary||null,profileImage:b?.profileImage,role:b?.role||{id:0,name:"Employee",permissions:{}},company:{id:t?.companyId||0,name:"Current Company"},roleId:b?.roleId||0,companyId:t?.companyId||0,employee:{id:y.id,designation:y.designation,department:y.department,salary:y.salary,joinDate:y.joinDate}}});return f?e.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:n?"All Users":"Employees"}),e.jsx("p",{className:"text-slate-600 mt-1",children:n?"View all users and their roles (excluding clients)":"Manage your team"})]}),e.jsxs(M,{onClick:()=>o(!0),children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Add Employee"]})]}),e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsx(ee,{className:"p-0",children:p.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:n?"No users found (excluding clients)":"No employees found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Role"}),n&&e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Company"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Designation"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Salary"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(y=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[y.profileImage?e.jsx("img",{src:y.profileImage,alt:y.email,className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:`w-10 h-10 rounded-full ${z5(y.email)} flex items-center justify-center text-white font-semibold text-sm`,children:q5(y.email,y.name)}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-medium text-slate-900",children:y.email})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-indigo-100 text-indigo-800",children:y.roleName})}),n&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx($a,{className:"w-4 h-4"}),e.jsx("span",{children:y.companyName})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:y.designation||e.jsx("span",{className:"text-slate-400",children:""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:y.department||e.jsx("span",{className:"text-slate-400",children:""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:y.salary?e.jsxs("span",{className:"font-medium",children:["",Number(y.salary).toLocaleString()]}):e.jsx("span",{className:"text-slate-400",children:""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>s(`/employees/${y.id}`),className:"h-8 px-3",children:[e.jsx(la,{className:"w-4 h-4 mr-1"}),"View"]}),n&&e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>s(`/employees/${y.id}?edit=true`),className:"h-8 px-3",children:[e.jsx($t,{className:"w-4 h-4 mr-1"}),"Edit"]})]})})]},y.id))})]})})})}),e.jsx(F5,{isOpen:i,onClose:()=>o(!1)})]})}function Vw({companyId:t,selectedEmployeeIds:s,onSelectionChange:n,isSuperAdmin:i=!1}){const{user:o}=We(),[c,u]=v.useState(""),[m,h]=v.useState("");v.useEffect(()=>{const E=setTimeout(()=>{h(c)},300);return()=>clearTimeout(E)},[c]);const{data:f,isLoading:p}=we({queryKey:["employees-selector",t,i,m],queryFn:async()=>{if(i){const E=await pn.getAll();if(!E.data.success)throw new Error(E.data.message||"Failed to fetch users");const R=(E.data.data||[]).filter(L=>L.role?.name!=="Client"),_=[];for(const L of R)L.employee&&L.employee.id&&_.push({id:L.employee.id,userId:L.id,designation:L.employee.designation||null,department:L.employee.department||null,user:{id:L.id,email:L.email,name:L.name||null,company:L.company||null},email:L.email,name:L.name||null,companyName:L.company?.name||null,company:L.company||null});if(m.trim()){const L=m.toLowerCase();return _.filter(I=>{const q=I.name||I.user?.name||"",$=I.email||I.user?.email||"",H=I.designation||"",G=I.department||"";return q.toLowerCase().includes(L)||$.toLowerCase().includes(L)||H.toLowerCase().includes(L)||G.toLowerCase().includes(L)})}return _}else{if(!t)return[];const E=await nm.getAll(t);if(!E.data.success)throw new Error(E.data.message||"Failed to fetch employees");const S=E.data.data||[];if(m.trim()){const R=m.toLowerCase();return S.filter(_=>{const L=_.user?.name||"",I=_.user?.email||"",q=_.designation||"",$=_.department||"";return L.toLowerCase().includes(R)||I.toLowerCase().includes(R)||q.toLowerCase().includes(R)||$.toLowerCase().includes(R)})}return S}},enabled:!0}),y=f||[],b=v.useMemo(()=>y.filter(E=>s.includes(E.id)),[y,s]),w=E=>{s.includes(E)?n(s.filter(S=>S!==E)):n([...s,E])},N=E=>{n(s.filter(S=>S!==E))},j=E=>E.name||E.user?.name||E.email||E.user?.email||"Unknown",C=E=>E.email||E.user?.email||"",A=E=>E.companyName||E.company?.name||E.user?.company?.name||"";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{type:"text",placeholder:"Search employees by name, email, designation...",value:c,onChange:E=>u(E.target.value),className:"pl-10"})]}),s.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm font-medium text-slate-700",children:["Selected Employees (",s.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(E=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-100 text-indigo-700 rounded-md text-sm",children:[e.jsx(is,{className:"w-3 h-3"}),e.jsx("span",{children:j(E)}),i&&A(E)&&e.jsx("span",{className:"text-xs bg-indigo-200 px-1.5 py-0.5 rounded",children:A(E)}),e.jsx("button",{type:"button",onClick:()=>N(E.id),className:"ml-1 hover:text-indigo-900",children:e.jsx(Ye,{className:"w-3 h-3"})})]},E.id))})]}),(m.trim()||y.length>0)&&e.jsx("div",{className:"border border-gray-200 rounded-md max-h-64 overflow-y-auto",children:p?e.jsx("div",{className:"p-4 text-center text-sm text-slate-500",children:"Loading employees..."}):y.length===0?e.jsx("div",{className:"p-4 text-center text-sm text-slate-500",children:m.trim()?`No employees found for "${m}"`:"No employees available"}):e.jsx("div",{className:"divide-y divide-gray-200",children:y.map(E=>{const S=s.includes(E.id);return e.jsx("button",{type:"button",onClick:()=>w(E.id),className:fe("w-full flex items-center justify-between p-3 hover:bg-gray-50 transition-colors",S&&"bg-indigo-50"),children:e.jsxs("div",{className:"flex items-center gap-3 flex-1 text-left",children:[e.jsx("div",{className:fe("w-5 h-5 border-2 rounded flex items-center justify-center flex-shrink-0",S?"border-indigo-600 bg-indigo-600":"border-gray-300"),children:S&&e.jsx(As,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-slate-900 truncate",children:j(E)}),e.jsx("div",{className:"text-xs text-slate-500 truncate",children:C(E)}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[E.designation&&e.jsx("span",{className:"text-xs text-slate-400",children:E.designation}),E.department&&e.jsxs(e.Fragment,{children:[E.designation&&e.jsx("span",{className:"text-xs text-slate-300",children:""}),e.jsx("span",{className:"text-xs text-slate-400",children:E.department})]}),i&&A(E)&&e.jsxs(e.Fragment,{children:[(E.designation||E.department)&&e.jsx("span",{className:"text-xs text-slate-300",children:""}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[e.jsx($a,{className:"w-3 h-3"}),e.jsx("span",{children:A(E)})]})]})]})]})]})},E.id)})})}),!m.trim()&&s.length===0&&y.length===0&&e.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:i?"Type to search for employees across all companies":"Type to search for employees in your company"})]})}function V5({group:t,onClose:s,onSuccess:n}){const{user:i}=We(),o=gt(),c=!!t,[u,m]=v.useState({name:t?.name||"",description:t?.description||"",employeeIds:(t?.members||[]).map(j=>j.employee.id)}),[h,f]=v.useState({}),p=Te({mutationFn:j=>Wl.create(j),onSuccess:async()=>{await o.invalidateQueries({queryKey:["employee-groups"],refetchType:"active"}),await o.invalidateQueries({queryKey:["employee-groups-selector"],refetchType:"active"}),n?.(),s()}}),y=Te({mutationFn:j=>Wl.update(t.id,j,i?.companyId||0),onSuccess:async()=>{await o.invalidateQueries({queryKey:["employee-groups"],refetchType:"active"}),await o.invalidateQueries({queryKey:["employee-groups-selector"],refetchType:"active"}),n?.(),s()}}),b=()=>{const j={};return u.name.trim()||(j.name="Group name is required"),u.description.trim()||(j.description="Group description is required"),u.employeeIds.length===0&&(j.employees="At least one employee is required"),f(j),Object.keys(j).length===0},w=j=>{if(j.preventDefault(),!b())return;const C={name:u.name.trim(),description:u.description.trim(),companyId:i?.companyId,employeeIds:u.employeeIds};c?y.mutate({name:C.name,description:C.description,employeeIds:C.employeeIds}):p.mutate(C)},N=p.isPending||y.isPending;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:c?"Edit Employee Group":"Create Employee Group"}),e.jsx("button",{onClick:s,className:"text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(Ye,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs(W,{htmlFor:"name",children:["Group Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(me,{id:"name",value:u.name,onChange:j=>{m({...u,name:j.target.value}),h.name&&f({...h,name:void 0})},className:h.name?"border-red-500":"",placeholder:"Enter group name",required:!0}),h.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.name})]}),e.jsxs("div",{children:[e.jsxs(W,{htmlFor:"description",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"description",value:u.description,onChange:j=>{m({...u,description:j.target.value}),h.description&&f({...h,description:void 0})},className:`w-full min-h-[100px] px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${h.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter group description",required:!0}),h.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.description})]}),e.jsxs("div",{children:[e.jsxs(W,{children:["Employees ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-2 p-4 border border-gray-200 rounded-md bg-gray-50",children:i?.companyId&&e.jsx(Vw,{companyId:i.companyId,selectedEmployeeIds:u.employeeIds,onSelectionChange:j=>{m({...u,employeeIds:j}),h.employees&&f({...h,employees:void 0})},isSuperAdmin:i?.roleName==="SuperAdmin"})}),h.employees&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.employees}),u.employeeIds.length>0&&e.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:[u.employeeIds.length," employee",u.employeeIds.length!==1?"s":""," selected"]})]}),(p.error||y.error)&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-sm text-red-600",children:p.error instanceof Error?p.error.message:y.error instanceof Error?y.error.message:"An error occurred"})}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-200",children:[e.jsx(M,{type:"button",variant:"outline",onClick:s,disabled:N,children:"Cancel"}),e.jsx(M,{type:"submit",disabled:N,children:N?"Saving...":c?"Update Group":"Create Group"})]})]})]})})}function db(){const{user:t}=We(),s=St(),n=gt(),[i,o]=v.useState(!1),[c,u]=v.useState(null),{data:m,isLoading:h,error:f}=we({queryKey:["employee-groups",t?.companyId],queryFn:async()=>{if(!t?.companyId)return null;const A=await Wl.getAll(t.companyId);if(!A.data.success)throw new Error(A.data.message||"Failed to fetch employee groups");return Array.isArray(A.data.data)?A.data.data:[]},enabled:!!t?.companyId}),p=m||[],y=Te({mutationFn:A=>Wl.delete(A,t?.companyId||0),onSuccess:()=>{n.invalidateQueries({queryKey:["employee-groups"]}),n.invalidateQueries({queryKey:["employee-groups-selector"]})}}),b=()=>{u(null),o(!0)},w=A=>{s(`/employee-groups/${A.id}`)},N=async A=>{if(confirm("Are you sure you want to delete this employee group? This will also remove it from all campaigns."))try{await y.mutateAsync(A)}catch(E){console.error("Error deleting group:",E),alert("Failed to delete employee group")}},j=()=>{o(!1),u(null)},C=()=>{o(!1),u(null)};return h?e.jsx(it,{permission:"can_manage_employees",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-slate-500",children:"Loading employee groups..."})})}):f?e.jsx(it,{permission:"can_manage_employees",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:[e.jsx("p",{className:"font-medium",children:"Error loading employee groups"}),e.jsx("p",{className:"text-sm mt-1",children:f instanceof Error?f.message:"An unknown error occurred"}),e.jsx(M,{onClick:()=>window.location.reload(),className:"mt-2",variant:"outline",size:"sm",children:"Retry"})]})})}):e.jsx(it,{permission:"can_manage_employees",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Employee Groups"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Manage employee groups and assign them to campaigns"})]}),e.jsxs(M,{onClick:b,className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-4 h-4"}),"Create Group"]})]}),e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsx(ee,{className:"p-0",children:p.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Yt,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 mb-4",children:"No employee groups found"}),e.jsxs(M,{onClick:b,variant:"outline",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Create Your First Group"]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Group Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Members"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Campaigns"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created By"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created At"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(A=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Yt,{className:"w-5 h-5 text-indigo-500 mr-2"}),e.jsx("div",{className:"text-sm font-medium text-slate-900",children:A.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-slate-600 max-w-md truncate",children:A.description})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-slate-900",children:[A._count?.members||0," member",A._count?.members!==1?"s":""]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-slate-900",children:[A._count?.campaigns??0," campaign",A._count?.campaigns!==1?"s":""]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-slate-600",children:A.creator.name||A.creator.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-slate-500",children:new Date(A.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>s(`/employee-groups/${A.id}`),className:"text-indigo-600 hover:text-indigo-900",children:[e.jsx(la,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>w(A),className:"text-blue-600 hover:text-blue-900",children:[e.jsx($t,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>N(A.id),className:"text-red-600 hover:text-red-900",disabled:y.isPending,children:[e.jsx(Ls,{className:"w-4 h-4 mr-1"}),"Delete"]})]})})]},A.id))})]})})})}),i&&e.jsx(V5,{group:c||null,onClose:C,onSuccess:j})]})})}const ub=(t,s)=>{if(s){const i=s.trim().split(" ");return i.length>=2?(i[0][0]+i[i.length-1][0]).toUpperCase():s.substring(0,2).toUpperCase()}if(!t)return"?";const n=t.split("@")[0].split(/[._-]/);return n.length>=2?(n[0][0]+n[1][0]).toUpperCase():t.substring(0,2).toUpperCase()},mb=t=>{const s=["bg-indigo-500","bg-blue-500","bg-purple-500","bg-pink-500","bg-red-500","bg-orange-500","bg-yellow-500","bg-green-500","bg-teal-500","bg-cyan-500"],n=t.charCodeAt(0)%s.length;return s[n]};function H5(){const{id:t}=ln(),s=St(),[n]=oE(),{user:i}=We(),o=gt(),c=i?.roleName==="SuperAdmin",[u,m]=v.useState(n.get("edit")==="true"),[h,f]=v.useState({name:"",email:"",phone:"",password:"",address:"",education:"",profileImage:"",eSignature:"",roleId:0,companyId:0,designation:"",department:"",salary:"",workHours:"",holidays:"",bonus:"",responsibilities:""}),[p,y]=v.useState(null),{data:b,isLoading:w}=we({queryKey:["user",t],queryFn:async()=>(await pn.getById(t)).data.data,enabled:!!t}),{data:N}=we({queryKey:["roles"],queryFn:async()=>(await Fu.getAll()).data.data||[],enabled:c&&u}),{data:j}=we({queryKey:["companies"],queryFn:async()=>(await Sp.getAll()).data.data||[],enabled:c&&u}),C=N||[],A=j||[];v.useEffect(()=>{b&&(f({name:b.name||"",email:b.email||"",phone:b.phone||"",password:"",address:b.address||"",education:b.education||"",profileImage:b.profileImage||"",eSignature:b.eSignature||"",roleId:b.roleId||0,companyId:b.companyId||0,designation:b.employee?.designation||"",department:b.employee?.department||"",salary:b.employee?.salary||"",workHours:b.employee?.workHours?.toString()||"",holidays:b.employee?.holidays?.toString()||"",bonus:b.employee?.bonus||"",responsibilities:b.employee?.responsibilities||""}),y(b.profileImage||null))},[b]);const E=Te({mutationFn:async q=>await pn.update(t,q),onSuccess:()=>{o.invalidateQueries({queryKey:["user",t]}),o.invalidateQueries({queryKey:["all-users"]}),o.invalidateQueries({queryKey:["employees"]}),m(!1),alert("User updated successfully!")},onError:q=>{alert(q.response?.data?.message||"Failed to update user")}}),S=q=>{const $=q.target.files?.[0];if($){const H=new FileReader;H.onloadend=()=>{y(H.result),f({...h,profileImage:H.result})},H.readAsDataURL($)}},R=q=>{f({...h,eSignature:q})},_=q=>{q.preventDefault();const $={name:h.name||null,email:h.email,phone:h.phone||null,address:h.address||null,education:h.education||null,profileImage:h.profileImage||null,eSignature:h.eSignature||null,designation:h.designation||null,department:h.department||null,salary:h.salary?parseFloat(h.salary):null,workHours:h.workHours?parseFloat(h.workHours):null,holidays:h.holidays?parseInt(h.holidays):null,bonus:h.bonus?parseFloat(h.bonus):null,responsibilities:h.responsibilities||null};h.password&&($.password=h.password),c&&h.roleId&&h.roleId>0&&($.roleId=h.roleId),c&&h.companyId&&h.companyId>0&&($.companyId=h.companyId),E.mutate($)};if(w)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-slate-600",children:"Loading user data..."})]})});if(!b)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-slate-600",children:"User not found"}),e.jsxs(M,{onClick:()=>s("/employees"),className:"mt-4",children:[e.jsx(ha,{className:"w-4 h-4 mr-2"}),"Back to Employees"]})]});const L=b.role?.permissions||{},I=Object.entries(L);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(M,{variant:"outline",onClick:()=>s("/employees"),children:[e.jsx(ha,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:u?"Edit User":"User Details"}),e.jsx("p",{className:"text-slate-600 mt-1",children:b.email})]})]}),c&&!u&&e.jsxs(M,{onClick:()=>m(!0),children:[e.jsx($t,{className:"w-4 h-4 mr-2"}),"Edit User"]})]}),u?e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Edit User Information"}),e.jsx(Qe,{children:"Update user details below"})]}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"profileImage",children:"Profile Image"}),e.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[p?e.jsx("img",{src:p,alt:"Profile preview",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}):e.jsx("div",{className:`w-20 h-20 rounded-full ${mb(b.email)} flex items-center justify-center text-white font-bold text-xl`,children:ub(b.email,h.name)}),e.jsxs("div",{className:"flex-1",children:[e.jsx(me,{id:"profileImage",type:"file",accept:"image/*",onChange:S,className:"cursor-pointer"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Upload a new profile image (JPG, PNG, etc.)"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"name",children:"Name"}),e.jsx(me,{id:"name",value:h.name,onChange:q=>f({...h,name:q.target.value}),placeholder:"Enter full name"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"email",children:"Email"}),e.jsx(me,{id:"email",type:"email",value:h.email,onChange:q=>f({...h,email:q.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"phone",children:"Phone"}),e.jsx(me,{id:"phone",type:"tel",value:h.phone,onChange:q=>f({...h,phone:q.target.value}),placeholder:"Enter phone number"})]}),c&&e.jsxs("div",{children:[e.jsx(W,{htmlFor:"roleId",children:"Role"}),e.jsxs("div",{className:"relative",children:[e.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsxs("select",{id:"roleId",value:h.roleId,onChange:q=>f({...h,roleId:parseInt(q.target.value)}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-white",required:!0,children:[e.jsx("option",{value:0,children:"Select a role"}),C.map(q=>e.jsx("option",{value:q.id,children:q.name},q.id))]})]})]}),c&&e.jsxs("div",{children:[e.jsx(W,{htmlFor:"companyId",children:"Company"}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsxs("select",{id:"companyId",value:h.companyId,onChange:q=>f({...h,companyId:parseInt(q.target.value)}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 bg-white",required:!0,children:[e.jsx("option",{value:0,children:"Select a company"}),A.map(q=>e.jsx("option",{value:q.id,children:q.name},q.id))]})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"password",children:"New Password (leave blank to keep current)"}),e.jsx(me,{id:"password",type:"password",value:h.password,onChange:q=>f({...h,password:q.target.value}),placeholder:"Enter new password (min 6 characters)"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"address",children:"Address"}),e.jsx("textarea",{id:"address",value:h.address,onChange:q=>f({...h,address:q.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter address"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"education",children:"Education"}),e.jsx("textarea",{id:"education",value:h.education,onChange:q=>f({...h,education:q.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter education details"})]}),e.jsx("div",{className:"pt-6 border-t border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Employee Information"})}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"designation",children:"Designation"}),e.jsx(me,{id:"designation",value:h.designation,onChange:q=>f({...h,designation:q.target.value}),placeholder:"e.g., Senior Developer, Marketing Manager"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"department",children:"Department"}),e.jsx(me,{id:"department",value:h.department,onChange:q=>f({...h,department:q.target.value}),placeholder:"e.g., Engineering, Marketing, Sales"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"salary",children:"Salary"}),e.jsx(me,{id:"salary",type:"number",step:"0.01",min:"0",value:h.salary,onChange:q=>f({...h,salary:q.target.value}),placeholder:"Enter annual salary"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"workHours",children:"Work Hours (per week)"}),e.jsx(me,{id:"workHours",type:"number",step:"0.5",min:"0",max:"168",value:h.workHours,onChange:q=>f({...h,workHours:q.target.value}),placeholder:"e.g., 40"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"holidays",children:"Holidays (per year)"}),e.jsx(me,{id:"holidays",type:"number",min:"0",value:h.holidays,onChange:q=>f({...h,holidays:q.target.value}),placeholder:"e.g., 20"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"bonus",children:"Bonus"}),e.jsx(me,{id:"bonus",type:"number",step:"0.01",min:"0",value:h.bonus,onChange:q=>f({...h,bonus:q.target.value}),placeholder:"Enter bonus amount"})]}),e.jsx("div",{children:e.jsx(Bw,{value:h.responsibilities,onChange:q=>f({...h,responsibilities:q}),placeholder:"Describe the employee's responsibilities, duties, and what they will do in the company...",language:"markdown",rows:12})}),e.jsxs("div",{children:[e.jsx(W,{children:"E-Signature"}),e.jsxs("div",{className:"mt-2",children:[h.eSignature&&e.jsxs("div",{className:"mb-4 border border-gray-200 rounded-lg p-4 bg-white",children:[e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Current Signature:"}),e.jsx("img",{src:h.eSignature,alt:"Current signature",className:"max-w-full h-auto border border-gray-300 rounded"})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-slate-50",children:[e.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Draw new signature:"}),e.jsx(Cp,{onSignatureChange:R})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>{m(!1),b&&(f({name:b.name||"",email:b.email||"",phone:b.phone||"",password:"",address:b.address||"",education:b.education||"",profileImage:b.profileImage||"",eSignature:b.eSignature||"",roleId:b.roleId||0,companyId:b.companyId||0,designation:b.employee?.designation||"",department:b.employee?.department||"",salary:b.employee?.salary||"",workHours:b.employee?.workHours?.toString()||"",holidays:b.employee?.holidays?.toString()||"",bonus:b.employee?.bonus||"",responsibilities:b.employee?.responsibilities||""}),y(b.profileImage||null))},disabled:E.isPending,children:"Cancel"}),e.jsx(M,{type:"submit",disabled:E.isPending,children:E.isPending?"Saving...":e.jsxs(e.Fragment,{children:[e.jsx(wp,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-6",children:[b.profileImage?e.jsx("img",{src:b.profileImage,alt:b.name||b.email,className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}):e.jsx("div",{className:`w-24 h-24 rounded-full ${mb(b.email)} flex items-center justify-center text-white font-bold text-2xl shadow-lg`,children:ub(b.email,b.name)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:b.name||b.email}),e.jsx("p",{className:"text-slate-600 mt-1",children:b.email}),e.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[e.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded-full bg-indigo-100 text-indigo-800",children:b.role?.name||"N/A"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx($a,{className:"w-4 h-4"}),e.jsx("span",{children:b.company?.name||"N/A"})]})]})]})]})})}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsx(ce,{children:"Basic Information"})}),e.jsx(ee,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"User ID"}),e.jsx("p",{className:"text-slate-900 mt-1 font-mono text-xs",children:b.id})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Name"}),e.jsx("p",{className:"text-slate-900 mt-1",children:b.name||""})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Email"}),e.jsx("p",{className:"text-slate-900 mt-1",children:b.email})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Phone"}),e.jsx("p",{className:"text-slate-900 mt-1",children:b.phone||""})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Address"}),e.jsx("p",{className:"text-slate-900 mt-1 whitespace-pre-wrap",children:b.address||""})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Education"}),e.jsx("p",{className:"text-slate-900 mt-1 whitespace-pre-wrap",children:b.education||""})]}),b.createdAt&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Created At"}),e.jsx("p",{className:"text-slate-900 mt-1",children:new Date(b.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),b.updatedAt&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Last Updated"}),e.jsx("p",{className:"text-slate-900 mt-1",children:new Date(b.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})})]}),b.eSignature&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsx(ce,{children:"E-Signature"})}),e.jsx(ee,{children:e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:e.jsx("img",{src:b.eSignature,alt:"E-Signature",className:"max-w-full h-auto"})})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsx(ce,{children:"Employee Details"})}),e.jsx(ee,{children:b.employee?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.employee.designation&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Designation"}),e.jsx("p",{className:"text-slate-900 mt-1",children:b.employee.designation})]}),b.employee.department&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Department"}),e.jsx("p",{className:"text-slate-900 mt-1",children:b.employee.department})]}),b.employee.salary&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Salary"}),e.jsxs("p",{className:"text-slate-900 mt-1 font-medium",children:["",Number(b.employee.salary).toLocaleString()]})]}),b.employee.workHours&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Work Hours"}),e.jsxs("p",{className:"text-slate-900 mt-1",children:[Number(b.employee.workHours)," hours/week"]})]}),b.employee.holidays&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Holidays"}),e.jsxs("p",{className:"text-slate-900 mt-1",children:[b.employee.holidays," days/year"]})]}),b.employee.bonus&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Bonus"}),e.jsxs("p",{className:"text-slate-900 mt-1 font-medium",children:["",Number(b.employee.bonus).toLocaleString()]})]}),b.employee.joinDate&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Join Date"}),e.jsx("p",{className:"text-slate-900 mt-1",children:new Date(b.employee.joinDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),b.employee.responsibilities&&e.jsxs("div",{className:"mt-6",children:[e.jsx(W,{className:"text-sm font-medium text-slate-600 mb-2 block",children:"Job Responsibilities"}),e.jsx("div",{className:"bg-slate-50 border border-gray-200 rounded-lg p-4",children:e.jsx("pre",{className:"text-sm font-mono whitespace-pre-wrap text-slate-900",children:b.employee.responsibilities})})]})]}):e.jsx("p",{className:"text-slate-500 text-sm",children:"No employee information available. Add details in edit mode."})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsx(ce,{children:"Permissions"})}),e.jsx(ee,{children:I.length===0?e.jsx("p",{className:"text-slate-500",children:"No permissions defined"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:I.map(([q,$])=>e.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg border ${$?"bg-green-50 border-green-200":"bg-slate-50 border-slate-200"}`,children:[$?e.jsx(bi,{className:"w-5 h-5 text-green-600"}):e.jsx(Wn,{className:"w-5 h-5 text-slate-400"}),e.jsx("span",{className:`text-sm ${$?"text-green-900 font-medium":"text-slate-600"}`,children:q.replace(/_/g," ").replace(/\b\w/g,H=>H.toUpperCase())})]},q))})})]})]})]})}const $5=Es({title:Fe().min(1,"Task title is required"),description:Fe().optional(),priority:wn(["Low","Medium","High"]),dueDate:Fe().optional(),projectId:vn().int().positive().optional().nullable(),assignmentType:wn(["individual","group"]),assignedTo:vn().int().positive().optional().nullable(),groupId:vn().int().positive().optional().nullable()}).refine(t=>t.assignmentType==="individual"?!!t.assignedTo:!!t.groupId,{message:"Please select an employee or group",path:["assignedTo"]});function K5({isOpen:t,onClose:s,task:n}){const{user:i}=We(),o=gt(),[c,u]=v.useState("individual"),{register:m,handleSubmit:h,formState:{errors:f,isSubmitting:p},reset:y,watch:b,setValue:w}=Vs({resolver:Hs($5),defaultValues:{title:n?.title||"",description:n?.description||"",priority:n?.priority||"Medium",dueDate:n?.dueDate?new Date(n.dueDate).toISOString().split("T")[0]:"",projectId:n?.projectId||null,assignmentType:n?.groupId?"group":"individual",assignedTo:n?.assignedTo||null,groupId:n?.groupId||null}}),N=b("assignmentType");v.useEffect(()=>{N&&(u(N),w(N==="individual"?"groupId":"assignedTo",null))},[N,w]),v.useEffect(()=>{t&&(y({title:n?.title||"",description:n?.description||"",priority:n?.priority||"Medium",dueDate:n?.dueDate?new Date(n.dueDate).toISOString().split("T")[0]:"",projectId:n?.projectId||null,assignmentType:n?.groupId?"group":"individual",assignedTo:n?.assignedTo||null,groupId:n?.groupId||null}),u(n?.groupId?"group":"individual"))},[t,n,y]);const{data:j}=we({queryKey:["projects"],queryFn:async()=>(await zr.getAll()).data.data||[],enabled:t}),{data:C}=we({queryKey:["employees",i?.companyId],queryFn:async()=>i?.companyId?(await nm.getAll(i.companyId)).data.data||[]:[],enabled:t&&!!i?.companyId&&c==="individual"}),{data:A}=we({queryKey:["employee-groups",i?.companyId],queryFn:async()=>i?.companyId?(await Wl.getAll(i.companyId)).data.data||[]:[],enabled:t&&!!i?.companyId&&c==="group"}),E=j||[],S=C||[],R=A||[],_=Te({mutationFn:I=>{const q={companyId:i?.companyId,title:I.title,priority:I.priority};return I.description&&(q.description=I.description),I.dueDate&&(q.dueDate=new Date(I.dueDate).toISOString()),I.projectId&&(q.projectId=I.projectId),I.assignmentType==="individual"?I.assignedTo&&(q.assignedTo=I.assignedTo):I.assignmentType==="group"&&I.groupId&&(q.groupId=I.groupId),n?vs.update(n.id,q,i?.companyId):vs.create(q)},onSuccess:()=>{o.invalidateQueries({queryKey:["tasks"]}),o.invalidateQueries({queryKey:["tasks","user"]}),y(),s()},onError:I=>{console.error("Failed to save task:",I);const q=I.response?.data?.message||I.message||"Failed to save task";console.error("Error details:",I.response?.data),alert(q)}}),L=I=>{_.mutate(I)};return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:n?"Edit Task":"Create New Task"}),e.jsx("button",{onClick:s,className:"text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(Ye,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:h(L),className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs(W,{htmlFor:"title",className:"text-slate-700 font-medium",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(me,{id:"title",...m("title"),className:fe("mt-1",f.title&&"border-red-500"),placeholder:"Enter task title"}),f.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.title.message})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"description",className:"text-slate-700 font-medium",children:"Description"}),e.jsx("textarea",{id:"description",...m("description"),className:fe("mt-1 w-full min-h-[100px] px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",f.description&&"border-red-500"),placeholder:"Enter task description"}),f.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.description.message})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(W,{htmlFor:"priority",className:"text-slate-700 font-medium",children:["Priority ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"priority",...m("priority"),className:fe("mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",f.priority&&"border-red-500"),children:[e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"})]}),f.priority&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.priority.message})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"dueDate",className:"text-slate-700 font-medium",children:"Due Date"}),e.jsx(me,{id:"dueDate",type:"date",...m("dueDate"),className:fe("mt-1",f.dueDate&&"border-red-500")}),f.dueDate&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.dueDate.message})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"projectId",className:"text-slate-700 font-medium",children:"Project (Optional)"}),e.jsxs("select",{id:"projectId",...m("projectId",{setValueAs:I=>I===""||I===null?null:parseInt(I)}),className:fe("mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",f.projectId&&"border-red-500"),children:[e.jsx("option",{value:"",children:"Select a project (optional)"}),E.map(I=>e.jsx("option",{value:I.id,children:I.title},I.id))]}),f.projectId&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.projectId.message})]}),e.jsxs("div",{children:[e.jsxs(W,{className:"text-slate-700 font-medium block mb-3",children:["Assignment Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",value:"individual",...m("assignmentType"),className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),e.jsx(is,{className:"w-5 h-5 text-slate-600"}),e.jsx("span",{className:"text-slate-700",children:"Individual Employee"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",value:"group",...m("assignmentType"),className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"}),e.jsx(Yt,{className:"w-5 h-5 text-slate-600"}),e.jsx("span",{className:"text-slate-700",children:"Employee Group"})]})]}),f.assignmentType&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.assignmentType.message})]}),c==="individual"&&e.jsxs("div",{children:[e.jsxs(W,{htmlFor:"assignedTo",className:"text-slate-700 font-medium",children:["Assign To Employee ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"assignedTo",...m("assignedTo",{setValueAs:I=>I===""||I===null?null:parseInt(I)}),className:fe("mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",f.assignedTo&&"border-red-500"),children:[e.jsx("option",{value:"",children:"Select an employee"}),S.map(I=>e.jsx("option",{value:I.id,children:I.user?.email||`Employee #${I.id}`},I.id))]}),f.assignedTo&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.assignedTo.message})]}),c==="group"&&e.jsxs("div",{children:[e.jsxs(W,{htmlFor:"groupId",className:"text-slate-700 font-medium",children:["Assign To Group ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"groupId",...m("groupId",{setValueAs:I=>I===""||I===null?null:parseInt(I)}),className:fe("mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",f.groupId&&"border-red-500"),children:[e.jsx("option",{value:"",children:"Select an employee group"}),R.map(I=>e.jsxs("option",{value:I.id,children:[I.name," (",I._count?.members||0," members)"]},I.id))]}),f.groupId&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:f.groupId.message})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx(M,{type:"button",variant:"outline",onClick:s,disabled:p,children:"Cancel"}),e.jsx(M,{type:"submit",disabled:p,className:"bg-indigo-600 hover:bg-indigo-700",children:p?"Saving...":n?"Update Task":"Create Task"})]})]})]})}):null}function Tx({progress:t,showPercentage:s=!0,showBreakdown:n=!1,breakdown:i,className:o,size:c="md"}){const[u,m]=v.useState(0);v.useEffect(()=>{const b=Math.max(0,Math.min(100,t)),w=800,N=u,j=b-N,C=performance.now(),A=E=>{const S=E-C,R=Math.min(S/w,1),_=1-Math.pow(1-R,3),L=N+j*_;m(L),R<1?requestAnimationFrame(A):m(b)};requestAnimationFrame(A)},[t]);const h=b=>b<=30?"bg-red-500":b<=70?"bg-yellow-500":"bg-green-500",f=b=>b<=30?"bg-red-50":b<=70?"bg-yellow-50":"bg-green-50",p={sm:"h-1.5",md:"h-2.5",lg:"h-4"},y={sm:"text-xs",md:"text-sm",lg:"text-base"};return e.jsxs("div",{className:fe("w-full",o),children:[e.jsxs("div",{className:fe("relative w-full rounded-full overflow-hidden",p[c],f(u)),children:[e.jsx("div",{className:fe("h-full rounded-full transition-all duration-300 ease-out",h(u)),style:{width:`${u}%`}}),s&&c!=="sm"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:fe("font-semibold",y[c],u>50?"text-white":"text-slate-700"),children:[Math.round(u),"%"]})})]}),n&&i&&e.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-slate-600",children:[e.jsxs("span",{children:[i.completed," of ",i.total," ",i.weighted?"weighted":""," sub-tasks completed"]}),s&&c==="sm"&&e.jsxs("span",{className:"font-medium",children:[Math.round(u),"%"]})]})]})}function Q5(){const{user:t}=We(),s=St(),n=gt(),[i,o]=v.useState(!1),[c,u]=v.useState(null),[m,h]=v.useState("all"),[f,p]=v.useState(""),[y,b]=v.useState("all"),[w,N]=v.useState(null),j=t?.roleName==="SuperAdmin",C=t?.roleName==="HR Manager",A=j||C,{data:E,isLoading:S,refetch:R}=we({queryKey:["tasks",t?.id,t?.companyId,m,f],queryFn:async()=>{if(!t?.companyId&&!j)return[];let P=[];if(j){const pe={};m!=="all"&&(pe.status=m),f&&(pe.projectId=f),P=(await vs.getAll(t?.companyId||1,pe)).data?.data||[]}else{if(!t?.id||!t?.companyId)return[];P=(await vs.getUserTasks(t.id,t.companyId)).data.data||[]}let U=P;return m!=="all"&&(U=U.filter(pe=>pe.status===m)),f&&(U=U.filter(pe=>pe.projectId===f)),U},enabled:j&&!!t?.id||!!t?.companyId&&!!t?.id}),{data:_}=we({queryKey:["projects"],queryFn:async()=>(await zr.getAll()).data.data||[]}),L=E||[],I=_||[],q=L.filter(P=>!P||!P.id?(console.error("Invalid task in filter:",P),!1):y==="individual"?P.assignedTo&&!P.groupId:y==="group"?P.groupId&&!P.assignedTo:!0);console.log("Tasks data:",{total:L.length,filtered:q.length,tasks:L,filteredTasks:q});const $=Te({mutationFn:async({taskId:P,status:U})=>{if(!t?.companyId)throw new Error("Company ID required");return await vs.update(P,{status:U},t.companyId)},onSuccess:()=>{n.invalidateQueries({queryKey:["tasks",t?.id,t?.companyId]}),N(null)},onError:P=>{console.error("Failed to update task status:",P),alert(P.response?.data?.message||"Failed to update task status"),N(null)}}),H=async(P,U)=>{N(P),$.mutate({taskId:P,status:U})},G=P=>{switch(P){case"Pending":return e.jsx(Ti,{className:"w-4 h-4 text-yellow-500"});case"StartedWorking":return e.jsx(Jt,{className:"w-4 h-4 text-blue-500"});case"Complete":return e.jsx(ma,{className:"w-4 h-4 text-green-500"});case"Cancel":return e.jsx(Ye,{className:"w-4 h-4 text-red-500"});default:return e.jsx(Ti,{className:"w-4 h-4 text-slate-400"})}},F=P=>{switch(P){case"Pending":return"Pending";case"StartedWorking":return"Started Working";case"Complete":return"Complete";case"Cancel":return"Cancel";default:return P}},de=P=>{switch(P){case"Pending":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"StartedWorking":return"bg-blue-100 text-blue-700 border-blue-200";case"Complete":return"bg-green-100 text-green-700 border-green-200";case"Cancel":return"bg-red-100 text-red-700 border-red-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},z=()=>{u(null),o(!0)},he=P=>{u(P),o(!0)},O=()=>{o(!1),u(null),R()};return S?e.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Tasks"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Manage your tasks"})]}),A&&e.jsxs(M,{onClick:z,className:"bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Add Task"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 self-center",children:"Status:"}),e.jsx(M,{variant:m==="all"?"default":"outline",onClick:()=>h("all"),children:"All"}),e.jsx(M,{variant:m==="Pending"?"default":"outline",onClick:()=>h("Pending"),children:"Pending"}),e.jsx(M,{variant:m==="StartedWorking"?"default":"outline",onClick:()=>h("StartedWorking"),children:"Started Working"}),e.jsx(M,{variant:m==="Complete"?"default":"outline",onClick:()=>h("Complete"),children:"Complete"}),e.jsx(M,{variant:m==="Cancel"?"default":"outline",onClick:()=>h("Cancel"),children:"Cancel"})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Project:"}),e.jsxs("select",{value:f,onChange:P=>p(P.target.value?parseInt(P.target.value):""),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Projects"}),I.map(P=>e.jsx("option",{value:P.id,children:P.title},P.id))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Assignment:"}),e.jsxs("select",{value:y,onChange:P=>b(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"individual",children:"Individual"}),e.jsx("option",{value:"group",children:"Group"})]})]})]})]}),e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsx(ee,{className:"p-6",children:(console.log("Rendering tasks section. filteredTasks.length:",q.length),console.log("filteredTasks array:",JSON.stringify(q,null,2)),q.length>0?e.jsx("div",{className:"space-y-4",children:q.map(P=>{if(!P||!P.id)return console.error("Invalid task:",P),null;console.log("Rendering task:",P.id,P.title);const U=P.progress?Number(P.progress):0,pe=P._count?.subTasks||0,Ne=P._count?.attachments||0,B=!!P.conversation?.id;return e.jsxs(X,{className:"shadow-sm border-gray-200 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>s(`/tasks/${P.id}`),children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[G(P.status),e.jsxs("div",{className:"flex-1",children:[e.jsx(ce,{className:"text-lg hover:text-indigo-600 transition-colors",children:P.title}),P.description&&e.jsx("p",{className:"text-sm text-slate-500 mt-1 line-clamp-2",children:P.description})]})]}),e.jsxs("div",{className:"flex gap-2 items-center",onClick:te=>te.stopPropagation(),children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium border ${de(P.status)}`,children:F(P.status)}),e.jsx(M,{variant:"ghost",size:"icon",onClick:()=>s(`/tasks/${P.id}`),className:"h-8 w-8",title:"View Task Detail",children:e.jsx(la,{className:"w-4 h-4"})}),!j&&e.jsx(M,{variant:"ghost",size:"icon",onClick:te=>{te.stopPropagation(),he(P)},className:"h-8 w-8",children:e.jsx($t,{className:"w-4 h-4"})})]})]})}),e.jsxs(ee,{children:[pe>0&&e.jsx("div",{className:"mb-4",children:e.jsx(Tx,{progress:U,showPercentage:!0,showBreakdown:!0,breakdown:{completed:P.subTasks?.filter(te=>te.status==="Complete").length||0,total:pe,weighted:!0},size:"sm"})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm mb-4",children:[P.priority&&e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${P.priority==="High"?"bg-red-100 text-red-700":P.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:P.priority}),P.project&&e.jsxs("div",{className:"flex items-center gap-1 text-slate-600",children:[e.jsx(Cw,{className:"w-4 h-4"}),e.jsx("span",{children:P.project.title})]}),P.groupId&&P.group?e.jsxs("div",{className:"flex items-center gap-1 text-indigo-600",children:[e.jsx(Yt,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Group:"}),e.jsx("span",{children:P.group.name})]}):P.assignedTo&&P.assignedEmployee?e.jsxs("div",{className:"flex items-center gap-1 text-slate-600",children:[e.jsx(is,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Employee:"}),e.jsx("span",{children:P.assignedEmployee.user?.email||"Unknown"})]}):null,P.dueDate&&e.jsxs("div",{className:"text-slate-500",children:["Due: ",new Date(P.dueDate).toLocaleDateString()]})]}),(pe>0||Ne>0||B)&&e.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500 mb-3",onClick:te=>te.stopPropagation(),children:[pe>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ma,{className:"w-3 h-3"}),e.jsxs("span",{children:[pe," sub-task",pe>1?"s":""]})]}),Ne>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Np,{className:"w-3 h-3"}),e.jsxs("span",{children:[Ne," attachment",Ne>1?"s":""]})]}),B&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Bs,{className:"w-3 h-3"}),e.jsx("span",{children:"Conversation"})]})]}),U>0&&pe>0&&e.jsx("div",{className:"mb-3",onClick:te=>te.stopPropagation(),children:e.jsx(Tx,{progress:U,showPercentage:!0,showBreakdown:!0,breakdown:{completed:0,total:pe,weighted:!0},size:"sm"})}),P.status==="StartedWorking"&&P.startedAt&&e.jsxs("div",{className:"text-sm text-slate-600 mb-4 pb-3 border-b border-gray-200",children:["Started working at ",Gl(P.startedAt)]}),!j&&e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-200",onClick:te=>te.stopPropagation(),children:[e.jsx("span",{className:"text-xs font-medium text-slate-600 self-center mr-2",children:"Change Status:"}),P.status==="Pending"&&e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>H(P.id,"StartedWorking"),disabled:w===P.id,className:"h-7 text-xs",children:[e.jsx(Ka,{className:"w-3 h-3 mr-1"}),"Start Working"]}),P.status==="StartedWorking"&&e.jsxs(e.Fragment,{children:[e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>H(P.id,"Complete"),disabled:w===P.id,className:"h-7 text-xs bg-green-50 hover:bg-green-100 text-green-700 border-green-200",children:[e.jsx(As,{className:"w-3 h-3 mr-1"}),"Complete"]}),e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>H(P.id,"Cancel"),disabled:w===P.id,className:"h-7 text-xs bg-red-50 hover:bg-red-100 text-red-700 border-red-200",children:[e.jsx(Ye,{className:"w-3 h-3 mr-1"}),"Cancel"]})]}),w===P.id&&e.jsx("span",{className:"text-xs text-slate-500 self-center ml-2",children:"Updating..."})]})]})]},P.id)})}):e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No tasks found"}))})}),e.jsx(K5,{isOpen:i,onClose:O,task:c})]})}function G5({url:t,fileName:s,thumbnailUrl:n,onDelete:i,showDelete:o=!1,className:c}){const[u,m]=v.useState(!1),[h,f]=v.useState(!1),p=n||t,y=jn(t),b=()=>{const w=document.createElement("a");w.href=y,w.download=s||"image",w.target="_blank",document.body.appendChild(w),w.click(),document.body.removeChild(w)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:fe("relative group rounded-lg overflow-hidden border border-gray-200 bg-white",c),children:[e.jsxs("div",{className:"relative w-full h-48 bg-gray-100 cursor-pointer",onClick:()=>m(!0),children:[h?e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:e.jsx("span",{className:"text-sm",children:"Failed to load image"})}):e.jsx("img",{src:jn(p),alt:s||"Attachment",className:"w-full h-full object-cover",onError:()=>f(!0),loading:"lazy"}),e.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-200 flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),m(!0)},className:"text-white hover:text-white hover:bg-white/20",children:e.jsx(_w,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),b()},className:"text-white hover:text-white hover:bg-white/20",children:e.jsx(Yl,{className:"w-4 h-4"})}),o&&i&&e.jsx(M,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),i()},className:"text-white hover:text-white hover:bg-red-500/80",children:e.jsx(Ye,{className:"w-4 h-4"})})]})]}),s&&e.jsx("div",{className:"p-2 border-t border-gray-200",children:e.jsx("p",{className:"text-xs text-slate-600 truncate",title:s,children:s})})]}),u&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-4",onClick:()=>m(!1),children:e.jsxs("div",{className:"relative max-w-7xl max-h-full",children:[e.jsx("img",{src:y,alt:s||"Image",className:"max-w-full max-h-[90vh] object-contain rounded-lg",onClick:w=>w.stopPropagation()}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>m(!1),className:"absolute top-4 right-4 text-white hover:text-white hover:bg-white/20",children:e.jsx(Ye,{className:"w-5 h-5"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:w=>{w.stopPropagation(),b()},className:"absolute top-4 right-16 text-white hover:text-white hover:bg-white/20",children:e.jsx(Yl,{className:"w-5 h-5"})})]})})]})}function Y5({url:t,fileName:s,onDelete:n,showDelete:i=!1,className:o}){const[c,u]=v.useState(!1),m=jn(t),h=()=>{const p=document.createElement("a");p.href=m,p.download=s||"document.pdf",p.target="_blank",document.body.appendChild(p),p.click(),document.body.removeChild(p)},f=()=>{window.open(m,"_blank")};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:fe("relative group rounded-lg overflow-hidden border border-gray-200 bg-white",o),children:e.jsxs("div",{className:"p-6 flex flex-col items-center justify-center min-h-[200px] bg-red-50",children:[e.jsx(Vt,{className:"w-16 h-16 text-red-500 mb-3"}),e.jsx("p",{className:"text-sm font-medium text-slate-700 mb-1 truncate w-full text-center",title:s,children:s||"PDF Document"}),e.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"PDF Document"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>u(!0),className:"text-xs",children:[e.jsx(Zl,{className:"w-3 h-3 mr-1"}),"View"]}),e.jsxs(M,{variant:"outline",size:"sm",onClick:h,className:"text-xs",children:[e.jsx(Yl,{className:"w-3 h-3 mr-1"}),"Download"]}),i&&n&&e.jsx(M,{variant:"outline",size:"sm",onClick:n,className:"text-xs text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Ye,{className:"w-3 h-3"})})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-4",onClick:()=>u(!1),children:e.jsxs("div",{className:"relative w-full max-w-6xl h-[90vh] bg-white rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:f,className:"text-white hover:text-white hover:bg-white/20",children:e.jsx(Zl,{className:"w-5 h-5"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>u(!1),className:"text-white hover:text-white hover:bg-white/20",children:e.jsx(Ye,{className:"w-5 h-5"})})]}),e.jsx("iframe",{src:`${m}#toolbar=1`,className:"w-full h-full border-0",title:s||"PDF Viewer",onClick:p=>p.stopPropagation()})]})})]})}function Z5({url:t,fileName:s,thumbnailUrl:n,duration:i,onDelete:o,showDelete:c=!1,className:u}){const[m,h]=v.useState(!1),[f,p]=v.useState(!1),y=v.useRef(null),b=jn(t),w=C=>{if(!C)return"";const A=Math.floor(C/60),E=Math.floor(C%60);return`${A}:${E.toString().padStart(2,"0")}`},N=()=>{const C=document.createElement("a");C.href=b,C.download=s||"video",C.target="_blank",document.body.appendChild(C),C.click(),document.body.removeChild(C)},j=()=>{y.current&&(m?y.current.pause():y.current.play(),h(!m))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:fe("relative group rounded-lg overflow-hidden border border-gray-200 bg-black",u),children:[e.jsxs("div",{className:"relative w-full h-48 bg-gray-900 cursor-pointer",onClick:()=>p(!0),children:[n?e.jsx("img",{src:jn(n),alt:s||"Video",className:"w-full h-full object-cover opacity-80"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Lw,{className:"w-12 h-12 text-white/50"})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"bg-black/50 rounded-full p-4 group-hover:bg-black/70 transition-all",children:e.jsx(Ka,{className:"w-8 h-8 text-white",fill:"white"})})}),i&&e.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:w(i)}),e.jsx("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:c&&o&&e.jsx(M,{variant:"ghost",size:"sm",onClick:C=>{C.stopPropagation(),o()},className:"text-white hover:text-white hover:bg-red-500/80 h-8 w-8 p-0",children:e.jsx(Ye,{className:"w-4 h-4"})})})]}),s&&e.jsx("div",{className:"p-2 border-t border-gray-700 bg-black",children:e.jsx("p",{className:"text-xs text-white truncate",title:s,children:s})})]}),f&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-95 flex items-center justify-center p-4",onClick:()=>{p(!1),h(!1),y.current&&(y.current.pause(),y.current.currentTime=0)},children:e.jsxs("div",{className:"relative w-full max-w-6xl",children:[e.jsx("video",{ref:y,src:b,controls:!0,className:"w-full max-h-[85vh] rounded-lg",onClick:C=>C.stopPropagation(),onPlay:()=>h(!0),onPause:()=>h(!1)}),e.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:C=>{C.stopPropagation(),j()},className:"text-white hover:text-white hover:bg-white/20",children:m?e.jsx(kc,{className:"w-5 h-5"}):e.jsx(Ka,{className:"w-5 h-5"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:C=>{C.stopPropagation(),N()},className:"text-white hover:text-white hover:bg-white/20",children:e.jsx(Yl,{className:"w-5 h-5"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>{p(!1),h(!1),y.current&&(y.current.pause(),y.current.currentTime=0)},className:"text-white hover:text-white hover:bg-white/20",children:e.jsx(Ye,{className:"w-5 h-5"})})]})]})})]})}function Hw({url:t,fileName:s,duration:n,onDelete:i,showDelete:o=!1,className:c}){const[u,m]=v.useState(!1),[h,f]=v.useState(0),[p,y]=v.useState(n||0),b=v.useRef(null),w=jn(t);v.useEffect(()=>{const S=b.current;if(!S)return;const R=()=>f(S.currentTime),_=()=>y(S.duration),L=()=>{m(!1),f(0)},I=()=>m(!0),q=()=>m(!1);return S.addEventListener("timeupdate",R),S.addEventListener("loadedmetadata",_),S.addEventListener("ended",L),S.addEventListener("play",I),S.addEventListener("pause",q),()=>{S.removeEventListener("timeupdate",R),S.removeEventListener("loadedmetadata",_),S.removeEventListener("ended",L),S.removeEventListener("play",I),S.removeEventListener("pause",q)}},[]);const N=S=>{const R=Math.floor(S/60),_=Math.floor(S%60);return`${R}:${_.toString().padStart(2,"0")}`},j=()=>{b.current&&(u?b.current.pause():b.current.play())},C=S=>{if(b.current&&p>0){const R=S.currentTarget.getBoundingClientRect(),I=(S.clientX-R.left)/R.width*p;b.current.currentTime=I,f(I)}},A=()=>{const S=document.createElement("a");S.href=w,S.download=s||"audio",S.target="_blank",document.body.appendChild(S),S.click(),document.body.removeChild(S)},E=p>0?h/p*100:0;return e.jsxs("div",{className:fe("rounded-lg border border-gray-200 bg-white p-4",c),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:j,className:"flex-shrink-0",children:u?e.jsx(kc,{className:"w-4 h-4"}):e.jsx(Ka,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"relative h-10 bg-gray-100 rounded cursor-pointer",onClick:C,children:[e.jsx("div",{className:"absolute left-0 top-0 h-full bg-indigo-500 rounded transition-all duration-100",style:{width:`${E}%`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center gap-0.5 px-2",children:Array.from({length:30}).map((S,R)=>{const _=Math.random()*60+20,L=R/30*100<E;return e.jsx("div",{className:fe("w-1 rounded-full transition-colors",L?"bg-indigo-600":"bg-gray-300"),style:{height:`${_}%`}},R)})})]}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[e.jsx("span",{children:N(h)}),e.jsx("span",{children:N(p)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t5,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}),o&&i&&e.jsx(M,{variant:"ghost",size:"sm",onClick:i,className:"text-red-600 hover:text-red-700 hover:bg-red-50 h-8 w-8 p-0",children:e.jsx(Ye,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:A,className:"h-8 w-8 p-0",children:e.jsx(Yl,{className:"w-4 h-4"})})]})]}),s&&e.jsx("p",{className:"text-xs text-slate-600 mt-2 truncate",title:s,children:s}),e.jsx("audio",{ref:b,src:w,preload:"metadata"})]})}function W5({url:t,title:s,description:n,thumbnailUrl:i,onDelete:o,showDelete:c=!1,className:u}){const m=()=>{window.open(t,"_blank","noopener,noreferrer")},h=f=>{try{return new URL(f.startsWith("http")?f:`https://${f}`).hostname.replace("www.","")}catch{return f}};return e.jsx("div",{className:fe("rounded-lg border border-gray-200 bg-white overflow-hidden hover:shadow-md transition-shadow",u),children:e.jsxs("div",{className:"flex gap-4 p-4",children:[i&&e.jsx("div",{className:"flex-shrink-0 w-24 h-24 rounded overflow-hidden bg-gray-100",children:e.jsx("img",{src:jn(i),alt:s||"Link preview",className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}})}),!i&&e.jsx("div",{className:"flex-shrink-0 w-24 h-24 rounded bg-indigo-100 flex items-center justify-center",children:e.jsx(kw,{className:"w-8 h-8 text-indigo-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 line-clamp-2 flex-1",children:s||"Link"}),c&&o&&e.jsx(M,{variant:"ghost",size:"sm",onClick:o,className:"text-red-600 hover:text-red-700 hover:bg-red-50 h-6 w-6 p-0 flex-shrink-0",children:e.jsx(Ye,{className:"w-4 h-4"})})]}),n&&e.jsx("p",{className:"text-xs text-slate-600 line-clamp-2 mb-2",children:n}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-slate-400 truncate",children:h(t)}),e.jsxs(M,{variant:"outline",size:"sm",onClick:m,className:"text-xs h-6 px-2 flex-shrink-0",children:[e.jsx(Zl,{className:"w-3 h-3 mr-1"}),"Open"]})]})]})]})})}function $w({attachments:t,onDelete:s,showDelete:n=!1,className:i}){return t.length===0?e.jsx("div",{className:"text-center py-8 text-slate-500",children:e.jsx("p",{className:"text-sm",children:"No attachments yet"})}):e.jsx("div",{className:`flex flex-col gap-4 ${i||""}`,children:t.map(o=>{const c=s?()=>s(o.id):void 0;switch(o.fileType){case"image":return e.jsx(G5,{url:o.fileUrl||"",fileName:o.fileName||void 0,thumbnailUrl:o.thumbnailUrl||void 0,onDelete:c,showDelete:n},o.id);case"pdf":return e.jsx(Y5,{url:o.fileUrl||"",fileName:o.fileName||void 0,onDelete:c,showDelete:n},o.id);case"video":return e.jsx(Z5,{url:o.fileUrl||"",fileName:o.fileName||void 0,thumbnailUrl:o.thumbnailUrl||void 0,duration:o.duration||void 0,onDelete:c,showDelete:n},o.id);case"audio":return e.jsx(Hw,{url:o.fileUrl||"",fileName:o.fileName||void 0,duration:o.duration||void 0,onDelete:c,showDelete:n},o.id);case"link":return e.jsx(W5,{url:o.linkUrl||"",title:o.linkTitle||void 0,description:o.linkDescription||void 0,thumbnailUrl:o.thumbnailUrl||void 0,onDelete:c,showDelete:n},o.id);default:return null}})})}const Tl={Pending:{icon:Ti,color:"text-slate-400",bg:"bg-slate-50",border:"border-slate-200",label:"Pending"},StartedWorking:{icon:Ka,color:"text-blue-500",bg:"bg-blue-50",border:"border-blue-200",label:"Started Working"},Complete:{icon:ma,color:"text-green-500",bg:"bg-green-50",border:"border-green-200",label:"Complete"},Cancel:{icon:Ye,color:"text-red-500",bg:"bg-red-50",border:"border-red-200",label:"Cancel"}};function X5({id:t,title:s,instructions:n,weight:i,status:o,order:c,startedAt:u,completedAt:m,attachments:h=[],onStatusChange:f,onDelete:p,canEdit:y=!1,className:b}){const[w,N]=v.useState(!1),[j,C]=v.useState(!1),A=Tl[o].icon,E=async S=>{if(!(!f||j)){C(!0);try{await f(t,S)}catch(R){console.error("Error changing status:",R)}finally{C(!1)}}};return e.jsxs("div",{className:fe("border border-gray-200 rounded-lg bg-white transition-all",b),children:[e.jsxs("div",{className:"p-4 flex items-start gap-3",children:[e.jsx("div",{className:fe("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center border-2",Tl[o].bg,Tl[o].border),children:e.jsx(A,{className:fe("w-4 h-4",Tl[o].color)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsxs("h4",{className:"text-sm font-medium text-slate-900 flex-1",children:[c+1,". ",s]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs(js,{variant:"outline",className:"text-xs",children:[e.jsx(s5,{className:"w-3 h-3 mr-1"}),i,"x"]}),e.jsx(js,{variant:"outline",className:fe("text-xs",Tl[o].border),children:Tl[o].label})]})]}),o==="StartedWorking"&&u&&e.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Started working at ",Gl(new Date(u))]}),o==="Complete"&&m&&e.jsxs("p",{className:"text-xs text-slate-500 mb-2",children:["Completed at ",Gl(new Date(m))]}),n&&e.jsxs("button",{onClick:()=>N(!w),className:"flex items-center gap-1 text-xs text-indigo-600 hover:text-indigo-700 mb-2",children:[w?e.jsx(tm,{className:"w-3 h-3"}):e.jsx(Fc,{className:"w-3 h-3"}),e.jsxs("span",{children:[w?"Hide":"Show"," Instructions"]})]}),w&&n&&e.jsx("div",{className:"mt-2 p-3 bg-slate-50 rounded text-sm text-slate-700 whitespace-pre-wrap",children:n}),h.length>0&&e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-xs text-slate-500",children:[e.jsx(Np,{className:"w-3 h-3"}),e.jsxs("span",{children:[h.length," attachment",h.length>1?"s":""]})]}),y&&f&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs font-medium text-slate-600 self-center",children:"Change Status:"}),o==="Pending"&&e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>E("StartedWorking"),disabled:j,className:"h-7 text-xs",children:[e.jsx(Ka,{className:"w-3 h-3 mr-1"}),"Start Working"]}),o==="StartedWorking"&&e.jsxs(e.Fragment,{children:[e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>E("Complete"),disabled:j,className:"h-7 text-xs bg-green-50 hover:bg-green-100 text-green-700 border-green-200",children:[e.jsx(As,{className:"w-3 h-3 mr-1"}),"Complete"]}),e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>E("Cancel"),disabled:j,className:"h-7 text-xs bg-red-50 hover:bg-red-100 text-red-700 border-red-200",children:[e.jsx(Ye,{className:"w-3 h-3 mr-1"}),"Cancel"]})]})]})]}),y&&p&&e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>p(t),className:"text-red-600 hover:text-red-700 hover:bg-red-50 h-8 w-8 p-0 flex-shrink-0",children:e.jsx(Ye,{className:"w-4 h-4"})})]}),w&&h.length>0&&e.jsxs("div",{className:"px-4 pb-4 border-t border-gray-200 pt-4",children:[e.jsx("h5",{className:"text-xs font-medium text-slate-700 mb-3",children:"Attachments:"}),e.jsx($w,{attachments:h,showDelete:y})]})]})}function J5({onRecordingComplete:t,onCancel:s,className:n}){const[i,o]=v.useState(!1),[c,u]=v.useState(!1),[m,h]=v.useState(!1),[f,p]=v.useState(null),[y,b]=v.useState(0),[w,N]=v.useState(0),j=v.useRef(null),C=v.useRef([]),A=v.useRef(null),E=v.useRef(null),S=v.useRef(null),R=v.useRef(null);v.useEffect(()=>()=>{S.current&&clearInterval(S.current),R.current&&clearInterval(R.current),A.current&&A.current.getTracks().forEach(F=>F.stop())},[]);const _=F=>{const de=Math.floor(F/60),z=Math.floor(F%60);return`${de}:${z.toString().padStart(2,"0")}`},L=async()=>{try{const F=await navigator.mediaDevices.getUserMedia({audio:!0});A.current=F;const de=["audio/webm","audio/ogg","audio/mp4","audio/wav"];let z="audio/webm";for(const O of de)if(MediaRecorder.isTypeSupported(O)){z=O;break}const he=new MediaRecorder(F,{mimeType:z});j.current=he,C.current=[],he.ondataavailable=O=>{O.data.size>0&&C.current.push(O.data)},he.onstop=()=>{const O=new Blob(C.current,{type:z});if(p(O),E.current){const P=URL.createObjectURL(O);E.current.src=P}F.getTracks().forEach(P=>P.stop())},he.start(),o(!0),b(0),S.current=window.setInterval(()=>{b(O=>O+1)},1e3)}catch(F){console.error("Error starting recording:",F),alert("Failed to access microphone. Please check your permissions.")}},I=()=>{j.current&&i&&(j.current.stop(),o(!1),u(!1),S.current&&(clearInterval(S.current),S.current=null))},q=()=>{j.current&&i&&(c?j.current.resume():j.current.pause(),u(!c),S.current&&(c?S.current=window.setInterval(()=>{b(F=>F+1)},1e3):clearInterval(S.current)))},$=()=>{E.current&&f&&(m?(E.current.pause(),h(!1),R.current&&(clearInterval(R.current),R.current=null)):(E.current.play(),h(!0),R.current=window.setInterval(()=>{E.current&&(N(E.current.currentTime),E.current.ended&&(h(!1),N(0),R.current&&(clearInterval(R.current),R.current=null)))},100),E.current.addEventListener("ended",()=>{h(!1),N(0)})))},H=()=>{if(f&&j.current){const F=j.current.mimeType||"audio/webm";t?.(f,F,y),p(null),b(0),N(0),C.current=[]}},G=()=>{i&&j.current&&I(),A.current&&A.current.getTracks().forEach(F=>F.stop()),p(null),b(0),N(0),C.current=[],o(!1),u(!1),h(!1),s?.()};return e.jsxs("div",{className:fe("border border-gray-200 rounded-lg p-4 bg-white",n),children:[f?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{onClick:$,variant:"outline",size:"sm",children:m?e.jsx(kc,{className:"w-4 h-4"}):e.jsx(Ka,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm text-slate-600",children:[_(w)," / ",_(y)]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{onClick:H,className:"bg-indigo-600 hover:bg-indigo-700",size:"sm",children:[e.jsx(Ec,{className:"w-4 h-4 mr-2"}),"Upload"]}),e.jsx(M,{onClick:G,variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Ls,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-100",style:{width:`${y>0?w/y*100:0}%`}})}),e.jsx("audio",{ref:E})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-center gap-4",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:fe("w-3 h-3 rounded-full",c?"bg-yellow-500":"bg-red-500 animate-pulse")}),e.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[c?"Paused":"Recording"," - ",_(y)]})]}),e.jsx(M,{onClick:q,variant:"outline",size:"sm",children:c?e.jsx(Ka,{className:"w-4 h-4"}):e.jsx(kc,{className:"w-4 h-4"})}),e.jsx(M,{onClick:I,variant:"outline",size:"sm",className:"bg-red-50 hover:bg-red-100 text-red-700 border-red-300",children:e.jsx(JT,{className:"w-4 h-4"})})]}):e.jsxs(M,{onClick:L,className:"bg-red-600 hover:bg-red-700 text-white",size:"lg",children:[e.jsx(Tw,{className:"w-5 h-5 mr-2"}),"Start Recording"]})}),i&&e.jsx("div",{className:"flex items-center justify-center gap-1 h-16",children:Array.from({length:30}).map((F,de)=>{const z=de*.1,he=Math.random()*40+20;return e.jsx("div",{className:fe("w-2 bg-indigo-500 rounded-full transition-all",c&&"opacity-50"),style:{height:`${c?20:he}%`,animation:c?"none":"pulse 0.5s ease-in-out infinite",animationDelay:`${z}s`}},de)})})]}),!i&&!f&&s&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs(M,{onClick:G,variant:"ghost",size:"sm",className:"w-full text-slate-600 hover:text-slate-700",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Cancel"]})})]})}function Kw({onFileSelect:t,onLinkAdd:s,onRemove:n,accept:i="image/*,application/pdf,video/*,audio/*",maxSize:o=50*1024*1024,className:c,taskId:u,subTaskId:m}){const[h,f]=v.useState(!1),[p,y]=v.useState(null),[b,w]=v.useState(null),[N,j]=v.useState(""),[C,A]=v.useState("file"),E=v.useRef(null),S=v.useRef(null),R=v.useCallback(F=>{F.preventDefault(),f(!0)},[]),_=v.useCallback(F=>{F.preventDefault(),f(!1)},[]),L=v.useCallback(F=>{F.preventDefault(),f(!1);const de=F.dataTransfer.files;de.length>0&&I(de[0])},[]),I=F=>{if(F.size>o){alert(`File size must be less than ${(o/1024/1024).toFixed(0)}MB`);return}if(!i.split(",").map(he=>he.trim()).some(he=>{if(he.endsWith("/*")){const O=he.split("/")[0];return F.type.startsWith(`${O}/`)}return F.type===he})){alert(`Invalid file type. Allowed types: ${i}`);return}if(y(F),t?.(F),F.type.startsWith("image/")){const he=URL.createObjectURL(F);w(he)}else w(null)},q=F=>{const de=F.target.files;de&&de.length>0&&I(de[0])},$=()=>{y(null),b&&(URL.revokeObjectURL(b),w(null)),E.current&&(E.current.value=""),n?.()},H=()=>{if(!N.trim()){alert("Please enter a valid URL");return}try{new URL(N.startsWith("http")?N:`https://${N}`),s?.(N),j(""),A("file")}catch{alert("Please enter a valid URL")}},G=F=>F.type.startsWith("image/")?e.jsx(Di,{className:"w-5 h-5"}):F.type==="application/pdf"?e.jsx(Vt,{className:"w-5 h-5"}):F.type.startsWith("video/")?e.jsx(Lw,{className:"w-5 h-5"}):F.type.startsWith("audio/")?e.jsx(ZT,{className:"w-5 h-5"}):e.jsx(Vt,{className:"w-5 h-5"});return e.jsxs("div",{className:fe("space-y-4",c),children:[e.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[e.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>A("file"),className:fe("rounded-none border-b-2 border-transparent",C==="file"&&"border-indigo-600 text-indigo-600"),children:[e.jsx(Ec,{className:"w-4 h-4 mr-2"}),"Upload File"]}),e.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>A("link"),className:fe("rounded-none border-b-2 border-transparent",C==="link"&&"border-indigo-600 text-indigo-600"),children:[e.jsx(Aw,{className:"w-4 h-4 mr-2"}),"Add Link"]})]}),C==="file"&&e.jsx("div",{children:p?e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[b?e.jsx("img",{src:b,alt:"Preview",className:"w-16 h-16 object-cover rounded"}):e.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded flex items-center justify-center",children:G(p)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:p.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:[(p.size/1024/1024).toFixed(2)," MB"]})]}),e.jsx(M,{variant:"ghost",size:"sm",onClick:$,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(Ye,{className:"w-4 h-4"})})]})}):e.jsxs("div",{className:fe("border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer",h?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-400"),onDragOver:R,onDragLeave:_,onDrop:L,onClick:()=>E.current?.click(),children:[e.jsx(Ec,{className:"w-12 h-12 mx-auto text-slate-400 mb-3"}),e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Drag and drop a file here, or click to select"}),e.jsxs("p",{className:"text-xs text-slate-500",children:["Images, PDFs, Videos, Audio (max ",Math.round(o/1024/1024),"MB)"]}),e.jsx("input",{ref:E,type:"file",accept:i,onChange:q,className:"hidden"})]})}),C==="link"&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{children:[e.jsx(W,{htmlFor:"link-url",className:"text-sm font-medium text-slate-700",children:"Link URL"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx("div",{className:"flex-1",children:e.jsx(me,{ref:S,id:"link-url",type:"url",placeholder:"https://example.com",value:N,onChange:F=>j(F.target.value),onKeyPress:F=>{F.key==="Enter"&&H()}})}),e.jsxs(M,{onClick:H,className:"bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(kw,{className:"w-4 h-4 mr-2"}),"Add Link"]})]})]})})]})}const Sn=Object.create(null);Sn.open="0";Sn.close="1";Sn.ping="2";Sn.pong="3";Sn.message="4";Sn.upgrade="5";Sn.noop="6";const vu=Object.create(null);Object.keys(Sn).forEach(t=>{vu[Sn[t]]=t});const Rx={type:"error",data:"parser error"},Qw=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Gw=typeof ArrayBuffer=="function",Yw=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,kp=({type:t,data:s},n,i)=>Qw&&s instanceof Blob?n?i(s):hb(s,i):Gw&&(s instanceof ArrayBuffer||Yw(s))?n?i(s):hb(new Blob([s]),i):i(Sn[t]+(s||"")),hb=(t,s)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];s("b"+(i||""))},n.readAsDataURL(t)};function fb(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Gf;function e3(t,s){if(Qw&&t.data instanceof Blob)return t.data.arrayBuffer().then(fb).then(s);if(Gw&&(t.data instanceof ArrayBuffer||Yw(t.data)))return s(fb(t.data));kp(t,!1,n=>{Gf||(Gf=new TextEncoder),s(Gf.encode(n))})}const xb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<xb.length;t++)fc[xb.charCodeAt(t)]=t;const t3=t=>{let s=t.length*.75,n=t.length,i,o=0,c,u,m,h;t[t.length-1]==="="&&(s--,t[t.length-2]==="="&&s--);const f=new ArrayBuffer(s),p=new Uint8Array(f);for(i=0;i<n;i+=4)c=fc[t.charCodeAt(i)],u=fc[t.charCodeAt(i+1)],m=fc[t.charCodeAt(i+2)],h=fc[t.charCodeAt(i+3)],p[o++]=c<<2|u>>4,p[o++]=(u&15)<<4|m>>2,p[o++]=(m&3)<<6|h&63;return f},s3=typeof ArrayBuffer=="function",Ep=(t,s)=>{if(typeof t!="string")return{type:"message",data:Zw(t,s)};const n=t.charAt(0);return n==="b"?{type:"message",data:a3(t.substring(1),s)}:vu[n]?t.length>1?{type:vu[n],data:t.substring(1)}:{type:vu[n]}:Rx},a3=(t,s)=>{if(s3){const n=t3(t);return Zw(n,s)}else return{base64:!0,data:t}},Zw=(t,s)=>{switch(s){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Ww="",n3=(t,s)=>{const n=t.length,i=new Array(n);let o=0;t.forEach((c,u)=>{kp(c,!1,m=>{i[u]=m,++o===n&&s(i.join(Ww))})})},r3=(t,s)=>{const n=t.split(Ww),i=[];for(let o=0;o<n.length;o++){const c=Ep(n[o],s);if(i.push(c),c.type==="error")break}return i};function i3(){return new TransformStream({transform(t,s){e3(t,n=>{const i=n.length;let o;if(i<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,i);else if(i<65536){o=new Uint8Array(3);const c=new DataView(o.buffer);c.setUint8(0,126),c.setUint16(1,i)}else{o=new Uint8Array(9);const c=new DataView(o.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(o[0]|=128),s.enqueue(o),s.enqueue(n)})}})}let Yf;function iu(t){return t.reduce((s,n)=>s+n.length,0)}function lu(t,s){if(t[0].length===s)return t.shift();const n=new Uint8Array(s);let i=0;for(let o=0;o<s;o++)n[o]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function l3(t,s){Yf||(Yf=new TextDecoder);const n=[];let i=0,o=-1,c=!1;return new TransformStream({transform(u,m){for(n.push(u);;){if(i===0){if(iu(n)<1)break;const h=lu(n,1);c=(h[0]&128)===128,o=h[0]&127,o<126?i=3:o===126?i=1:i=2}else if(i===1){if(iu(n)<2)break;const h=lu(n,2);o=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),i=3}else if(i===2){if(iu(n)<8)break;const h=lu(n,8),f=new DataView(h.buffer,h.byteOffset,h.length),p=f.getUint32(0);if(p>Math.pow(2,21)-1){m.enqueue(Rx);break}o=p*Math.pow(2,32)+f.getUint32(4),i=3}else{if(iu(n)<o)break;const h=lu(n,o);m.enqueue(Ep(c?h:Yf.decode(h),s)),i=0}if(o===0||o>t){m.enqueue(Rx);break}}}})}const Xw=4;function fs(t){if(t)return o3(t)}function o3(t){for(var s in fs.prototype)t[s]=fs.prototype[s];return t}fs.prototype.on=fs.prototype.addEventListener=function(t,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(s),this};fs.prototype.once=function(t,s){function n(){this.off(t,n),s.apply(this,arguments)}return n.fn=s,this.on(t,n),this};fs.prototype.off=fs.prototype.removeListener=fs.prototype.removeAllListeners=fs.prototype.removeEventListener=function(t,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,o=0;o<n.length;o++)if(i=n[o],i===s||i.fn===s){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+t],this};fs.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)s[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,o=n.length;i<o;++i)n[i].apply(this,s)}return this};fs.prototype.emitReserved=fs.prototype.emit;fs.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};fs.prototype.hasListeners=function(t){return!!this.listeners(t).length};const rm=typeof Promise=="function"&&typeof Promise.resolve=="function"?s=>Promise.resolve().then(s):(s,n)=>n(s,0),Ha=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),c3="arraybuffer";function Jw(t,...s){return s.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const d3=Ha.setTimeout,u3=Ha.clearTimeout;function im(t,s){s.useNativeTimers?(t.setTimeoutFn=d3.bind(Ha),t.clearTimeoutFn=u3.bind(Ha)):(t.setTimeoutFn=Ha.setTimeout.bind(Ha),t.clearTimeoutFn=Ha.clearTimeout.bind(Ha))}const m3=1.33;function h3(t){return typeof t=="string"?f3(t):Math.ceil((t.byteLength||t.size)*m3)}function f3(t){let s=0,n=0;for(let i=0,o=t.length;i<o;i++)s=t.charCodeAt(i),s<128?n+=1:s<2048?n+=2:s<55296||s>=57344?n+=3:(i++,n+=4);return n}function e1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function x3(t){let s="";for(let n in t)t.hasOwnProperty(n)&&(s.length&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return s}function p3(t){let s={},n=t.split("&");for(let i=0,o=n.length;i<o;i++){let c=n[i].split("=");s[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return s}class g3 extends Error{constructor(s,n,i){super(s),this.description=n,this.context=i,this.type="TransportError"}}class Ap extends fs{constructor(s){super(),this.writable=!1,im(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,n,i){return super.emitReserved("error",new g3(s,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(s){this.readyState==="open"&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const n=Ep(s,this.socket.binaryType);this.onPacket(n)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,n={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const s=this.opts.hostname;return s.indexOf(":")===-1?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(s){const n=x3(s);return n.length?"?"+n:""}}class y3 extends Ap{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const n=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};r3(s,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};this.readyState==="open"?s():this.once("open",s)}write(s){this.writable=!1,n3(s,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=e1()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(s,n)}}let t1=!1;try{t1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const v3=t1;function j3(){}class b3 extends y3{constructor(s){if(super(s),typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&s.hostname!==location.hostname||i!==s.port}}doWrite(s,n){const i=this.request({method:"POST",data:s});i.on("success",n),i.on("error",(o,c)=>{this.onError("xhr post error",o,c)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=s}}class bn extends fs{constructor(s,n,i){super(),this.createRequest=s,im(this,i),this._opts=i,this._method=i.method||"GET",this._uri=n,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var s;const n=Jw(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(n);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(s=this._opts.cookieJar)===null||s===void 0||s.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=bn.requestsCount++,bn.requests[this._index]=this)}_onError(s){this.emitReserved("error",s,this._xhr),this._cleanup(!0)}_cleanup(s){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=j3,s)try{this._xhr.abort()}catch{}typeof document<"u"&&delete bn.requests[this._index],this._xhr=null}}_onLoad(){const s=this._xhr.responseText;s!==null&&(this.emitReserved("data",s),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}bn.requestsCount=0;bn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",pb);else if(typeof addEventListener=="function"){const t="onpagehide"in Ha?"pagehide":"unload";addEventListener(t,pb,!1)}}function pb(){for(let t in bn.requests)bn.requests.hasOwnProperty(t)&&bn.requests[t].abort()}const N3=(function(){const t=s1({xdomain:!1});return t&&t.responseType!==null})();class w3 extends b3{constructor(s){super(s);const n=s&&s.forceBase64;this.supportsBinary=N3&&!n}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new bn(s1,this.uri(),s)}}function s1(t){const s=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||v3))return new XMLHttpRequest}catch{}if(!s)try{return new Ha[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const a1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class S3 extends Ap{get name(){return"websocket"}doOpen(){const s=this.uri(),n=this.opts.protocols,i=a1?{}:Jw(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,n,i)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let n=0;n<s.length;n++){const i=s[n],o=n===s.length-1;kp(i,this.supportsBinary,c=>{try{this.doWrite(i,c)}catch{}o&&rm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=e1()),this.supportsBinary||(n.b64=1),this.createUri(s,n)}}const Zf=Ha.WebSocket||Ha.MozWebSocket;class C3 extends S3{createSocket(s,n,i){return a1?new Zf(s,n,i):n?new Zf(s,n):new Zf(s)}doWrite(s,n){this.ws.send(n)}}class k3 extends Ap{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const n=l3(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=s.readable.pipeThrough(n).getReader(),o=i3();o.readable.pipeTo(s.writable),this._writer=o.writable.getWriter();const c=()=>{i.read().then(({done:m,value:h})=>{m||(this.onPacket(h),c())}).catch(m=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let n=0;n<s.length;n++){const i=s[n],o=n===s.length-1;this._writer.write(i).then(()=>{o&&rm(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;(s=this._transport)===null||s===void 0||s.close()}}const E3={websocket:C3,webtransport:k3,polling:w3},A3=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_3=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Dx(t){if(t.length>8e3)throw"URI too long";const s=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let o=A3.exec(t||""),c={},u=14;for(;u--;)c[_3[u]]=o[u]||"";return n!=-1&&i!=-1&&(c.source=s,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=T3(c,c.path),c.queryKey=R3(c,c.query),c}function T3(t,s){const n=/\/{2,9}/g,i=s.replace(n,"/").split("/");return(s.slice(0,1)=="/"||s.length===0)&&i.splice(0,1),s.slice(-1)=="/"&&i.splice(i.length-1,1),i}function R3(t,s){const n={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,o,c){o&&(n[o]=c)}),n}const Ox=typeof addEventListener=="function"&&typeof removeEventListener=="function",ju=[];Ox&&addEventListener("offline",()=>{ju.forEach(t=>t())},!1);class Mr extends fs{constructor(s,n){if(super(),this.binaryType=c3,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,s&&typeof s=="object"&&(n=s,s=null),s){const i=Dx(s);n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=Dx(n.host).host);im(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(i=>{const o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=p3(this.opts.query)),Ox&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ju.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(s){const n=Object.assign({},this.opts.query);n.EIO=Xw,n.transport=s,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[s]);return new this._transportsByName[s](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const s=this.opts.rememberUpgrade&&Mr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(s);n.open(),this.setTransport(n)}setTransport(s){this.transport&&this.transport.removeAllListeners(),this.transport=s,s.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Mr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",s),this.emitReserved("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=s.data,this._onError(n);break;case"message":this.emitReserved("data",s.data),this.emitReserved("message",s.data);break}}onHandshake(s){this.emitReserved("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this._pingInterval=s.pingInterval,this._pingTimeout=s.pingTimeout,this._maxPayload=s.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const s=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+s,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},s),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const s=this._getWritablePackets();this.transport.send(s),this._prevBufferLen=s.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(n+=h3(o)),i>0&&n>this._maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const s=Date.now()>this._pingTimeoutTime;return s&&(this._pingTimeoutTime=0,rm(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),s}write(s,n,i){return this._sendPacket("message",s,n,i),this}send(s,n,i){return this._sendPacket("message",s,n,i),this}_sendPacket(s,n,i,o){if(typeof n=="function"&&(o=n,n=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const c={type:s,data:n,options:i};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),o&&this.once("flush",o),this.flush()}close(){const s=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),s()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():s()}):this.upgrading?i():s()),this}_onError(s){if(Mr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",s),this._onClose("transport error",s)}_onClose(s,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ox&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=ju.indexOf(this._offlineEventListener);i!==-1&&ju.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",s,n),this.writeBuffer=[],this._prevBufferLen=0}}}Mr.protocol=Xw;class D3 extends Mr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let n=this.createTransport(s),i=!1;Mr.priorWebsocketSuccess=!1;const o=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",y=>{if(!i)if(y.type==="pong"&&y.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Mr.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function c(){i||(i=!0,p(),n.close(),n=null)}const u=y=>{const b=new Error("probe error: "+y);b.transport=n.name,c(),this.emitReserved("upgradeError",b)};function m(){u("transport closed")}function h(){u("socket closed")}function f(y){n&&y.name!==n.name&&c()}const p=()=>{n.removeListener("open",o),n.removeListener("error",u),n.removeListener("close",m),this.off("close",h),this.off("upgrading",f)};n.once("open",o),n.once("error",u),n.once("close",m),this.once("close",h),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&s!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const n=[];for(let i=0;i<s.length;i++)~this.transports.indexOf(s[i])&&n.push(s[i]);return n}}let O3=class extends D3{constructor(s,n={}){const i=typeof s=="object"?s:n;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(o=>E3[o]).filter(o=>!!o)),super(s,i)}};function M3(t,s="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=Dx(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const c=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+c+":"+i.port+s,i.href=i.protocol+"://"+c+(n&&n.port===i.port?"":":"+i.port),i}const I3=typeof ArrayBuffer=="function",L3=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,n1=Object.prototype.toString,P3=typeof Blob=="function"||typeof Blob<"u"&&n1.call(Blob)==="[object BlobConstructor]",U3=typeof File=="function"||typeof File<"u"&&n1.call(File)==="[object FileConstructor]";function _p(t){return I3&&(t instanceof ArrayBuffer||L3(t))||P3&&t instanceof Blob||U3&&t instanceof File}function bu(t,s){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(bu(t[n]))return!0;return!1}if(_p(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return bu(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&bu(t[n]))return!0;return!1}function F3(t){const s=[],n=t.data,i=t;return i.data=Mx(n,s),i.attachments=s.length,{packet:i,buffers:s}}function Mx(t,s){if(!t)return t;if(_p(t)){const n={_placeholder:!0,num:s.length};return s.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=Mx(t[i],s);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Mx(t[i],s));return n}return t}function q3(t,s){return t.data=Ix(t.data,s),delete t.attachments,t}function Ix(t,s){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<s.length)return s[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Ix(t[n],s);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Ix(t[n],s));return t}const r1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],z3=5;var ct;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(ct||(ct={}));class B3{constructor(s){this.replacer=s}encode(s){return(s.type===ct.EVENT||s.type===ct.ACK)&&bu(s)?this.encodeAsBinary({type:s.type===ct.EVENT?ct.BINARY_EVENT:ct.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id}):[this.encodeAsString(s)]}encodeAsString(s){let n=""+s.type;return(s.type===ct.BINARY_EVENT||s.type===ct.BINARY_ACK)&&(n+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(n+=s.nsp+","),s.id!=null&&(n+=s.id),s.data!=null&&(n+=JSON.stringify(s.data,this.replacer)),n}encodeAsBinary(s){const n=F3(s),i=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(i),o}}class Tp extends fs{constructor(s){super(),this.reviver=s}add(s){let n;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(s);const i=n.type===ct.BINARY_EVENT;i||n.type===ct.BINARY_ACK?(n.type=i?ct.EVENT:ct.ACK,this.reconstructor=new V3(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(_p(s)||s.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(s),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)}decodeString(s){let n=0;const i={type:Number(s.charAt(0))};if(ct[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===ct.BINARY_EVENT||i.type===ct.BINARY_ACK){const c=n+1;for(;s.charAt(++n)!=="-"&&n!=s.length;);const u=s.substring(c,n);if(u!=Number(u)||s.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(u)}if(s.charAt(n+1)==="/"){const c=n+1;for(;++n&&!(s.charAt(n)===","||n===s.length););i.nsp=s.substring(c,n)}else i.nsp="/";const o=s.charAt(n+1);if(o!==""&&Number(o)==o){const c=n+1;for(;++n;){const u=s.charAt(n);if(u==null||Number(u)!=u){--n;break}if(n===s.length)break}i.id=Number(s.substring(c,n+1))}if(s.charAt(++n)){const c=this.tryParse(s.substr(n));if(Tp.isPayloadValid(i.type,c))i.data=c;else throw new Error("invalid payload")}return i}tryParse(s){try{return JSON.parse(s,this.reviver)}catch{return!1}}static isPayloadValid(s,n){switch(s){case ct.CONNECT:return zu(n);case ct.DISCONNECT:return n===void 0;case ct.CONNECT_ERROR:return typeof n=="string"||zu(n);case ct.EVENT:case ct.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&r1.indexOf(n[0])===-1);case ct.ACK:case ct.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class V3{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const n=q3(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function H3(t){return typeof t=="string"}const $3=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function K3(t){return t===void 0||$3(t)}function zu(t){return Object.prototype.toString.call(t)==="[object Object]"}function Q3(t,s){switch(t){case ct.CONNECT:return s===void 0||zu(s);case ct.DISCONNECT:return s===void 0;case ct.EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&r1.indexOf(s[0])===-1);case ct.ACK:return Array.isArray(s);case ct.CONNECT_ERROR:return typeof s=="string"||zu(s);default:return!1}}function G3(t){return H3(t.nsp)&&K3(t.id)&&Q3(t.type,t.data)}const Y3=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Tp,Encoder:B3,get PacketType(){return ct},isPacketValid:G3,protocol:z3},Symbol.toStringTag,{value:"Module"}));function Xa(t,s,n){return t.on(s,n),function(){t.off(s,n)}}const Z3=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class i1 extends fs{constructor(s,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[Xa(s,"open",this.onopen.bind(this)),Xa(s,"packet",this.onpacket.bind(this)),Xa(s,"error",this.onerror.bind(this)),Xa(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...n){var i,o,c;if(Z3.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(n.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const u={type:ct.EVENT,data:n};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const p=this.ids++,y=n.pop();this._registerAckCallback(p,y),u.id=p}const m=(o=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||o===void 0?void 0:o.writable,h=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!m||(h?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(s,n){var i;const o=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(o===void 0){this.acks[s]=n;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let m=0;m<this.sendBuffer.length;m++)this.sendBuffer[m].id===s&&this.sendBuffer.splice(m,1);n.call(this,new Error("operation has timed out"))},o),u=(...m)=>{this.io.clearTimeoutFn(c),n.apply(this,m)};u.withError=!0,this.acks[s]=u}emitWithAck(s,...n){return new Promise((i,o)=>{const c=(u,m)=>u?o(u):i(m);c.withError=!0,n.push(c),this.emit(s,...n)})}_addToQueue(s){let n;typeof s[s.length-1]=="function"&&(n=s.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((o,...c)=>(this._queue[0],o!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...c)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!s||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){typeof this.auth=="function"?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:ct.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(i=>String(i.id)===s)){const i=this.acks[s];delete this.acks[s],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case ct.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ct.EVENT:case ct.BINARY_EVENT:this.onevent(s);break;case ct.ACK:case ct.BINARY_ACK:this.onack(s);break;case ct.DISCONNECT:this.ondisconnect();break;case ct.CONNECT_ERROR:this.destroy();const i=new Error(s.data.message);i.data=s.data.data,this.emitReserved("connect_error",i);break}}onevent(s){const n=s.data||[];s.id!=null&&n.push(this.ack(s.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&typeof s[s.length-1]=="string"&&(this._lastOffset=s[s.length-1])}ack(s){const n=this;let i=!1;return function(...o){i||(i=!0,n.packet({type:ct.ACK,id:s,data:o}))}}onack(s){const n=this.acks[s.id];typeof n=="function"&&(delete this.acks[s.id],n.withError&&s.data.unshift(null),n.apply(this,s.data))}onconnect(s,n){this.id=s,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ct.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(s===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(s===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,s.data)}}}function oo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}oo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),n=Math.floor(s*this.jitter*t);t=(Math.floor(s*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};oo.prototype.reset=function(){this.attempts=0};oo.prototype.setMin=function(t){this.ms=t};oo.prototype.setMax=function(t){this.max=t};oo.prototype.setJitter=function(t){this.jitter=t};class Lx extends fs{constructor(s,n){var i;super(),this.nsps={},this.subs=[],s&&typeof s=="object"&&(n=s,s=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,im(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new oo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=s;const o=n.parser||Y3;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return s===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var n;return s===void 0?this._reconnectionDelay:(this._reconnectionDelay=s,(n=this.backoff)===null||n===void 0||n.setMin(s),this)}randomizationFactor(s){var n;return s===void 0?this._randomizationFactor:(this._randomizationFactor=s,(n=this.backoff)===null||n===void 0||n.setJitter(s),this)}reconnectionDelayMax(s){var n;return s===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,(n=this.backoff)===null||n===void 0||n.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new O3(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const o=Xa(n,"open",function(){i.onopen(),s&&s()}),c=m=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",m),s?s(m):this.maybeReconnectOnOpen()},u=Xa(n,"error",c);if(this._timeout!==!1){const m=this._timeout,h=this.setTimeoutFn(()=>{o(),c(new Error("timeout")),n.close()},m);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(o),this.subs.push(u),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(Xa(s,"ping",this.onping.bind(this)),Xa(s,"data",this.ondata.bind(this)),Xa(s,"error",this.onerror.bind(this)),Xa(s,"close",this.onclose.bind(this)),Xa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(n){this.onclose("parse error",n)}}ondecoded(s){rm(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,n){let i=this.nsps[s];return i?this._autoConnect&&!i.active&&i.connect():(i=new i1(this,s,n),this.nsps[s]=i),i}_destroy(s){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(s){const n=this.encoder.encode(s);for(let i=0;i<n.length;i++)this.engine.write(n[i],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,n){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(o=>{o?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",o)):s.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const oc={};function Nu(t,s){typeof t=="object"&&(s=t,t=void 0),s=s||{};const n=M3(t,s.path||"/socket.io"),i=n.source,o=n.id,c=n.path,u=oc[o]&&c in oc[o].nsps,m=s.forceNew||s["force new connection"]||s.multiplex===!1||u;let h;return m?h=new Lx(i,s):(oc[o]||(oc[o]=new Lx(i,s)),h=oc[o]),n.query&&!s.query&&(s.query=n.queryKey),h.socket(n.path,s)}Object.assign(Nu,{Manager:Lx,Socket:i1,io:Nu,connect:Nu});function W3(){const{user:t}=We(),[s,n]=v.useState(null),[i,o]=v.useState(!1),[c,u]=v.useState(null),m=v.useRef(null);return v.useEffect(()=>{if(!t){m.current&&(m.current.disconnect(),n(null),o(!1));return}const h=localStorage.getItem("token");if(!h){u("No authentication token found");return}const p="https://api.paaera.com/api".replace(/\/api$/,"")||"http://localhost:5001",y=Nu(p,{auth:{token:h},transports:["websocket","polling"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5});return m.current=y,n(y),y.on("connect",()=>{console.log("Socket.IO connected:",y.id),o(!0),u(null)}),y.on("disconnect",b=>{console.log("Socket.IO disconnected:",b),o(!1)}),y.on("connect_error",b=>{console.error("Socket.IO connection error:",b),u(b.message||"Connection failed"),o(!1)}),y.on("reconnect",b=>{console.log("Socket.IO reconnected after",b,"attempts"),o(!0),u(null)}),y.on("reconnect_error",b=>{console.error("Socket.IO reconnection error:",b),u(b.message||"Reconnection failed")}),y.on("reconnect_failed",()=>{console.error("Socket.IO reconnection failed"),u("Failed to reconnect. Please refresh the page.")}),()=>{y.disconnect(),m.current=null,n(null),o(!1)}},[t]),{socket:s,isConnected:i,error:c}}function X3({taskId:t,companyId:s,enabled:n=!0}){const{socket:i,isConnected:o}=W3(),{user:c}=We(),u=gt(),m=v.useRef(null),h=v.useRef(new Set),f=v.useRef(new Set),[p,y]=v.useState(new Set),[b,w]=v.useState(new Set),N=v.useRef(!1);v.useEffect(()=>{if(!(!i||!n||!t||!s||N.current))return i.emit("join-task-room",{taskId:t,companyId:s}),N.current=!0,i.emit("mark-online",{taskId:t,companyId:s}),()=>{i&&N.current&&(i.emit("leave-task-room",{taskId:t,companyId:s}),i.emit("mark-offline",{taskId:t,companyId:s}),N.current=!1)}},[i,n,t,s]),v.useEffect(()=>{if(!i||!n)return;const R=_=>{_.taskId===t&&_.message&&u.setQueryData(["task-messages",t,s],L=>{if(!L||!L.messages||L.messages?.find($=>$.id===_.message.id))return L;const q=[...L.messages||[],_.message];return q.sort(($,H)=>new Date($.createdAt).getTime()-new Date(H.createdAt).getTime()),{...L,messages:q}})};return i.on("new-message",R),()=>{i.off("new-message",R)}},[i,n,t,s,u]),v.useEffect(()=>{if(!i||!n||!c)return;const R=L=>{L.taskId===t&&L.userId!==c.id&&(h.current.add(L.userId),y(new Set(h.current)),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{h.current.delete(L.userId),y(new Set(h.current))},3e3))},_=L=>{L.taskId===t&&L.userId!==c.id&&(h.current.delete(L.userId),y(new Set(h.current)))};return i.on("user-typing",R),i.on("user-stopped-typing",_),()=>{i.off("user-typing",R),i.off("user-stopped-typing",_),m.current&&clearTimeout(m.current)}},[i,n,t,c]),v.useEffect(()=>{if(!i||!n||!c)return;const R=L=>{L.taskId===t&&L.userId!==c.id&&(f.current.add(L.userId),w(new Set(f.current)))},_=L=>{L.taskId===t&&L.userId!==c.id&&(f.current.delete(L.userId),w(new Set(f.current)))};return i.on("user-online",R),i.on("user-offline",_),()=>{i.off("user-online",R),i.off("user-offline",_)}},[i,n,t,c]);const j=v.useCallback(R=>{if(!i||!o){console.error("Socket not connected");return}i.emit("send-message",{taskId:t,companyId:s,...R})},[i,o,t,s]),C=v.useCallback(()=>{!i||!o||i.emit("typing-start",{taskId:t,companyId:s})},[i,o,t,s]),A=v.useCallback(()=>{!i||!o||i.emit("typing-stop",{taskId:t,companyId:s})},[i,o,t,s]),E=v.useCallback(()=>{!i||!o||i.emit("mark-online",{taskId:t,companyId:s})},[i,o,t,s]),S=v.useCallback(()=>{!i||!o||i.emit("mark-offline",{taskId:t,companyId:s})},[i,o,t,s]);return{sendMessage:j,startTyping:C,stopTyping:A,markOnline:E,markOffline:S,isConnected:o,typingUsers:p,onlineUsers:b}}function J3({taskId:t,companyId:s,className:n}){const{user:i}=We(),o=gt(),[c,u]=v.useState(""),[m,h]=v.useState(!1),[f,p]=v.useState(!1),[y,b]=v.useState(null),w=v.useRef(null),N=v.useRef(null),{sendMessage:j,startTyping:C,stopTyping:A,markOnline:E,markOffline:S,isConnected:R,typingUsers:_,onlineUsers:L}=X3({taskId:t,companyId:s,enabled:!!t&&!!s}),{data:I,isLoading:q}=we({queryKey:["task-messages",t,s],queryFn:async()=>(await vs.getMessages(t,s,1,100)).data.data||{messages:[],pagination:{}},enabled:!!t&&!!s,staleTime:1/0,gcTime:1/0}),$=I?.messages||[];v.useEffect(()=>{w.current?.scrollIntoView({behavior:"smooth"})},[$]);const H=U=>{if(!R){G.mutate(U);return}j(U),u(""),b(null),p(!1),A()},G=Te({mutationFn:async U=>await vs.sendMessage(t,U,s),onSuccess:()=>{o.invalidateQueries({queryKey:["task-messages",t,s]}),u(""),b(null),p(!1)}}),F=Te({mutationFn:async U=>{const pe=new FormData;return pe.append("file",U),pe.append("taskId",t.toString()),pe.append("companyId",s.toString()),(await vs.uploadAttachment(t,U,s)).data.data},onSuccess:U=>{H({content:c||void 0,messageType:U.fileType==="image"?"image":"file",attachmentId:U.id})}}),de=Te({mutationFn:async({blob:U,mimeType:pe,duration:Ne})=>await vs.uploadAudio(t,U,pe,Ne,s),onSuccess:U=>{const pe=U.data.data;pe&&pe.id?(H({content:c||void 0,messageType:"audio",attachmentId:pe.id}),h(!1),u("")):(console.error("Audio upload failed: No attachment ID returned"),alert("Failed to upload audio. Please try again."))},onError:U=>{console.error("Error uploading audio:",U),alert(U?.response?.data?.message||"Failed to upload audio. Please try again.")}}),z=()=>{!c.trim()&&!y&&!m||(y?F.mutate(y):m||H({content:c,messageType:"text"}))};v.useEffect(()=>{if(!c.trim()){A();return}return C(),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{A()},3e3),()=>{N.current&&clearTimeout(N.current)}},[c,C,A]),v.useEffect(()=>(E(),()=>{S()}),[E,S]);const he=U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),z())},O=U=>i?.id===U,P=Array.from(_).map(U=>{const pe=$.find(Ne=>Ne.senderId===U);return pe?.sender.name||pe?.sender.email||"Someone"});return e.jsxs("div",{className:fe("flex flex-col h-full border border-gray-200 rounded-lg bg-white",n),children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center justify-between bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:fe("w-2 h-2 rounded-full",R?"bg-green-500":"bg-red-500")}),e.jsx("span",{className:"text-xs text-slate-600",children:R?"Connected":"Disconnected"})]}),L.size>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ti,{className:"w-3 h-3 text-green-500 fill-green-500"}),e.jsxs("span",{className:"text-xs text-slate-600",children:[L.size," ",L.size===1?"user":"users"," online"]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-[400px] max-h-[600px]",children:[q?e.jsx("div",{className:"text-center py-8 text-slate-500",children:e.jsx("p",{className:"text-sm",children:"Loading messages..."})}):$.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(Bs,{className:"w-12 h-12 mx-auto text-slate-300 mb-3"}),e.jsx("p",{className:"text-sm",children:"No messages yet. Start the conversation!"})]}):$.map(U=>e.jsxs("div",{className:fe("flex gap-3",O(U.senderId)?"flex-row-reverse":"flex-row"),children:[e.jsx("div",{className:"flex-shrink-0",children:U.sender.profileImage?e.jsx("img",{src:U.sender.profileImage,alt:U.sender.name||U.sender.email,className:"w-8 h-8 rounded-full"}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-indigo-600",children:(U.sender.name||U.sender.email||"U")[0].toUpperCase()})})}),e.jsxs("div",{className:fe("flex-1 max-w-[70%]",O(U.senderId)?"items-end":"items-start"),children:[e.jsxs("div",{className:fe("rounded-lg p-3",O(U.senderId)?"bg-indigo-600 text-white":"bg-gray-100 text-slate-900"),children:[U.content&&e.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:U.content}),U.attachment&&e.jsxs("div",{className:"mt-2",children:[U.attachment.fileType==="image"&&U.attachment.fileUrl&&e.jsx("img",{src:jn(U.attachment.fileUrl),alt:"Attachment",className:"max-w-xs rounded"}),U.attachment.fileType==="audio"&&U.attachment.fileUrl&&e.jsx(Hw,{url:U.attachment.fileUrl,fileName:U.attachment.fileName||void 0,duration:U.attachment.duration||void 0,className:"max-w-md"}),U.attachment.fileType==="file"&&e.jsxs("p",{className:"text-xs opacity-75",children:["File: ",U.attachment.fileName]}),U.attachment.fileType==="pdf"&&U.attachment.fileUrl&&e.jsxs("a",{href:jn(U.attachment.fileUrl),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-indigo-600 hover:text-indigo-700 underline",children:[" ",U.attachment.fileName||"PDF Document"]}),U.attachment.fileType==="video"&&U.attachment.fileUrl&&e.jsx("video",{src:jn(U.attachment.fileUrl),controls:!0,className:"max-w-xs rounded",children:"Your browser does not support the video tag."})]}),e.jsx("p",{className:fe("text-xs mt-1",O(U.senderId)?"text-indigo-100":"text-slate-500"),children:Gl(new Date(U.createdAt))})]}),!O(U.senderId)&&e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:U.sender.name||U.sender.email})]})]},U.id)),P.length>0&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-slate-400",children:"..."})})}),e.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-slate-600 italic",children:P.length===1?`${P[0]} is typing...`:`${P.join(", ")} are typing...`})})]}),e.jsx("div",{ref:w})]}),m&&e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsx(J5,{onRecordingComplete:(U,pe,Ne)=>{de.mutate({blob:U,mimeType:pe,duration:Ne})},onCancel:()=>h(!1)})}),f&&e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsx(Kw,{onFileSelect:U=>{b(U)},onLinkAdd:U=>{vs.addLinkAttachment({taskId:t,linkUrl:U,companyId:s}).then(pe=>{const Ne=pe.data.data;H({content:c||void 0,messageType:"text",attachmentId:Ne.id}),p(!1)})},onRemove:()=>{b(null)},taskId:t})}),e.jsxs("div",{className:"p-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(me,{value:c,onChange:U=>{u(U.target.value)},onKeyPress:he,placeholder:"Type a message...",disabled:G.isPending||m||!R,className:"flex-1"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>{p(!f),h(!1)},disabled:G.isPending||m,children:e.jsx(Np,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>{h(!m),p(!1)},disabled:G.isPending||f,children:e.jsx(Tw,{className:"w-4 h-4"})}),e.jsx(M,{onClick:z,disabled:!c.trim()&&!y&&!m||G.isPending||!R,className:"bg-indigo-600 hover:bg-indigo-700",children:e.jsx(Ow,{className:"w-4 h-4"})})]})]}),y&&e.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Selected: ",y.name]})]})]})}const Ir=v.forwardRef(({className:t,...s},n)=>e.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...s}));Ir.displayName="Textarea";const e6=Es({title:Fe().min(1,"Title is required"),instructions:Fe().optional(),weight:vn().min(.1,"Weight must be at least 0.1").max(10,"Weight cannot exceed 10").default(1),order:vn().int().optional()});function t6({isOpen:t,onClose:s,onSubmit:n,isLoading:i=!1,initialData:o}){const{register:c,handleSubmit:u,formState:{errors:m},reset:h}=Vs({resolver:Hs(e6),defaultValues:{title:o?.title||"",instructions:o?.instructions||"",weight:o?.weight||1,order:o?.order||void 0}}),f=y=>{n(y),h()},p=()=>{h(),s()};return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Add Sub-task"}),e.jsx(M,{variant:"ghost",size:"sm",onClick:p,className:"text-slate-500 hover:text-slate-700",children:e.jsx(Ye,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:u(f),className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs(W,{htmlFor:"title",className:"text-sm font-medium text-slate-700",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(me,{id:"title",...c("title"),placeholder:"Enter sub-task title",className:fe("mt-1",m.title&&"border-red-500")}),m.title&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:m.title.message})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"instructions",className:"text-sm font-medium text-slate-700",children:"Instructions"}),e.jsx(Ir,{id:"instructions",...c("instructions"),placeholder:"Enter detailed instructions for this sub-task",rows:4,className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"weight",className:"text-sm font-medium text-slate-700",children:"Weight (for progress calculation)"}),e.jsx(me,{id:"weight",type:"number",step:"0.1",min:"0.1",max:"10",...c("weight",{valueAsNumber:!0}),placeholder:"1.0",className:fe("mt-1",m.weight&&"border-red-500")}),m.weight&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:m.weight.message}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Default: 1.0. Higher weight = more impact on progress"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"order",className:"text-sm font-medium text-slate-700",children:"Display Order (optional)"}),e.jsx(me,{id:"order",type:"number",...c("order",{valueAsNumber:!0,setValueAs:y=>y===""?void 0:Number(y)}),placeholder:"Auto",className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Leave empty for auto-ordering"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx(M,{type:"button",variant:"outline",onClick:p,disabled:i,children:"Cancel"}),e.jsx(M,{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700",disabled:i,children:i?"Creating...":"Create Sub-task"})]})]})]})}):null}const Rl={Pending:{icon:Ti,color:"text-slate-400",bg:"bg-slate-50",border:"border-slate-200",label:"Pending"},StartedWorking:{icon:Ka,color:"text-blue-500",bg:"bg-blue-50",border:"border-blue-200",label:"Started Working"},Complete:{icon:ma,color:"text-green-500",bg:"bg-green-50",border:"border-green-200",label:"Complete"},Cancel:{icon:Ye,color:"text-red-500",bg:"bg-red-50",border:"border-red-200",label:"Cancel"}},s6={Low:{color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-200"},Medium:{color:"text-yellow-600",bg:"bg-yellow-50",border:"border-yellow-200"},High:{color:"text-red-600",bg:"bg-red-50",border:"border-red-200"}};function a6(){const{id:t}=ln(),s=St(),{user:n}=We(),i=gt(),[o,c]=v.useState(!1),[u,m]=v.useState(!1),h=parseInt(t||"0"),f=n?.companyId||0,{data:p,isLoading:y,error:b}=we({queryKey:["task-detail",h,f],queryFn:async()=>(await vs.getDetail(h,f)).data.data,enabled:!!h&&!!f}),w=Te({mutationFn:async O=>await vs.updateStatus(h,O,f),onSuccess:()=>{i.invalidateQueries({queryKey:["task-detail",h,f]}),i.invalidateQueries({queryKey:["tasks"]})}}),N=Te({mutationFn:async O=>await vs.createSubTask(h,O,f),onSuccess:()=>{i.invalidateQueries({queryKey:["task-detail",h,f]}),c(!1)}}),j=Te({mutationFn:async({id:O,data:P})=>await vs.updateSubTask(O,P,f),onSuccess:()=>{i.invalidateQueries({queryKey:["task-detail",h,f]})}}),C=Te({mutationFn:async O=>await vs.deleteSubTask(O,f),onSuccess:()=>{i.invalidateQueries({queryKey:["task-detail",h,f]})}}),A=Te({mutationFn:async O=>await vs.uploadAttachment(h,O,f),onSuccess:()=>{i.invalidateQueries({queryKey:["task-detail",h,f]}),m(!1)}}),E=Te({mutationFn:async O=>await vs.deleteAttachment(O,f),onSuccess:()=>{i.invalidateQueries({queryKey:["task-detail",h,f]})}});if(y)return e.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading task details..."})]})});if(b||!p)return e.jsx("div",{className:"p-6",children:e.jsx(X,{children:e.jsxs(ee,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load task details"}),e.jsxs(M,{onClick:()=>s("/tasks"),variant:"outline",children:[e.jsx(ha,{className:"w-4 h-4 mr-2"}),"Back to Tasks"]})]})})});const S=p,R=p.subTasks||[],_=p.attachments||[],L=S.progress?Number(S.progress):0,I=Rl[S.status].icon,q=n?.roleName==="SuperAdmin",$=n?.roleName==="HR Manager",H=q||$,G=R.filter(O=>O.status==="Complete").length,F=R.length,de=async(O,P)=>{await j.mutateAsync({id:O,data:{status:P}})},z=O=>{A.mutate(O)},he=async O=>{try{await vs.addLinkAttachment({taskId:h,linkUrl:O,companyId:f}),i.invalidateQueries({queryKey:["task-detail",h,f]}),m(!1)}catch(P){console.error("Error adding link:",P)}};return e.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(M,{onClick:()=>s("/tasks"),variant:"ghost",size:"sm",children:[e.jsx(ha,{className:"w-4 h-4 mr-2"}),"Back to Tasks"]}),H&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{variant:"outline",size:"sm",children:[e.jsx($t,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(M,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),e.jsxs(X,{children:[e.jsx(oe,{children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:fe("w-10 h-10 rounded-full flex items-center justify-center border-2",Rl[S.status].bg,Rl[S.status].border),children:e.jsx(I,{className:fe("w-5 h-5",Rl[S.status].color)})}),e.jsx(ce,{className:"text-2xl",children:S.title})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(js,{variant:"outline",className:fe("text-xs",Rl[S.status].border),children:Rl[S.status].label}),e.jsxs(js,{variant:"outline",className:fe("text-xs",s6[S.priority].border),children:[S.priority," Priority"]})]}),e.jsx("div",{className:"mb-4",children:e.jsx(Tx,{progress:L,showPercentage:!0,showBreakdown:F>0,breakdown:{completed:G,total:F,weighted:!0},size:"md"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-slate-600",children:[S.dueDate&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"w-4 h-4"}),e.jsxs("span",{children:["Due: ",Gl(new Date(S.dueDate))]})]}),S.startedAt&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ka,{className:"w-4 h-4"}),e.jsxs("span",{children:["Started: ",Gl(new Date(S.startedAt))]})]}),S.assignedEmployee&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"w-4 h-4"}),e.jsxs("span",{children:["Assigned to: ",S.assignedEmployee.user?.email]})]}),S.group&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"w-4 h-4"}),e.jsxs("span",{children:["Group: ",S.group.name]})]}),S.project&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Cw,{className:"w-4 h-4"}),e.jsxs("span",{children:["Project: ",S.project.title]})]})]}),!H&&S.assignedEmployee?.user?.id===n?.id&&e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Change Status:"}),S.status==="Pending"&&e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>w.mutate("StartedWorking"),disabled:w.isPending,className:"h-7 text-xs",children:[e.jsx(Ka,{className:"w-3 h-3 mr-1"}),"Start Working"]}),S.status==="StartedWorking"&&e.jsxs(e.Fragment,{children:[e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>w.mutate("Complete"),disabled:w.isPending,className:"h-7 text-xs bg-green-50 hover:bg-green-100 text-green-700 border-green-200",children:[e.jsx(ma,{className:"w-3 h-3 mr-1"}),"Complete"]}),e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>w.mutate("Cancel"),disabled:w.isPending,className:"h-7 text-xs bg-red-50 hover:bg-red-100 text-red-700 border-red-200",children:[e.jsx(Ye,{className:"w-3 h-3 mr-1"}),"Cancel"]})]})]})]})})}),S.description&&e.jsxs(ee,{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Description"}),e.jsx("p",{className:"text-sm text-slate-600 whitespace-pre-wrap",children:S.description})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(X,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{className:"text-lg",children:"Sub-tasks"}),H&&e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>c(!0),children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Add Sub-task"]})]})}),e.jsx(ee,{className:"space-y-3",children:R.length===0?e.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"No sub-tasks yet"}):R.map(O=>e.jsx(X5,{id:O.id,title:O.title,instructions:O.instructions,weight:Number(O.weight),status:O.status,order:O.order,startedAt:O.startedAt,completedAt:O.completedAt,attachments:O.attachments||[],onStatusChange:de,onDelete:H?P=>C.mutate(P):void 0,canEdit:H||S.assignedEmployee?.user?.id===n?.id},O.id))})]}),e.jsxs(X,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{className:"text-lg",children:"Attachments"}),H&&e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>m(!u),children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Add Attachment"]})]})}),e.jsxs(ee,{children:[u&&e.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200",children:e.jsx(Kw,{onFileSelect:z,onLinkAdd:he,taskId:h})}),e.jsx($w,{attachments:_,onDelete:H?O=>E.mutate(O):void 0,showDelete:H})]})]})]}),e.jsxs(X,{className:"lg:sticky lg:top-6 lg:self-start",children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-lg",children:"Conversation"})}),e.jsx(ee,{children:e.jsx(J3,{taskId:h,companyId:f,className:"h-[600px]"})})]})]}),o&&e.jsx(t6,{isOpen:o,onClose:()=>c(!1),onSubmit:O=>N.mutate(O),isLoading:N.isPending})]})}function n6(){const{user:t}=We(),[s,n]=v.useState(null),[i,o]=v.useState(!0);v.useEffect(()=>{t?.companyId&&c()},[t]);const c=async()=>{try{o(!0);const u=await i5.summary(t.companyId);u.data.success&&n(u.data.data)}catch(u){console.error("Failed to load financial summary:",u)}finally{o(!1)}};return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Finance"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Financial overview and management"})]}),s&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-sm font-medium text-slate-600",children:"Total Income"})}),e.jsx(ee,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qr,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:["",s.income?.toLocaleString()||"0"]})]})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-sm font-medium text-slate-600",children:"Total Expenses"})}),e.jsx(ee,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(e5,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:["",s.expenses?.toLocaleString()||"0"]})]})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsx(ce,{className:"text-sm font-medium text-slate-600",children:"Net Profit"})}),e.jsx(ee,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ps,{className:"w-5 h-5 text-indigo-600"}),e.jsxs("div",{className:`text-2xl font-bold ${(s.profit||0)>=0?"text-green-600":"text-red-600"}`,children:["",s.profit?.toLocaleString()||"0"]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsx(ce,{children:"Invoices"})}),e.jsx(ee,{children:e.jsxs(M,{variant:"outline",className:"w-full",children:[e.jsx(XT,{className:"w-4 h-4 mr-2"}),"Manage Invoices"]})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsx(ce,{children:"Transactions"})}),e.jsx(ee,{children:e.jsxs(M,{variant:"outline",className:"w-full",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"View Transactions"]})})]})]})]})}function r6(){const t=St(),{user:s}=We(),[n,i]=v.useState("Inbox"),[o,c]=v.useState({search:"",status:"",source:"Inbox",categoryId:"",interestId:"",createdBy:""}),[u,m]=v.useState(!1),{data:h,isLoading:f}=we({queryKey:["leads",n,o],queryFn:async()=>{const E={};return o.search&&(E.search=o.search),o.status&&(E.status=o.status),E.source=n==="Inbox"?"Inbox":n==="Website"?"Website":"FacebookPixel",o.categoryId&&(E.categoryId=parseInt(o.categoryId)),o.interestId&&(E.interestId=parseInt(o.interestId)),o.createdBy&&(E.createdBy=o.createdBy),(await qs.getAll(E)).data.data||[]}}),{data:p=[]}=we({queryKey:["lead-categories"],queryFn:async()=>(await Ul.getAll()).data.data||[]}),{data:y=[]}=we({queryKey:["lead-interests"],queryFn:async()=>(await Fl.getAll()).data.data||[]}),b=h||[],w=(E,S)=>{c(R=>({...R,[E]:S}))},N=()=>{c({search:"",status:"",source:n,categoryId:"",interestId:"",createdBy:""})},j=Object.values(o).some(E=>E!==""),C=E=>{switch(E){case"Won":return"bg-green-100 text-green-700";case"Lost":return"bg-red-100 text-red-700";case"New":return"bg-blue-100 text-blue-700";case"Contacted":return"bg-yellow-100 text-yellow-700";case"Qualified":return"bg-purple-100 text-purple-700";case"Negotiation":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},A=E=>{switch(E){case"Inbox":return"bg-indigo-100 text-indigo-700";case"Website":return"bg-blue-100 text-blue-700";case"SocialMedia":return"bg-pink-100 text-pink-700";case"FacebookPixel":return"bg-sky-100 text-sky-700";default:return"bg-gray-100 text-gray-700"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Leads"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Manage your sales pipeline"})]}),e.jsxs(M,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Add Lead"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{i("Inbox"),c(E=>({...E,source:"Inbox"}))},className:fe("px-4 py-2 rounded-full text-sm font-medium border",n==="Inbox"?"bg-indigo-600 text-white border-indigo-600":"bg-white text-slate-700 border-gray-200 hover:bg-gray-50"),children:"Omni Inbox"}),e.jsx("button",{type:"button",onClick:()=>{i("Website"),c(E=>({...E,source:"Website"}))},className:fe("px-4 py-2 rounded-full text-sm font-medium border",n==="Website"?"bg-indigo-600 text-white border-indigo-600":"bg-white text-slate-700 border-gray-200 hover:bg-gray-50"),children:"Website"}),e.jsx("button",{type:"button",onClick:()=>{i("FacebookPixel"),c(E=>({...E,source:"FacebookPixel"}))},className:fe("px-4 py-2 rounded-full text-sm font-medium border",n==="FacebookPixel"?"bg-indigo-600 text-white border-indigo-600":"bg-white text-slate-700 border-gray-200 hover:bg-gray-50"),children:"Facebook Pixel"})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{className:"text-lg",children:"Search & Filters"}),e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>m(!u),children:[e.jsx(am,{className:"w-4 h-4 mr-2"}),u?"Hide":"Show"," Filters"]})]})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),e.jsx(me,{placeholder:"Search by title, customer name, phone, or description...",value:o.search,onChange:E=>w("search",E.target.value),className:"pl-10"})]}),u&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"status-filter",children:"Status"}),e.jsxs("select",{id:"status-filter",value:o.status,onChange:E=>w("status",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"New",children:"New"}),e.jsx("option",{value:"Contacted",children:"Contacted"}),e.jsx("option",{value:"Qualified",children:"Qualified"}),e.jsx("option",{value:"Negotiation",children:"Negotiation"}),e.jsx("option",{value:"Won",children:"Won"}),e.jsx("option",{value:"Lost",children:"Lost"})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"category-filter",children:"Category"}),e.jsxs("select",{id:"category-filter",value:o.categoryId,onChange:E=>w("categoryId",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"All Categories"}),p.map(E=>e.jsx("option",{value:E.id,children:E.name},E.id))]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"interest-filter",children:"Interest"}),e.jsxs("select",{id:"interest-filter",value:o.interestId,onChange:E=>w("interestId",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"All Interests"}),y.map(E=>e.jsx("option",{value:E.id,children:E.name},E.id))]})]}),e.jsx("div",{className:"flex items-end",children:j&&e.jsxs(M,{variant:"outline",size:"sm",onClick:N,className:"w-full",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})})]})]})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"text-lg",children:["All Leads (",b.length,")"]})}),e.jsx(ee,{children:f?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-slate-500",children:"Loading leads..."})}):b.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No leads found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Title"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Customer"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Phone"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Category"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Interest"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Source"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Value"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Profit"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Created By"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Created At"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{children:b.map(E=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsxs("td",{className:"py-3 px-4",children:[e.jsx("div",{className:"font-medium text-slate-900",children:E.title}),E.description&&e.jsx("div",{className:"text-sm text-slate-500 truncate max-w-xs",children:E.description})]}),e.jsx("td",{className:"py-3 px-4",children:E.customerName||"-"}),e.jsx("td",{className:"py-3 px-4",children:E.phone||"-"}),e.jsx("td",{className:"py-3 px-4",children:E.category?e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:E.category.name}):"-"}),e.jsx("td",{className:"py-3 px-4",children:E.interest?e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:E.interest.name}):"-"}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${C(E.status)}`,children:E.status})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${A(E.source)}`,children:E.source})}),e.jsx("td",{className:"py-3 px-4",children:E.value?e.jsxs("span",{className:"font-medium text-green-600",children:["",Number(E.value).toLocaleString()]}):"-"}),e.jsx("td",{className:"py-3 px-4",children:E.profit!==null&&E.profit!==void 0?e.jsxs("span",{className:fe("font-medium",Number(E.profit)>0?"text-green-600":Number(E.profit)<0?"text-red-600":"text-slate-600"),children:["",Number(E.profit).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}):e.jsx("span",{className:"text-slate-400",children:"-"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"text-sm text-slate-600",children:E.createdByUser?.email||"-"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"text-sm text-slate-500",children:E.createdAt?new Date(E.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>t(`/leads/${E.id}`),title:"View lead details",children:e.jsx(la,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"sm",title:"Edit lead",children:e.jsx($t,{className:"w-4 h-4"})})]})})]},E.id))})]})})})]})]})}function i6(){const{id:t}=ln(),s=St(),{user:n}=We(),i=gt(),o=Es({title:Fe().min(1,"Meeting title is required"),description:Fe().optional(),meetingTime:Fe().min(1,"Meeting time is required"),durationMinutes:vn({invalid_type_error:"Duration is required"}).int().positive("Duration must be positive"),googleMeetUrl:Fe().url("Valid Google Meet URL is required"),status:wn(["Scheduled","Completed","Canceled"]).optional()}),[c,u]=v.useState(null),[m,h]=v.useState(!1),f=Es({title:Fe().optional(),phoneNumber:Fe().optional(),callTime:Fe().min(1,"Call time is required"),durationMinutes:vn().int().positive("Duration must be positive").optional(),assignedTo:vn().int().positive("Assigned employee is required"),status:wn(["Scheduled","Completed","Canceled","NoAnswer","Busy","LeftVoicemail"]).optional()}),[p,y]=v.useState(null),[b,w]=v.useState(!1),[N,j]=v.useState([]),[C,A]=v.useState(null),[E,S]=v.useState(!1),R=Es({name:Fe().min(1,"Client name is required").optional(),address:Fe().optional(),email:Fe().email("Invalid email address").optional().or(Uc("")),phone:Fe().optional()}),{register:_,handleSubmit:L,reset:I,formState:{errors:q,isSubmitting:$}}=Vs({resolver:Hs(R),defaultValues:{name:"",address:"",email:"",phone:""}}),{register:H,handleSubmit:G,reset:F,formState:{errors:de,isSubmitting:z},setValue:he,watch:O}=Vs({resolver:Hs(f),defaultValues:{title:"",phoneNumber:"",callTime:"",durationMinutes:void 0,assignedTo:0,status:"Scheduled"}}),{register:P,handleSubmit:U,reset:pe,formState:{errors:Ne,isSubmitting:B},setValue:te}=Vs({resolver:Hs(o),defaultValues:{title:"",description:"",meetingTime:"",durationMinutes:30,googleMeetUrl:"",status:"Scheduled"}}),{data:T,isLoading:ye,error:Ce}=we({queryKey:["lead",t,n?.companyId],queryFn:async()=>{if(!t||!n?.companyId)throw new Error("Invalid parameters");return(await qs.getById(parseInt(t),n.companyId)).data.data},enabled:!!t&&!!n?.companyId}),{data:Pe=[],isLoading:be}=we({queryKey:["lead-meetings",t,n?.companyId],queryFn:async()=>!t||!n?.companyId?[]:(await qs.getMeetings(parseInt(t),n.companyId)).data.data||[],enabled:!!t&&!!n?.companyId}),$e=Te({mutationFn:async ie=>{if(!t||!n?.companyId)throw new Error("Invalid parameters");const nt={...ie,meetingTime:new Date(ie.meetingTime),durationMinutes:Number(ie.durationMinutes)};return(await qs.createMeeting(parseInt(t),nt,n.companyId)).data.data},onSuccess:()=>{i.invalidateQueries({queryKey:["lead-meetings",t,n?.companyId]}),h(!1),u(null),pe()}}),qe=Te({mutationFn:async ie=>{if(!t||!n?.companyId||!c)throw new Error("Invalid parameters");const nt={...ie,meetingTime:new Date(ie.meetingTime),durationMinutes:Number(ie.durationMinutes)};return(await qs.updateMeeting(parseInt(t),c.id,nt,n.companyId)).data.data},onSuccess:()=>{i.invalidateQueries({queryKey:["lead-meetings",t,n?.companyId]}),h(!1),u(null),pe()}}),Ze=Te({mutationFn:async ie=>{if(!t||!n?.companyId)throw new Error("Invalid parameters");return(await qs.deleteMeeting(parseInt(t),ie,n.companyId)).data},onSuccess:()=>{i.invalidateQueries({queryKey:["lead-meetings",t,n?.companyId]})}}),at=()=>{u(null),pe({title:"",description:"",meetingTime:"",durationMinutes:30,googleMeetUrl:"",status:"Scheduled"}),h(!0)},Xe=ie=>{u(ie),pe({title:ie.title,description:ie.description||"",meetingTime:new Date(ie.meetingTime).toISOString().slice(0,16),durationMinutes:ie.durationMinutes,googleMeetUrl:ie.googleMeetUrl,status:ie.status}),h(!0)},es=ie=>c?qe.mutateAsync(ie):$e.mutateAsync(ie);v.useEffect(()=>{T?.phone&&!b&&he("phoneNumber",T.phone)},[T?.phone,b,he]),v.useEffect(()=>{N.length>0?he("assignedTo",N[0]):he("assignedTo",0)},[N,he]);const{data:zt=[],isLoading:$s}=we({queryKey:["lead-calls",t,n?.companyId],queryFn:async()=>!t||!n?.companyId?[]:(await qs.getCalls(parseInt(t),n.companyId)).data.data||[],enabled:!!t&&!!n?.companyId}),Ps=Te({mutationFn:async ie=>{if(!t||!n?.companyId||N.length===0)throw new Error("Invalid parameters");const nt={...ie,callTime:new Date(ie.callTime),assignedTo:N[0],durationMinutes:ie.durationMinutes?Number(ie.durationMinutes):void 0};return(await qs.createCall(parseInt(t),nt,n.companyId)).data.data},onSuccess:()=>{i.invalidateQueries({queryKey:["lead-calls",t,n?.companyId]}),w(!1),y(null),j([]),F()}}),Us=Te({mutationFn:async ie=>{if(!t||!n?.companyId||!p)throw new Error("Invalid parameters");const nt={...ie,callTime:new Date(ie.callTime),assignedTo:N.length>0?N[0]:p.assignedTo,durationMinutes:ie.durationMinutes?Number(ie.durationMinutes):void 0};return(await qs.updateCall(parseInt(t),p.id,nt,n.companyId)).data.data},onSuccess:()=>{i.invalidateQueries({queryKey:["lead-calls",t,n?.companyId]}),w(!1),y(null),j([]),F()}}),An=Te({mutationFn:async ie=>{if(!t||!n?.companyId)throw new Error("Invalid parameters");return(await qs.deleteCall(parseInt(t),ie,n.companyId)).data},onSuccess:()=>{i.invalidateQueries({queryKey:["lead-calls",t,n?.companyId]})}}),xa=Te({mutationFn:async({callId:ie,note:nt})=>{if(!t||!n?.companyId)throw new Error("Invalid parameters");return(await qs.addCallNote(parseInt(t),ie,nt,n.companyId)).data.data},onSuccess:()=>{i.invalidateQueries({queryKey:["lead-calls",t,n?.companyId]}),A(null)}}),Q=Te({mutationFn:async ie=>{if(!t||!n?.companyId)throw new Error("Invalid parameters");const nt={};ie.name&&(nt.name=ie.name),ie.address&&(nt.address=ie.address);const Zt={};return ie.email&&(Zt.email=ie.email),ie.phone&&(Zt.phone=ie.phone),Object.keys(Zt).length>0&&(nt.contactInfo=Zt),(await qs.convert(parseInt(t),n.companyId,nt)).data.data},onSuccess:()=>{i.invalidateQueries({queryKey:["lead",t,n?.companyId]}),S(!1),I(),alert("Lead converted to client successfully!")},onError:ie=>{alert(ie?.response?.data?.message||"Failed to convert lead to client")}}),ae=()=>{I({name:T?.customerName||T?.title||"",address:"",email:"",phone:T?.phone||""}),S(!0)},xe=ie=>{Q.mutate(ie)},_e=()=>{y(null),j([]),F({title:"",phoneNumber:T?.phone||"",callTime:"",durationMinutes:void 0,assignedTo:0,status:"Scheduled"}),w(!0)},Se=ie=>{y(ie),j([ie.assignedTo]),F({title:ie.title||"",phoneNumber:ie.phoneNumber||T?.phone||"",callTime:new Date(ie.callTime).toISOString().slice(0,16),durationMinutes:ie.durationMinutes||void 0,assignedTo:ie.assignedTo,status:ie.status}),w(!0)},ke=ie=>{if(N.length>0&&(!ie.assignedTo||ie.assignedTo===0)&&(ie.assignedTo=N[0]),!ie.assignedTo||ie.assignedTo===0){alert("Please select an employee");return}return p?Us.mutateAsync(ie):Ps.mutateAsync(ie)},Ue=ie=>{switch(ie){case"Scheduled":return"bg-blue-100 text-blue-700";case"Completed":return"bg-green-100 text-green-700";case"Canceled":return"bg-red-100 text-red-700";case"NoAnswer":return"bg-yellow-100 text-yellow-700";case"Busy":return"bg-orange-100 text-orange-700";case"LeftVoicemail":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}};if(ye)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-slate-600",children:"Loading lead details..."})]})});if(Ce||!T)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(X,{className:"w-full max-w-md shadow-sm border-gray-200",children:e.jsx(ee,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(wc,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Lead Not Found"}),e.jsx("p",{className:"text-slate-600 mb-4",children:Ce?"Failed to load lead details":"The lead you are looking for does not exist"}),e.jsxs(M,{onClick:()=>s("/leads"),variant:"outline",children:[e.jsx(ha,{className:"w-4 h-4 mr-2"}),"Back to Leads"]})]})})})});const ft=ie=>{switch(ie){case"Won":return"bg-green-100 text-green-700 border-green-200";case"Lost":return"bg-red-100 text-red-700 border-red-200";case"New":return"bg-blue-100 text-blue-700 border-blue-200";case"Contacted":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"Qualified":return"bg-purple-100 text-purple-700 border-purple-200";case"Negotiation":return"bg-orange-100 text-orange-700 border-orange-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},bt=ie=>{switch(ie){case"Won":return e.jsx(bi,{className:"w-4 h-4"});case"Lost":return e.jsx(Wn,{className:"w-4 h-4"});default:return e.jsx(Jt,{className:"w-4 h-4"})}},ws=ie=>{switch(ie){case"Inbox":return e.jsx(Bs,{className:"w-4 h-4"});case"Website":return e.jsx(Vt,{className:"w-4 h-4"});case"SocialMedia":return e.jsx(vp,{className:"w-4 h-4"});case"Referral":return e.jsx(Yt,{className:"w-4 h-4"});case"Email":return e.jsx(lo,{className:"w-4 h-4"});case"Phone":return e.jsx(ca,{className:"w-4 h-4"});default:return e.jsx(Ws,{className:"w-4 h-4"})}},Ks=ie=>ie?new Date(ie).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",_s=ie=>ie==null?"-":`${(typeof ie=="string"?parseFloat(ie):ie).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,Ra=ie=>(typeof ie=="string"?new Date(ie):ie).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(M,{variant:"ghost",size:"icon",onClick:()=>s("/leads"),className:"hover:bg-gray-100",children:e.jsx(ha,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:T.title}),e.jsxs("p",{className:"text-slate-600 mt-1",children:["Lead ID: #",T.id]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:fe("px-4 py-2 rounded-lg border flex items-center gap-2 font-medium text-sm",ft(T.status)),children:[bt(T.status),T.status]}),["Qualified","Negotiation","Won"].includes(T.status)&&e.jsxs(M,{onClick:ae,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[e.jsx(lb,{className:"w-4 h-4 mr-2"}),"Convert to Client"]}),e.jsxs(M,{variant:"outline",children:[e.jsx($t,{className:"w-4 h-4 mr-2"}),"Edit Lead"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"w-5 h-5 text-indigo-600"}),"Basic Information"]})}),e.jsx(ee,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Title"}),e.jsx("p",{className:"mt-1 text-slate-900 font-medium",children:T.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Source"}),e.jsxs("p",{className:"mt-1 flex items-center gap-2",children:[ws(T.source),e.jsx("span",{className:"text-slate-900",children:T.source})]})]}),T.description&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Description"}),e.jsx("p",{className:"mt-1 text-slate-700 whitespace-pre-wrap",children:T.description})]})]})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(is,{className:"w-5 h-5 text-indigo-600"}),"Customer Information"]})}),e.jsx(ee,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.customerName&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(is,{className:"w-5 h-5 text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Customer Name"}),e.jsx("p",{className:"mt-1 text-slate-900 font-medium",children:T.customerName})]})]}),T.phone&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ca,{className:"w-5 h-5 text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Phone"}),e.jsx("p",{className:"mt-1 text-slate-900 font-medium",children:T.phone})]})]}),T.conversation&&e.jsxs("div",{className:"md:col-span-2 flex items-start gap-3",children:[e.jsx(Bs,{className:"w-5 h-5 text-slate-400 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Source Conversation"}),e.jsxs("p",{className:"mt-1 text-slate-900",children:[T.conversation.platform==="facebook"?"Facebook":"Chatwoot"," -",T.conversation.externalUserName||T.conversation.externalUserId]})]})]})]})})]}),T.product&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Mw,{className:"w-5 h-5 text-indigo-600"}),"Product Information"]})}),e.jsx(ee,{children:e.jsxs("div",{className:"flex gap-6",children:[T.product.imageUrl&&e.jsx("img",{src:T.product.imageUrl,alt:T.product.name,className:"w-24 h-24 object-cover rounded-lg border border-gray-200"}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Product Name"}),e.jsx("p",{className:"mt-1 text-slate-900 font-medium text-lg",children:T.product.name}),T.product.description&&e.jsx("p",{className:"mt-2 text-sm text-slate-600",children:T.product.description})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Purchase Price"}),e.jsx("p",{className:"mt-1 text-slate-900 font-medium",children:_s(T.purchasePrice||T.product.purchasePrice)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Sale Price"}),e.jsx("p",{className:"mt-1 text-slate-900 font-medium",children:_s(T.salePrice||T.product.salePrice)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Profit"}),e.jsx("p",{className:fe("mt-1 font-medium",T.profit&&Number(T.profit)>0?"text-green-600":T.profit&&Number(T.profit)<0?"text-red-600":"text-slate-900"),children:_s(T.profit)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Currency"}),e.jsx("p",{className:"mt-1 text-slate-900 font-medium",children:T.product.currency||"BDT"})]})]})]})]})})]}),T.campaign&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ws,{className:"w-5 h-5 text-indigo-600"}),"Campaign Information"]})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Campaign Name"}),e.jsx("p",{className:"mt-1 text-slate-900 font-medium",children:T.campaign.name})]}),T.campaign.description&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Description"}),e.jsx("p",{className:"mt-1 text-slate-700",children:T.campaign.description})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-3 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Type"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:fe("px-2 py-1 rounded text-xs font-medium",T.campaign.type==="sale"?"bg-indigo-100 text-indigo-700":T.campaign.type==="reach"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"),children:T.campaign.type.charAt(0).toUpperCase()+T.campaign.type.slice(1)})})]}),T.campaign.budget&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Budget"}),e.jsx("p",{className:"mt-1 text-slate-900 font-medium",children:_s(T.campaign.budget)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Start Date"}),e.jsx("p",{className:"mt-1 text-slate-700 text-sm",children:Ks(T.campaign.startDate)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"End Date"}),e.jsx("p",{className:"mt-1 text-slate-700 text-sm",children:Ks(T.campaign.endDate)})]})]})]})})]}),T.conversation&&T.conversation.messages&&T.conversation.messages.length>0&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"w-5 h-5 text-indigo-600"}),"Conversation Messages"]})}),e.jsx(ee,{children:e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:T.conversation.messages.slice().reverse().map(ie=>e.jsxs("div",{className:fe("p-3 rounded-lg",ie.senderType==="agent"?"bg-indigo-50 border border-indigo-200 ml-8":"bg-gray-50 border border-gray-200 mr-8"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-medium text-slate-600",children:ie.senderType==="agent"?"Agent":"Customer"}),e.jsx("span",{className:"text-xs text-slate-500",children:Ks(ie.createdAt)})]}),ie.imageUrl&&e.jsx("img",{src:ie.imageUrl.startsWith("http")?ie.imageUrl:`${"https://api.paaera.com/api".replace("/api","")||"http://localhost:5001"}${ie.imageUrl}`,alt:"Message attachment",className:"max-w-xs rounded-lg mb-2"}),e.jsx("p",{className:"text-sm text-slate-900 whitespace-pre-wrap",children:ie.content})]},ie.id))})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{className:"flex flex-row items-center justify-between",children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Zs,{className:"w-5 h-5 text-indigo-600"}),"Meetings"]}),e.jsxs(M,{size:"sm",onClick:at,variant:"outline",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Schedule Meeting"]})]}),e.jsxs(ee,{children:[be?e.jsx("div",{className:"text-slate-500 py-4",children:"Loading meetings..."}):Pe.length===0?e.jsx("div",{className:"text-slate-500 py-4",children:"No meetings scheduled for this lead."}):e.jsx("div",{className:"space-y-3",children:Pe.map(ie=>e.jsxs("div",{className:"flex items-start justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-slate-900",children:ie.title}),e.jsx("span",{className:fe("px-2 py-0.5 rounded-full text-xs font-medium",ie.status==="Scheduled"&&"bg-blue-100 text-blue-700",ie.status==="Completed"&&"bg-green-100 text-green-700",ie.status==="Canceled"&&"bg-red-100 text-red-700"),children:ie.status})]}),e.jsxs("div",{className:"text-sm text-slate-600 flex items-center gap-2",children:[e.jsx(Jt,{className:"w-4 h-4"}),e.jsx("span",{children:Ra(ie.meetingTime)}),e.jsx("span",{className:"text-slate-400",children:""}),e.jsxs("span",{children:[ie.durationMinutes," min"]})]}),e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:ie.googleMeetUrl,target:"_blank",rel:"noreferrer",className:"text-indigo-600 hover:underline text-xs break-all",children:ie.googleMeetUrl})}),ie.description&&e.jsx("p",{className:"text-sm text-slate-700 mt-1",children:ie.description})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>Xe(ie),children:e.jsx($t,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>Ze.mutate(ie.id),children:e.jsx(Wn,{className:"w-4 h-4"})})]}),e.jsxs("span",{className:"text-xs text-slate-400",children:["Created at ",Ra(ie.createdAt)]})]})]},ie.id))}),m&&e.jsxs("form",{onSubmit:U(es),className:"mt-4 space-y-4 border-t pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Title"}),e.jsx(me,{...P("title"),className:"mt-1",placeholder:"Meeting title"}),Ne.title&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:Ne.title.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Meeting Time"}),e.jsx(me,{type:"datetime-local",...P("meetingTime"),className:"mt-1"}),Ne.meetingTime&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:Ne.meetingTime.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Duration (minutes)"}),e.jsx(me,{type:"number",...P("durationMinutes",{valueAsNumber:!0}),className:"mt-1",min:1}),Ne.durationMinutes&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:Ne.durationMinutes.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Google Meet URL"}),e.jsx(me,{...P("googleMeetUrl"),className:"mt-1",placeholder:"https://meet.google.com/..."}),Ne.googleMeetUrl&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:Ne.googleMeetUrl.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Notes"}),e.jsx(Ir,{...P("description"),className:"mt-1",placeholder:"Add any notes about this meeting..."}),Ne.description&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:Ne.description.message})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>{h(!1),u(null),pe()},disabled:B||$e.isPending||qe.isPending,children:"Cancel"}),e.jsxs(M,{type:"submit",disabled:B||$e.isPending||qe.isPending,children:[($e.isPending||qe.isPending)&&e.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),c?"Update Meeting":"Create Meeting"]})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Pi,{className:"w-5 h-5 text-indigo-600"}),"Lead Details"]})}),e.jsxs(ee,{className:"space-y-4",children:[T.category&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Category"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:T.category.name})})]}),T.interest&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Interest"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full font-medium",children:T.interest.name})})]}),T.value&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Estimated Value"}),e.jsx("p",{className:"mt-1 text-slate-900 font-medium text-lg",children:_s(T.value)})]})]})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"w-5 h-5 text-indigo-600"}),"Assignment"]})}),e.jsx(ee,{className:"space-y-4",children:T.assignedEmployee?e.jsxs("div",{className:"flex items-center gap-3",children:[T.assignedEmployee.user?.profileImage?e.jsx("img",{src:T.assignedEmployee.user.profileImage,alt:T.assignedEmployee.user.email,className:"w-10 h-10 rounded-full"}):e.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white font-medium",children:T.assignedEmployee.user?.email?.charAt(0).toUpperCase()||"E"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:T.assignedEmployee.user?.email||"Employee"}),T.assignedEmployee.user?.role&&e.jsx("p",{className:"text-xs text-slate-500",children:T.assignedEmployee.user.role.name})]})]}):e.jsx("p",{className:"text-sm text-slate-500",children:"Not assigned"})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(is,{className:"w-5 h-5 text-indigo-600"}),"Created By"]})}),e.jsx(ee,{children:T.createdByUser?e.jsxs("div",{className:"flex items-center gap-3",children:[T.createdByUser.profileImage?e.jsx("img",{src:T.createdByUser.profileImage,alt:T.createdByUser.email,className:"w-10 h-10 rounded-full"}):e.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white font-medium",children:T.createdByUser.email?.charAt(0).toUpperCase()||"U"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:T.createdByUser.name||T.createdByUser.email}),e.jsx("p",{className:"text-xs text-slate-500",children:T.createdByUser.email}),T.createdByUser.role&&e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:T.createdByUser.role.name})]})]}):e.jsx("p",{className:"text-sm text-slate-500",children:"Unknown"})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"w-5 h-5 text-indigo-600"}),"Timeline"]})}),e.jsxs(ee,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Created At"}),e.jsx("p",{className:"mt-1 text-sm text-slate-700",children:Ks(T.createdAt)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Last Updated"}),e.jsx("p",{className:"mt-1 text-sm text-slate-700",children:Ks(T.updatedAt)})]})]})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(ca,{className:"w-5 h-5 text-indigo-600"}),"Call Schedule"]}),e.jsxs(M,{size:"sm",variant:"outline",onClick:_e,disabled:b,children:[e.jsx(_t,{className:"w-4 h-4 mr-1"}),"Schedule Call"]})]})}),e.jsxs(ee,{children:[$s?e.jsx("div",{className:"text-center py-4 text-slate-500 text-sm",children:"Loading calls..."}):zt.length===0?e.jsx("div",{className:"text-center py-4 text-slate-500 text-sm",children:"No calls scheduled"}):e.jsx("div",{className:"space-y-3",children:zt.map(ie=>e.jsxs("div",{className:"flex items-start justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[ie.title&&e.jsx("span",{className:"font-medium text-slate-900",children:ie.title}),e.jsx("span",{className:fe("px-2 py-0.5 rounded-full text-xs font-medium",Ue(ie.status)),children:ie.status})]}),e.jsxs("div",{className:"text-sm text-slate-600 flex items-center gap-2",children:[e.jsx(Jt,{className:"w-4 h-4"}),e.jsx("span",{children:Ra(ie.callTime)}),ie.durationMinutes&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-slate-400",children:""}),e.jsxs("span",{children:[ie.durationMinutes," min"]})]})]}),ie.phoneNumber&&e.jsxs("div",{className:"text-sm text-slate-600 flex items-center gap-2",children:[e.jsx(ca,{className:"w-4 h-4"}),e.jsx("span",{children:ie.phoneNumber})]}),ie.assignedEmployee&&e.jsxs("div",{className:"text-sm text-slate-600 flex items-center gap-2",children:[e.jsx(is,{className:"w-4 h-4"}),e.jsx("span",{children:ie.assignedEmployee.user?.email||"Employee"})]}),ie.notes&&e.jsxs("div",{className:"text-sm text-slate-700 mt-2 p-2 bg-gray-50 rounded",children:[e.jsx("strong",{children:"Notes:"})," ",ie.notes]}),C?.callId===ie.id&&e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsx(Ir,{value:C.note,onChange:nt=>A({callId:ie.id,note:nt.target.value}),placeholder:"Add call notes...",className:"text-sm"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{size:"sm",onClick:()=>{C.note.trim()?xa.mutate({callId:ie.id,note:C.note}):A(null)},disabled:xa.isPending,children:"Save Note"}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>A(null),children:"Cancel"})]})]})]}),e.jsx("div",{className:"flex flex-col items-end gap-2",children:e.jsxs("div",{className:"flex gap-2",children:[!C||C.callId!==ie.id?e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>A({callId:ie.id,note:ie.notes||""}),title:"Add note",children:e.jsx(Vt,{className:"w-4 h-4"})}):null,e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>Se(ie),children:e.jsx($t,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>An.mutate(ie.id),children:e.jsx(Wn,{className:"w-4 h-4"})})]})})]},ie.id))}),b&&e.jsxs("form",{onSubmit:G(ke),className:"mt-4 space-y-4 border-t pt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Title (Optional)"}),e.jsx(me,{...H("title"),className:"mt-1",placeholder:"Call title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Phone Number"}),e.jsx(me,{...H("phoneNumber"),className:"mt-1",placeholder:T?.phone||"Phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Call Time *"}),e.jsx(me,{type:"datetime-local",...H("callTime"),className:"mt-1"}),de.callTime&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:de.callTime.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Duration (minutes, optional)"}),e.jsx(me,{type:"number",...H("durationMinutes",{valueAsNumber:!0}),className:"mt-1",min:1})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Assigned To *"}),n?.companyId&&e.jsx(Vw,{companyId:n.companyId,selectedEmployeeIds:N,onSelectionChange:j}),de.assignedTo&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:de.assignedTo.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Status"}),e.jsxs("select",{...H("status"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 mt-1",children:[e.jsx("option",{value:"Scheduled",children:"Scheduled"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Canceled",children:"Canceled"}),e.jsx("option",{value:"NoAnswer",children:"No Answer"}),e.jsx("option",{value:"Busy",children:"Busy"}),e.jsx("option",{value:"LeftVoicemail",children:"Left Voicemail"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>{w(!1),y(null),j([]),F()},disabled:z||Ps.isPending||Us.isPending,children:"Cancel"}),e.jsxs(M,{type:"submit",disabled:z||Ps.isPending||Us.isPending||N.length===0,children:[(Ps.isPending||Us.isPending)&&e.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),p?"Update Call":"Schedule Call"]})]})]})]})]})]})]}),E&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(X,{className:"w-full max-w-md shadow-lg border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(lb,{className:"w-5 h-5 text-indigo-600"}),"Convert Lead to Client"]}),e.jsx(M,{variant:"ghost",size:"icon",onClick:()=>S(!1),className:"h-8 w-8",children:e.jsx(Ye,{className:"w-4 h-4"})})]})}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:L(xe),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Client Name"}),e.jsx(me,{..._("name"),className:"mt-1",placeholder:T?.customerName||T?.title||"Client name"}),q.name&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:q.name.message}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Leave empty to use lead title: ",T?.title]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Email (Optional)"}),e.jsx(me,{type:"email",..._("email"),className:"mt-1",placeholder:"client@example.com"}),q.email&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:q.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Phone (Optional)"}),e.jsx(me,{..._("phone"),className:"mt-1",placeholder:T?.phone||"Phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Address (Optional)"}),e.jsx(Ir,{..._("address"),className:"mt-1",rows:3,placeholder:"Client address"})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsxs(M,{type:"submit",className:"flex-1 bg-indigo-600 hover:bg-indigo-700",disabled:Q.isPending,children:[Q.isPending&&e.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Convert to Client"]}),e.jsx(M,{type:"button",variant:"outline",onClick:()=>S(!1),disabled:Q.isPending,children:"Cancel"})]})]})})]})})]})}function l6(){const t=St(),{user:s}=We(),[n,i]=v.useState({status:"Scheduled",startDate:"",endDate:""}),[o,c]=v.useState(!1),{data:u,isLoading:m}=we({queryKey:["meetings",n],queryFn:async()=>{const N={};return n.status&&(N.status=n.status),n.startDate&&(N.startDate=n.startDate),n.endDate&&(N.endDate=n.endDate),(await Fw.getAll(N)).data.data||[]},refetchInterval:6e4}),h=u||[],f=(N,j)=>{i(C=>({...C,[N]:j}))},p=()=>{i({status:"Scheduled",startDate:"",endDate:""})},y=n.status!=="Scheduled"||n.startDate!==""||n.endDate!=="",b=N=>{switch(N){case"Scheduled":return"bg-blue-100 text-blue-700";case"Completed":return"bg-green-100 text-green-700";case"Canceled":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},w=N=>(typeof N=="string"?new Date(N):N).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Meeting Schedule"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"View and manage all scheduled meetings"})]})}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{className:"text-lg",children:"Search & Filters"}),e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>c(!o),children:[e.jsx(am,{className:"w-4 h-4 mr-2"}),o?"Hide":"Show"," Filters"]})]})}),e.jsx(ee,{children:o&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"status-filter",children:"Status"}),e.jsxs("select",{id:"status-filter",value:n.status,onChange:N=>f("status",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"Scheduled",children:"Scheduled"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Canceled",children:"Canceled"})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"start-date-filter",children:"Start Date"}),e.jsx(me,{id:"start-date-filter",type:"date",value:n.startDate,onChange:N=>f("startDate",N.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"end-date-filter",children:"End Date"}),e.jsx(me,{id:"end-date-filter",type:"date",value:n.endDate,onChange:N=>f("endDate",N.target.value),className:"w-full"})]}),e.jsx("div",{className:"flex items-end",children:y&&e.jsxs(M,{variant:"outline",size:"sm",onClick:p,className:"w-full",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})})]})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"text-lg",children:["All Meetings (",h.length,")"]})}),e.jsx(ee,{children:m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-slate-500",children:"Loading meetings..."})}):h.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No meetings found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Meeting Title"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Lead"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Meeting Time"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Duration"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Google Meet"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{children:h.map(N=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsxs("td",{className:"py-3 px-4",children:[e.jsx("div",{className:"font-medium text-slate-900",children:N.title}),N.description&&e.jsx("div",{className:"text-sm text-slate-500 truncate max-w-xs",children:N.description})]}),e.jsx("td",{className:"py-3 px-4",children:N.lead?e.jsx("button",{onClick:()=>t(`/leads/${N.lead.id}`),className:"text-indigo-600 hover:text-indigo-800 hover:underline font-medium",children:N.lead.title}):"-"}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-slate-900",children:w(N.meetingTime)})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:"text-slate-700",children:[N.durationMinutes," min"]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:fe("px-2 py-1 rounded text-xs font-medium",b(N.status)),children:N.status})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("a",{href:N.googleMeetUrl,target:"_blank",rel:"noreferrer",className:"text-indigo-600 hover:text-indigo-800 hover:underline text-sm flex items-center gap-1",children:[e.jsx(Zl,{className:"w-3 h-3"}),"Join Meeting"]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"flex gap-2",children:e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>t(`/leads/${N.leadId}`),title:"View lead",children:e.jsx(Zs,{className:"w-4 h-4"})})})})]},N.id))})]})})})]})]})}function o6(){const t=St(),{user:s}=We(),[n,i]=v.useState({status:"",startDate:"",endDate:"",assignedTo:""}),[o,c]=v.useState(!1),{data:u=[]}=we({queryKey:["employees",s?.companyId],queryFn:async()=>s?.companyId?(await nm.getAll(s.companyId)).data.data||[]:[],enabled:!!s?.companyId}),{data:m,isLoading:h}=we({queryKey:["calls",n],queryFn:async()=>{const j={};return n.status&&(j.status=n.status),n.startDate&&(j.startDate=n.startDate),n.endDate&&(j.endDate=n.endDate),n.assignedTo&&(j.assignedTo=parseInt(n.assignedTo)),(await qw.getAll(j)).data.data||[]},refetchInterval:6e4}),f=m||[],p=(j,C)=>{i(A=>({...A,[j]:C}))},y=()=>{i({status:"",startDate:"",endDate:"",assignedTo:""})},b=n.status!==""||n.startDate!==""||n.endDate!==""||n.assignedTo!=="",w=j=>{switch(j){case"Scheduled":return"bg-blue-100 text-blue-700";case"Completed":return"bg-green-100 text-green-700";case"Canceled":return"bg-red-100 text-red-700";case"NoAnswer":return"bg-yellow-100 text-yellow-700";case"Busy":return"bg-orange-100 text-orange-700";case"LeftVoicemail":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}},N=j=>(typeof j=="string"?new Date(j):j).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Call Schedule"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"View and manage all scheduled calls"})]})}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{className:"text-lg",children:"Search & Filters"}),e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>c(!o),children:[e.jsx(am,{className:"w-4 h-4 mr-2"}),o?"Hide":"Show"," Filters"]})]})}),e.jsx(ee,{children:o&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"status-filter",children:"Status"}),e.jsxs("select",{id:"status-filter",value:n.status,onChange:j=>p("status",j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"Scheduled",children:"Scheduled"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Canceled",children:"Canceled"}),e.jsx("option",{value:"NoAnswer",children:"No Answer"}),e.jsx("option",{value:"Busy",children:"Busy"}),e.jsx("option",{value:"LeftVoicemail",children:"Left Voicemail"})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"start-date-filter",children:"Start Date"}),e.jsx(me,{id:"start-date-filter",type:"date",value:n.startDate,onChange:j=>p("startDate",j.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"end-date-filter",children:"End Date"}),e.jsx(me,{id:"end-date-filter",type:"date",value:n.endDate,onChange:j=>p("endDate",j.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"assigned-to-filter",children:"Assigned To"}),e.jsxs("select",{id:"assigned-to-filter",value:n.assignedTo,onChange:j=>p("assignedTo",j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"All Employees"}),u.map(j=>e.jsx("option",{value:j.id,children:j.user?.email||j.user?.name||`Employee ${j.id}`},j.id))]})]}),e.jsx("div",{className:"flex items-end",children:b&&e.jsxs(M,{variant:"outline",size:"sm",onClick:y,className:"w-full",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})})]})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"text-lg",children:["All Calls (",f.length,")"]})}),e.jsx(ee,{children:h?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-slate-500",children:"Loading calls..."})}):f.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No calls found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Call Title"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Lead"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Assigned To"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Call Time"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Phone Number"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Notes"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{children:f.map(j=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"font-medium text-slate-900",children:j.title||"-"})}),e.jsx("td",{className:"py-3 px-4",children:j.lead?e.jsx("button",{onClick:()=>t(`/leads/${j.lead.id}`),className:"text-indigo-600 hover:text-indigo-800 hover:underline font-medium",children:j.lead.title}):"-"}),e.jsx("td",{className:"py-3 px-4",children:j.assignedEmployee?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-slate-700",children:j.assignedEmployee.user?.email||j.assignedEmployee.user?.name||"Employee"})]}):"-"}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-slate-900",children:N(j.callTime)})]})}),e.jsx("td",{className:"py-3 px-4",children:j.phoneNumber?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ca,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-slate-700",children:j.phoneNumber})]}):"-"}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:fe("px-2 py-1 rounded text-xs font-medium",w(j.status)),children:j.status})}),e.jsx("td",{className:"py-3 px-4",children:j.notes?e.jsx("div",{className:"text-sm text-slate-600 truncate max-w-xs",title:j.notes,children:j.notes}):e.jsx("span",{className:"text-slate-400 text-sm",children:"-"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"flex gap-2",children:e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>t(`/leads/${j.leadId}`),title:"View lead",children:e.jsx(ca,{className:"w-4 h-4"})})})})]},j.id))})]})})})]})]})}function c6(){const t=St(),{user:s}=We(),n=gt(),[i,o]=v.useState({status:"",startDate:"",endDate:""}),[c,u]=v.useState(!1),[m,h]=v.useState(null),[f,p]=v.useState(null),{data:y,isLoading:b}=we({queryKey:["my-calls",i],queryFn:async()=>{const _={};return i.status&&(_.status=i.status),i.startDate&&(_.startDate=i.startDate),i.endDate&&(_.endDate=i.endDate),(await qw.getAll(_)).data.data||[]},refetchInterval:6e4}),w=y||[],N=Te({mutationFn:async({callId:_,note:L,leadId:I})=>{if(!s?.companyId)throw new Error("Company ID is required");return(await qs.addCallNote(I,_,L,s.companyId)).data.data},onSuccess:()=>{n.invalidateQueries({queryKey:["my-calls",i]}),h(null)}}),j=Te({mutationFn:async({callId:_,status:L,leadId:I})=>{if(!s?.companyId)throw new Error("Company ID is required");return(await qs.updateCall(I,_,{status:L},s.companyId)).data.data},onSuccess:()=>{n.invalidateQueries({queryKey:["my-calls",i]}),p(null)}}),C=(_,L)=>{o(I=>({...I,[_]:L}))},A=()=>{o({status:"",startDate:"",endDate:""})},E=i.status!==""||i.startDate!==""||i.endDate!=="",S=_=>{switch(_){case"Scheduled":return"bg-blue-100 text-blue-700";case"Completed":return"bg-green-100 text-green-700";case"Canceled":return"bg-red-100 text-red-700";case"NoAnswer":return"bg-yellow-100 text-yellow-700";case"Busy":return"bg-orange-100 text-orange-700";case"LeftVoicemail":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}},R=_=>(typeof _=="string"?new Date(_):_).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"My Calls"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"View and manage your assigned calls and related leads"})]})}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{className:"text-lg",children:"Filters"}),e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>u(!c),children:[e.jsx(am,{className:"w-4 h-4 mr-2"}),c?"Hide":"Show"," Filters"]})]})}),e.jsx(ee,{children:c&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"status-filter",children:"Status"}),e.jsxs("select",{id:"status-filter",value:i.status,onChange:_=>C("status",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"Scheduled",children:"Scheduled"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Canceled",children:"Canceled"}),e.jsx("option",{value:"NoAnswer",children:"No Answer"}),e.jsx("option",{value:"Busy",children:"Busy"}),e.jsx("option",{value:"LeftVoicemail",children:"Left Voicemail"})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"start-date-filter",children:"Start Date"}),e.jsx(me,{id:"start-date-filter",type:"date",value:i.startDate,onChange:_=>C("startDate",_.target.value),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"end-date-filter",children:"End Date"}),e.jsx(me,{id:"end-date-filter",type:"date",value:i.endDate,onChange:_=>C("endDate",_.target.value),className:"w-full"})]}),e.jsx("div",{className:"flex items-end",children:E&&e.jsxs(M,{variant:"outline",size:"sm",onClick:A,className:"w-full",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})})]})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"text-lg",children:["My Assigned Calls (",w.length,")"]})}),e.jsx(ee,{children:b?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-slate-500",children:"Loading calls..."})}):w.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No calls assigned to you"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Call Title"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Lead"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Call Time"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Phone Number"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Notes"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{children:w.map(_=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"font-medium text-slate-900",children:_.title||"-"})}),e.jsx("td",{className:"py-3 px-4",children:_.lead?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>t(`/leads/${_.lead.id}`),className:"text-indigo-600 hover:text-indigo-800 hover:underline font-medium flex items-center gap-1",children:[_.lead.title,e.jsx(Zl,{className:"w-3 h-3"})]}),_.lead.phone&&e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[e.jsx(ca,{className:"w-3 h-3"}),_.lead.phone]})]}):"-"}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-slate-900",children:R(_.callTime)})]})}),e.jsx("td",{className:"py-3 px-4",children:_.phoneNumber?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ca,{className:"w-4 h-4 text-slate-400"}),e.jsx("a",{href:`tel:${_.phoneNumber}`,className:"text-indigo-600 hover:text-indigo-800 hover:underline",children:_.phoneNumber})]}):"-"}),e.jsx("td",{className:"py-3 px-4",children:f?.callId===_.id?e.jsxs("select",{value:f.status,onChange:L=>p({callId:_.id,status:L.target.value}),onBlur:()=>{f.status!==_.status&&_.leadId?j.mutate({callId:_.id,status:f.status,leadId:_.leadId}):p(null)},className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-indigo-500",autoFocus:!0,children:[e.jsx("option",{value:"Scheduled",children:"Scheduled"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Canceled",children:"Canceled"}),e.jsx("option",{value:"NoAnswer",children:"No Answer"}),e.jsx("option",{value:"Busy",children:"Busy"}),e.jsx("option",{value:"LeftVoicemail",children:"Left Voicemail"})]}):e.jsx("button",{onClick:()=>p({callId:_.id,status:_.status}),className:fe("px-2 py-1 rounded text-xs font-medium cursor-pointer hover:opacity-80",S(_.status)),title:"Click to change status",children:_.status})}),e.jsx("td",{className:"py-3 px-4",children:m?.callId===_.id?e.jsxs("div",{className:"space-y-2 min-w-[200px]",children:[e.jsx(Ir,{value:m.note,onChange:L=>h({callId:_.id,note:L.target.value}),placeholder:"Add call notes...",className:"text-sm min-h-[60px]",rows:3}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{size:"sm",onClick:()=>{m.note.trim()&&_.leadId?N.mutate({callId:_.id,note:m.note,leadId:_.leadId}):h(null)},disabled:N.isPending,children:"Save"}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>h(null),children:"Cancel"})]})]}):e.jsxs("div",{className:"space-y-1",children:[_.notes?e.jsx("div",{className:"text-sm text-slate-600 max-w-xs",title:_.notes,children:_.notes.length>50?`${_.notes.substring(0,50)}...`:_.notes}):e.jsx("span",{className:"text-slate-400 text-sm",children:"No notes"}),e.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>h({callId:_.id,note:_.notes||""}),className:"text-xs h-6 px-2",children:[e.jsx(Vt,{className:"w-3 h-3 mr-1"}),_.notes?"Edit":"Add"," Note"]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"flex gap-2",children:_.lead&&e.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>t(`/leads/${_.lead.id}`),title:"View and manage lead",className:"text-xs",children:[e.jsx(la,{className:"w-4 h-4 mr-1"}),"View Lead"]})})})]},_.id))})]})})})]})]})}function d6(){const{user:t}=We(),s=gt(),[n,i]=v.useState(""),[o,c]=v.useState(!1),[u,m]=v.useState(null),[h,f]=v.useState({email:"",password:"",roleId:0,companyId:t?.companyId||0}),{data:p,isLoading:y}=we({queryKey:["users"],queryFn:async()=>(await pn.getAll()).data.data}),{data:b}=we({queryKey:["roles"],queryFn:async()=>[],enabled:!1}),N=(p||[]).filter(_=>_.email.toLowerCase().includes(n.toLowerCase())||_.role.name.toLowerCase().includes(n.toLowerCase())),j=Te({mutationFn:_=>pn.create(_),onSuccess:()=>{s.invalidateQueries({queryKey:["users"]}),c(!1),f({email:"",password:"",roleId:0,companyId:t?.companyId||0})}}),C=Te({mutationFn:({id:_,data:L})=>pn.update(_,L),onSuccess:()=>{s.invalidateQueries({queryKey:["users"]}),m(null),f({email:"",password:"",roleId:0,companyId:t?.companyId||0})}}),A=Te({mutationFn:_=>pn.delete(_),onSuccess:()=>{s.invalidateQueries({queryKey:["users"]})}}),E=_=>{_.preventDefault(),u?C.mutate({id:u.id,data:h}):j.mutate(h)},S=_=>{m(_),f({email:_.email,password:"",roleId:_.roleId,companyId:_.companyId}),c(!0)},R=_=>{confirm("Are you sure you want to delete this user?")&&A.mutate(_)};return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage system users and their roles"})]}),e.jsx(it,{permission:"can_manage_users",children:e.jsxs(M,{onClick:()=>{m(null),f({email:"",password:"",roleId:0,companyId:t?.companyId||0}),c(!0)},children:[e.jsx(_t,{className:"mr-2 h-4 w-4"}),"Add User"]})})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(me,{placeholder:"Search users by email or role...",value:n,onChange:_=>i(_.target.value),className:"pl-10"})]})}),y?e.jsx("div",{className:"text-center py-12",children:"Loading users..."}):N.length===0?e.jsx(X,{children:e.jsx(ee,{className:"py-12 text-center text-gray-500",children:"No users found"})}):e.jsx("div",{className:"grid gap-4",children:N.map(_=>e.jsx(X,{children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold",children:_.email.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:_.email}),e.jsxs("p",{className:"text-sm text-gray-600",children:[_.role.name,"  ",_.company.name]})]})]})}),e.jsx(it,{permission:"can_manage_users",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:()=>S(_),children:e.jsx($t,{className:"h-4 w-4"})}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>R(_.id),className:"text-red-600 hover:text-red-700",children:e.jsx(Ls,{className:"h-4 w-4"})})]})})]})})},_.id))}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs(X,{className:"w-full max-w-md",children:[e.jsxs(oe,{children:[e.jsx(ce,{children:u?"Edit User":"Create User"}),e.jsx(Qe,{children:u?"Update user information":"Add a new user to the system"})]}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"email",children:"Email"}),e.jsx(me,{id:"email",type:"email",value:h.email,onChange:_=>f({...h,email:_.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"password",children:u?"New Password (leave blank to keep current)":"Password"}),e.jsx(me,{id:"password",type:"password",value:h.password,onChange:_=>f({...h,password:_.target.value}),required:!u,minLength:6})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"roleId",children:"Role"}),e.jsx(me,{id:"roleId",type:"number",value:h.roleId,onChange:_=>f({...h,roleId:parseInt(_.target.value)}),required:!0,placeholder:"Role ID (1=Admin, 2=Manager, etc.)"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>{c(!1),m(null)},children:"Cancel"}),e.jsx(M,{type:"submit",disabled:j.isPending||C.isPending,children:u?"Update":"Create"})]})]})})]})})]})}function u6(){const{user:t}=We(),s=gt(),[n,i]=v.useState("categories"),[o,c]=v.useState(!1),[u,m]=v.useState(!1),[h,f]=v.useState(null),[p,y]=v.useState(null),[b,w]=v.useState({name:"",isActive:!0}),[N,j]=v.useState({name:"",isActive:!0}),{data:C,isLoading:A}=we({queryKey:["lead-categories"],queryFn:async()=>(await Ul.getAll(t?.companyId||0)).data.data,enabled:!!t?.companyId}),{data:E,isLoading:S}=we({queryKey:["lead-interests"],queryFn:async()=>(await Fl.getAll(t?.companyId||0)).data.data,enabled:!!t?.companyId}),R=C||[],_=E||[],L=Te({mutationFn:z=>Ul.create(z),onSuccess:()=>{s.invalidateQueries({queryKey:["lead-categories"]}),c(!1),w({name:"",isActive:!0})}}),I=Te({mutationFn:({id:z,data:he})=>Ul.update(z,he),onSuccess:()=>{s.invalidateQueries({queryKey:["lead-categories"]}),c(!1),f(null),w({name:"",isActive:!0})}}),q=Te({mutationFn:z=>Ul.delete(z,t?.companyId||0),onSuccess:()=>{s.invalidateQueries({queryKey:["lead-categories"]})}}),$=Te({mutationFn:z=>Fl.create(z),onSuccess:()=>{s.invalidateQueries({queryKey:["lead-interests"]}),m(!1),j({name:"",isActive:!0})}}),H=Te({mutationFn:({id:z,data:he})=>Fl.update(z,he),onSuccess:()=>{s.invalidateQueries({queryKey:["lead-interests"]}),m(!1),y(null),j({name:"",isActive:!0})}}),G=Te({mutationFn:z=>Fl.delete(z,t?.companyId||0),onSuccess:()=>{s.invalidateQueries({queryKey:["lead-interests"]})}}),F=z=>{z.preventDefault(),h?I.mutate({id:h.id,data:b}):L.mutate(b)},de=z=>{z.preventDefault(),p?H.mutate({id:p.id,data:N}):$.mutate(N)};return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Lead Configuration"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage lead categories and interests"})]}),e.jsxs("div",{className:"flex gap-2 mb-6 border-b",children:[e.jsx("button",{onClick:()=>i("categories"),className:`px-4 py-2 font-medium ${n==="categories"?"border-b-2 border-indigo-600 text-indigo-600":"text-gray-600 hover:text-gray-900"}`,children:"Categories"}),e.jsx("button",{onClick:()=>i("interests"),className:`px-4 py-2 font-medium ${n==="interests"?"border-b-2 border-indigo-600 text-indigo-600":"text-gray-600 hover:text-gray-900"}`,children:"Interests"})]}),n==="categories"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Lead Categories"}),e.jsx(it,{permission:"can_manage_lead_config",children:e.jsxs(M,{onClick:()=>{f(null),w({name:"",isActive:!0}),c(!0)},children:[e.jsx(_t,{className:"mr-2 h-4 w-4"}),"Add Category"]})})]}),A?e.jsx("div",{className:"text-center py-12",children:"Loading categories..."}):R.length===0?e.jsx(X,{children:e.jsx(ee,{className:"py-12 text-center text-gray-500",children:"No categories found"})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:R.map(z=>e.jsx(X,{children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:z.name}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${z.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:z.isActive?"Active":"Inactive"})]}),e.jsx(it,{permission:"can_manage_lead_config",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:()=>{f(z),w({name:z.name,isActive:z.isActive}),c(!0)},children:e.jsx($t,{className:"h-4 w-4"})}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this category?")&&q.mutate(z.id)},className:"text-red-600 hover:text-red-700",children:e.jsx(Ls,{className:"h-4 w-4"})})]})})]})})},z.id))})]}),n==="interests"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Lead Interests"}),e.jsx(it,{permission:"can_manage_lead_config",children:e.jsxs(M,{onClick:()=>{y(null),j({name:"",isActive:!0}),m(!0)},children:[e.jsx(_t,{className:"mr-2 h-4 w-4"}),"Add Interest"]})})]}),S?e.jsx("div",{className:"text-center py-12",children:"Loading interests..."}):_.length===0?e.jsx(X,{children:e.jsx(ee,{className:"py-12 text-center text-gray-500",children:"No interests found"})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:_.map(z=>e.jsx(X,{children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:z.name}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${z.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:z.isActive?"Active":"Inactive"})]}),e.jsx(it,{permission:"can_manage_lead_config",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:()=>{y(z),j({name:z.name,isActive:z.isActive}),m(!0)},children:e.jsx($t,{className:"h-4 w-4"})}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this interest?")&&G.mutate(z.id)},className:"text-red-600 hover:text-red-700",children:e.jsx(Ls,{className:"h-4 w-4"})})]})})]})})},z.id))})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs(X,{className:"w-full max-w-md",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{children:h?"Edit Category":"Create Category"}),e.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{c(!1),f(null)},children:e.jsx(Ye,{className:"h-4 w-4"})})]})}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"category-name",children:"Category Name"}),e.jsx(me,{id:"category-name",value:b.name,onChange:z=>w({...b,name:z.target.value}),required:!0})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"category-active",checked:b.isActive,onChange:z=>w({...b,isActive:z.target.checked}),className:"rounded"}),e.jsx(W,{htmlFor:"category-active",children:"Active"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>{c(!1),f(null)},children:"Cancel"}),e.jsx(M,{type:"submit",disabled:L.isPending||I.isPending,children:h?"Update":"Create"})]})]})})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs(X,{className:"w-full max-w-md",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{children:p?"Edit Interest":"Create Interest"}),e.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{m(!1),y(null)},children:e.jsx(Ye,{className:"h-4 w-4"})})]})}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:de,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"interest-name",children:"Interest Name"}),e.jsx(me,{id:"interest-name",value:N.name,onChange:z=>j({...N,name:z.target.value}),required:!0})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"interest-active",checked:N.isActive,onChange:z=>j({...N,isActive:z.target.checked}),className:"rounded"}),e.jsx(W,{htmlFor:"interest-active",children:"Active"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>{m(!1),y(null)},children:"Cancel"}),e.jsx(M,{type:"submit",disabled:$.isPending||H.isPending,children:p?"Update":"Create"})]})]})})]})})]})}function m6(){const{user:t}=We(),s=gt(),[n,i]=v.useState(!1),[o,c]=v.useState(null),[u,m]=v.useState({key:"",value:"",description:""}),{data:h,isLoading:f}=we({queryKey:["system-settings"],queryFn:async()=>(await $f.getAll(t?.companyId||0)).data.data,enabled:!!t?.companyId}),p=h||[],y=Te({mutationFn:C=>$f.upsert(C),onSuccess:()=>{s.invalidateQueries({queryKey:["system-settings"]}),i(!1),c(null),m({key:"",value:"",description:""})}}),b=Te({mutationFn:C=>$f.delete(C,t?.companyId||0),onSuccess:()=>{s.invalidateQueries({queryKey:["system-settings"]})}}),w=C=>{C.preventDefault(),y.mutate({key:u.key,value:u.value,description:u.description||void 0})},N=C=>{c(C),m({key:C.key,value:C.value,description:C.description||""}),i(!0)},j=C=>{confirm("Are you sure you want to delete this setting?")&&b.mutate(C)};return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(Uu,{className:"h-8 w-8"}),"System Settings"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage root items and system configuration"})]}),e.jsx(it,{permission:"can_manage_root_items",children:e.jsxs(M,{onClick:()=>{c(null),m({key:"",value:"",description:""}),i(!0)},children:[e.jsx(_t,{className:"mr-2 h-4 w-4"}),"Add Setting"]})})]}),f?e.jsx("div",{className:"text-center py-12",children:"Loading settings..."}):p.length===0?e.jsx(X,{children:e.jsx(ee,{className:"py-12 text-center text-gray-500",children:"No settings found. Add your first setting to get started."})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:p.map(C=>e.jsxs(X,{children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(ce,{className:"text-lg",children:C.key}),C.description&&e.jsx(Qe,{className:"mt-1",children:C.description})]}),e.jsx(it,{permission:"can_manage_root_items",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:()=>N(C),children:e.jsx($t,{className:"h-4 w-4"})}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>j(C.key),className:"text-red-600 hover:text-red-700",children:e.jsx(Ls,{className:"h-4 w-4"})})]})})]})}),e.jsx(ee,{children:e.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:e.jsx("p",{className:"text-sm text-gray-700 break-words",children:C.value})})})]},C.id))}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs(X,{className:"w-full max-w-md",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{children:o?"Edit Setting":"Create Setting"}),e.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{i(!1),c(null)},children:e.jsx(Ye,{className:"h-4 w-4"})})]})}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"setting-key",children:"Key"}),e.jsx(me,{id:"setting-key",value:u.key,onChange:C=>m({...u,key:C.target.value}),required:!0,disabled:!!o,placeholder:"e.g., site_name"}),o&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Key cannot be changed after creation"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"setting-value",children:"Value"}),e.jsx("textarea",{id:"setting-value",value:u.value,onChange:C=>m({...u,value:C.target.value}),required:!0,className:"w-full min-h-[100px] px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter setting value"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"setting-description",children:"Description (Optional)"}),e.jsx(me,{id:"setting-description",value:u.description,onChange:C=>m({...u,description:C.target.value}),placeholder:"Brief description of this setting"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>{i(!1),c(null)},children:"Cancel"}),e.jsx(M,{type:"submit",disabled:y.isPending,children:o?"Update":"Create"})]})]})})]})})]})}const h6=Es({siteName:Fe().min(1,"Site name is required"),contactEmail:Fe().email("Invalid email format").optional().or(Uc("")),contactPhone:Fe().optional(),contactAddress:Fe().optional()});function f6(){const t=gt(),[s,n]=v.useState(null),[i,o]=v.useState(null),[c,u]=v.useState("idle"),{data:m,isLoading:h}=we({queryKey:["theme-settings"],queryFn:async()=>(await Ni.getThemeSettings()).data.data}),f=m||{siteName:"Omni CRM",contactEmail:"",contactPhone:"",contactAddress:""},{register:p,handleSubmit:y,formState:{errors:b},reset:w}=Vs({resolver:Hs(h6),defaultValues:{siteName:f.siteName,contactEmail:f.contactEmail,contactPhone:f.contactPhone,contactAddress:f.contactAddress}});v.useEffect(()=>{m&&(w({siteName:m.siteName,contactEmail:m.contactEmail,contactPhone:m.contactPhone,contactAddress:m.contactAddress}),m.siteLogo&&n(m.siteLogo))},[m,w]);const N=Te({mutationFn:S=>Ni.uploadLogo(S),onSuccess:S=>{u("success"),t.invalidateQueries({queryKey:["theme-settings"]}),S.data.data?.logoPath&&n(S.data.data.logoPath),setTimeout(()=>u("idle"),3e3)},onError:()=>{u("error"),setTimeout(()=>u("idle"),3e3)}}),j=Te({mutationFn:S=>Ni.updateThemeSettings(S),onSuccess:()=>{t.invalidateQueries({queryKey:["theme-settings"]}),alert("Theme settings updated successfully!")},onError:S=>{alert(S.message||"Failed to update theme settings")}}),C=S=>{const R=S.target.files?.[0];if(R){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"].includes(R.type)){alert("Invalid file type. Only JPEG, PNG, GIF, WebP, and SVG images are allowed.");return}if(R.size>2*1024*1024){alert("File size must be less than 2MB.");return}o(R);const L=new FileReader;L.onloadend=()=>{n(L.result)},L.readAsDataURL(R)}},A=async()=>{if(!i){alert("Please select a logo file first");return}u("uploading"),N.mutate(i)},E=S=>{j.mutate(S)};return h?e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"text-center py-12",children:"Loading theme settings..."})}):e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(Rw,{className:"h-8 w-8 text-indigo-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Theme Design"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Customize your site logo, name, and contact information"})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(X,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Site Logo"}),e.jsx(Qe,{children:"Upload your site logo. It will be displayed in the header and sidebar."})]}),e.jsxs(ee,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-center p-6 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:s?e.jsx("img",{src:s.startsWith("/")?`${"https://api.paaera.com/api".replace("/api","")||"http://localhost:5001"}${s}`:s,alt:"Logo preview",className:"max-w-full max-h-32 object-contain"}):e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(Di,{className:"h-12 w-12 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"No logo uploaded"})]})}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"logo-upload",children:"Select Logo"}),e.jsx(me,{id:"logo-upload",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp,image/svg+xml",onChange:C,className:"mt-2"})]}),e.jsx(M,{onClick:A,disabled:!i||c==="uploading",className:"w-full",children:c==="uploading"?e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):c==="success"?e.jsxs(e.Fragment,{children:[e.jsx(bi,{className:"mr-2 h-4 w-4"}),"Uploaded Successfully"]}):c==="error"?e.jsxs(e.Fragment,{children:[e.jsx(wc,{className:"mr-2 h-4 w-4"}),"Upload Failed"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ec,{className:"mr-2 h-4 w-4"}),"Upload Logo"]})}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Logo Requirements:"}),e.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Recommended Size:"})," 200x50 pixels (width x height)"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Maximum Size:"})," 500x150 pixels"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"File Formats:"})," PNG, JPG, JPEG, SVG, WebP"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Maximum File Size:"})," 2MB"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Aspect Ratio:"})," 4:1 (width:height) recommended for best display"]})]})]})]})]}),e.jsxs(X,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Site Information"}),e.jsx(Qe,{children:"Update your site name and contact information"})]}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:y(E),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"site-name",children:"Site Name"}),e.jsx(me,{id:"site-name",...p("siteName"),placeholder:"Omni CRM",className:"mt-2"}),b.siteName&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.siteName.message})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"contact-email",children:"Contact Email"}),e.jsx(me,{id:"contact-email",type:"email",...p("contactEmail"),placeholder:"contact@example.com",className:"mt-2"}),b.contactEmail&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.contactEmail.message})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"contact-phone",children:"Contact Phone"}),e.jsx(me,{id:"contact-phone",type:"tel",...p("contactPhone"),placeholder:"+1 (555) 123-4567",className:"mt-2"}),b.contactPhone&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.contactPhone.message})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"contact-address",children:"Contact Address"}),e.jsx(Ir,{id:"contact-address",...p("contactAddress"),placeholder:"123 Innovation Road, Level 5, Dhaka, Bangladesh",className:"mt-2",rows:3}),b.contactAddress&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.contactAddress.message})]}),e.jsx(M,{type:"submit",disabled:j.isPending,className:"w-full",children:j.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Settings"})]})})]})]})]})}const x6=Es({name:Fe().min(1,"Name is required").max(100,"Name must be less than 100 characters"),accountType:wn(["Personal","Payment","Agent"],{errorMap:()=>({message:"Account type must be Personal, Payment, or Agent"})}),accountNumber:Fe().min(1,"Account number is required").max(20,"Account number must be less than 20 characters").regex(/^01[3-9]\d{8}$/,"Invalid Bangladesh mobile number format (01XXXXXXXXX)"),instructions:Fe().max(5e3,"Instructions must be less than 5000 characters").optional(),isActive:Ur().optional()});function p6(){const{user:t}=We(),s=gt(),[n,i]=v.useState(!1),[o,c]=v.useState(null),{register:u,handleSubmit:m,formState:{errors:h},reset:f,watch:p}=Vs({resolver:Hs(x6),defaultValues:{name:"",accountType:"Personal",accountNumber:"",instructions:"",isActive:!0}});p("isActive");const{data:y,isLoading:b}=we({queryKey:["payment-gateways"],queryFn:async()=>(await hc.getAll()).data.data}),w=y||[],N=Te({mutationFn:_=>hc.create(_),onSuccess:()=>{s.invalidateQueries({queryKey:["payment-gateways"]}),i(!1),f(),c(null)}}),j=Te({mutationFn:({id:_,data:L})=>hc.update(_,L),onSuccess:()=>{s.invalidateQueries({queryKey:["payment-gateways"]}),i(!1),f(),c(null)}}),C=Te({mutationFn:_=>hc.delete(_),onSuccess:()=>{s.invalidateQueries({queryKey:["payment-gateways"]})}}),A=_=>{o?j.mutate({id:o.id,data:_}):N.mutate(_)},E=_=>{c(_),f({name:_.name,accountType:_.accountType,accountNumber:_.accountNumber,instructions:_.instructions||"",isActive:_.isActive}),i(!0)},S=(_,L)=>{confirm(`Are you sure you want to delete "${L}"? This action cannot be undone.`)&&C.mutate(_)},R=()=>{i(!1),c(null),f()};return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(Ri,{className:"h-8 w-8"}),"Payment Settings"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage payment gateways (Bkash, Nagad, Rocket, etc.)"})]}),e.jsx(it,{permission:"can_manage_payment_settings",children:e.jsxs(M,{onClick:()=>{c(null),f(),i(!0)},children:[e.jsx(_t,{className:"mr-2 h-4 w-4"}),"Add Gateway"]})})]}),b?e.jsx("div",{className:"text-center py-12",children:"Loading payment gateways..."}):w.length===0?e.jsx(X,{children:e.jsx(ee,{className:"py-12 text-center text-gray-500",children:"No payment gateways found. Add your first payment gateway to get started."})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.map(_=>e.jsxs(X,{className:_.isActive?"":"opacity-60",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(ce,{className:"text-lg",children:_.name}),_.isActive?e.jsx(ma,{className:"h-4 w-4 text-green-600"}):e.jsx(Wn,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs(Qe,{className:"mt-1",children:[_.accountType,"  ",_.accountNumber]})]}),e.jsx(it,{permission:"can_manage_payment_settings",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:()=>E(_),children:e.jsx($t,{className:"h-4 w-4"})}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>S(_.id,_.name),className:"text-red-600 hover:text-red-700",children:e.jsx(Ls,{className:"h-4 w-4"})})]})})]})}),e.jsxs(ee,{children:[_.instructions&&e.jsxs("div",{className:"bg-gray-50 p-3 rounded-md mb-3",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-1",children:"Instructions:"}),e.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:_.instructions})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${_.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:_.isActive?"Active":"Inactive"})})]})]},_.id))}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs(X,{className:"w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{children:o?"Edit Payment Gateway":"Add Payment Gateway"}),e.jsx(M,{variant:"ghost",size:"icon",onClick:R,children:e.jsx(Ye,{className:"h-4 w-4"})})]})}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:m(A),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"name",children:"Gateway Name *"}),e.jsx(me,{id:"name",...u("name"),placeholder:"e.g., Bkash, Nagad, Rocket"}),h.name&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.name.message})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"accountType",children:"Account Type *"}),e.jsxs("select",{id:"accountType",...u("accountType"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"Personal",children:"Personal"}),e.jsx("option",{value:"Payment",children:"Payment"}),e.jsx("option",{value:"Agent",children:"Agent"})]}),h.accountType&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.accountType.message})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"accountNumber",children:"Account Number *"}),e.jsx(me,{id:"accountNumber",...u("accountNumber"),placeholder:"01XXXXXXXXX (11 digits)",maxLength:11}),h.accountNumber&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.accountNumber.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Bangladesh mobile number format"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"instructions",children:"Payment Instructions"}),e.jsx("textarea",{id:"instructions",...u("instructions"),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter payment instructions for clients (e.g., Send money to this number and provide transaction ID)"}),h.instructions&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.instructions.message})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"isActive",...u("isActive"),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),e.jsx(W,{htmlFor:"isActive",className:"cursor-pointer",children:"Active (visible to clients)"})]}),e.jsxs("div",{className:"flex gap-2 justify-end pt-4",children:[e.jsx(M,{type:"button",variant:"outline",onClick:R,children:"Cancel"}),e.jsx(M,{type:"submit",disabled:N.isPending||j.isPending,children:o?"Update":"Create"})]})]})})]})})]})}function g6(){return e.jsx(it,{permission:"can_manage_payment_settings",children:e.jsx(p6,{})})}const y6=Es({adminNotes:Fe().min(1,"Admin notes are required for rejection").max(5e3)});function v6(){const t=gt(),[s,n]=v.useState(null),[i,o]=v.useState(!1),[c,u]=v.useState(""),{register:m,handleSubmit:h,formState:{errors:f},reset:p}=Vs({resolver:Hs(y6)}),{data:y,isLoading:b}=we({queryKey:["payments","admin",c],queryFn:async()=>(await vc.getAll(c?{status:c}:{})).data.data}),w=y||[],N=w.filter(L=>L.status==="Pending"),j=Te({mutationFn:({id:L,adminNotes:I})=>vc.approve(L,I?{adminNotes:I}:void 0),onSuccess:()=>{t.invalidateQueries({queryKey:["payments"]}),t.invalidateQueries({queryKey:["invoices"]}),t.invalidateQueries({queryKey:["projects"]}),n(null),alert("Payment approved successfully! Project status updated if applicable.")},onError:L=>{alert(L.response?.data?.message||"Failed to approve payment")}}),C=Te({mutationFn:({id:L,adminNotes:I})=>vc.reject(L,{adminNotes:I}),onSuccess:()=>{t.invalidateQueries({queryKey:["payments"]}),o(!1),n(null),p(),alert("Payment rejected successfully.")},onError:L=>{alert(L.response?.data?.message||"Failed to reject payment")}}),A=L=>{confirm(`Approve payment of $${Number(L.amount).toLocaleString()}?`)&&j.mutate({id:L.id})},E=L=>{n(L),o(!0)},S=L=>{s&&C.mutate({id:s.id,adminNotes:L.adminNotes})},R=L=>{switch(L){case"Approved":return"bg-green-100 text-green-700";case"Pending":return"bg-yellow-100 text-yellow-700";case"Rejected":return"bg-red-100 text-red-700";case"Cancelled":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-700"}},_=L=>{switch(L){case"Approved":return e.jsx(ma,{className:"w-4 h-4"});case"Pending":return e.jsx(Jt,{className:"w-4 h-4"});case"Rejected":return e.jsx(Wn,{className:"w-4 h-4"});default:return null}};return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(Ri,{className:"h-8 w-8"}),"Payment Management"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Review and manage client payments"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:c,onChange:L=>u(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rejected",children:"Rejected"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})})]}),N.length>0&&!c&&e.jsx(X,{className:"mb-6 border-yellow-200 bg-yellow-50",children:e.jsx(ee,{className:"py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("span",{className:"font-semibold text-yellow-800",children:[N.length," payment(s) pending approval"]})]})})}),b?e.jsx("div",{className:"text-center py-12",children:"Loading payments..."}):w.length===0?e.jsx(X,{children:e.jsx(ee,{className:"py-12 text-center text-gray-500",children:"No payments found"})}):e.jsx("div",{className:"grid gap-4",children:w.map(L=>e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ce,{className:"text-lg",children:L.paymentGateway?.name||L.paymentMethod}),e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium flex items-center gap-1 ${R(L.status)}`,children:[_(L.status),L.status]})]}),e.jsxs(Qe,{children:["Invoice: ",L.invoice?.invoiceNumber||`#${L.invoiceId}`," | Amount: $",Number(L.amount).toLocaleString()]})]}),L.status==="Pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{size:"sm",onClick:()=>A(L),disabled:j.isPending,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ma,{className:"w-4 h-4 mr-1"}),"Approve"]}),e.jsxs(M,{size:"sm",variant:"outline",onClick:()=>E(L),disabled:C.isPending,className:"text-red-600 hover:text-red-700",children:[e.jsx(Wn,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})}),e.jsxs(ee,{children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ps,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"font-semibold",children:"Amount:"}),e.jsxs("span",{children:["$",Number(L.amount).toLocaleString()]})]}),L.transactionId&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"font-semibold",children:"Transaction ID:"}),e.jsx("span",{children:L.transactionId})]}),L.paidBy&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"font-semibold",children:"Paid From:"}),e.jsx("span",{children:L.paidBy})]}),L.paymentGateway&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Gateway Account:"}),e.jsx("span",{className:"ml-2",children:L.paymentGateway.accountNumber})]})]}),e.jsxs("div",{className:"space-y-2",children:[L.client&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Client:"}),e.jsx("span",{className:"ml-2",children:L.client.name}),L.client.contactInfo?.email&&e.jsxs("span",{className:"ml-2 text-slate-600",children:["(",L.client.contactInfo.email,")"]})]}),L.project&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Project:"}),e.jsx("span",{className:"ml-2",children:L.project.title})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zs,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"font-semibold",children:"Submitted:"}),e.jsx("span",{children:new Date(L.createdAt).toLocaleString()})]}),L.verifiedAt&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Verified:"}),e.jsx("span",{className:"ml-2",children:new Date(L.verifiedAt).toLocaleString()})]})]})]}),L.notes&&e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-1",children:"Client Notes:"}),e.jsx("p",{className:"text-sm text-gray-600",children:L.notes})]}),L.adminNotes&&e.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-md",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-700 mb-1",children:"Admin Notes:"}),e.jsx("p",{className:"text-sm text-blue-600",children:L.adminNotes})]})]})]},L.id))}),i&&s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs(X,{className:"w-full max-w-md",children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Reject Payment"}),e.jsxs(Qe,{children:["Reject payment of $",Number(s.amount).toLocaleString()," from ",s.client?.name]})]}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:h(S),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"adminNotes",children:"Admin Notes *"}),e.jsx("textarea",{id:"adminNotes",...m("adminNotes"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Explain why this payment is being rejected..."}),f.adminNotes&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.adminNotes.message})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>{o(!1),n(null),p()},children:"Cancel"}),e.jsx(M,{type:"submit",disabled:C.isPending,className:"bg-red-600 hover:bg-red-700",children:"Reject Payment"})]})]})})]})})]})}const ui=[{key:"can_delete_users",label:"Delete Users"},{key:"can_edit_users",label:"Edit Users"},{key:"can_view_users",label:"View Users"},{key:"can_reply_social",label:"Reply to Social Messages"},{key:"can_manage_roles",label:"Manage Roles"},{key:"can_view_reports",label:"View Reports"},{key:"can_manage_finance",label:"Manage Finance"},{key:"can_manage_companies",label:"Manage Companies"},{key:"can_manage_employees",label:"Manage Employees"},{key:"can_manage_tasks",label:"Manage Tasks"},{key:"can_manage_leads",label:"Manage Leads"},{key:"can_manage_inbox",label:"Manage Inbox"},{key:"can_view_companies",label:"View Companies"},{key:"can_view_employees",label:"View Employees"},{key:"can_view_tasks",label:"View Tasks"},{key:"can_view_leads",label:"View Leads"},{key:"can_view_finance",label:"View Finance"},{key:"can_create_leads",label:"Create Leads"},{key:"can_manage_users",label:"Manage Users"},{key:"can_view_all_users",label:"View All Users"},{key:"can_manage_integrations",label:"Manage Integrations"},{key:"can_view_integrations",label:"View Integrations"},{key:"can_manage_task_config",label:"Manage Task Config"},{key:"can_manage_root_items",label:"Manage Root Items"},{key:"can_manage_lead_config",label:"Manage Lead Config"},{key:"can_view_all_tasks",label:"View All Tasks"},{key:"can_assign_tasks_to_anyone",label:"Assign Tasks to Anyone"},{key:"can_manage_campaigns",label:"Manage Campaigns"},{key:"can_manage_payment_settings",label:"Manage Payment Settings"}];function j6(){const{user:t}=We(),s=gt(),[n,i]=v.useState(null),[o,c]=v.useState({}),{data:u,isLoading:m}=we({queryKey:["roles"],queryFn:async()=>(await Fu.getAll()).data.data}),h=u||[],f=Te({mutationFn:({id:j,permissions:C})=>Fu.updatePermissions(j,C),onSuccess:()=>{s.invalidateQueries({queryKey:["roles"]}),i(null),c({})}}),p=j=>{i(j),c({...j.permissions})},y=(j,C)=>{c({...o,[j]:C})},b=()=>{n&&f.mutate({id:n.id,permissions:o})},w=()=>{i(null),c({})},N={"User Management":ui.filter(j=>j.key.includes("user")||j.key.includes("User")),"Content Management":ui.filter(j=>j.key.includes("company")||j.key.includes("employee")||j.key.includes("lead")||j.key.includes("task")||j.key.includes("campaign")),"System Management":ui.filter(j=>j.key.includes("role")||j.key.includes("integration")||j.key.includes("root")||j.key.includes("config")),"Access & View":ui.filter(j=>j.key.includes("view")||j.key.includes("report")),Communication:ui.filter(j=>j.key.includes("social")||j.key.includes("inbox")),Finance:ui.filter(j=>j.key.includes("finance"))};return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(Fr,{className:"h-8 w-8"}),"Role & Permissions Management"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage roles and their permissions"})]}),m?e.jsx("div",{className:"text-center py-12",children:"Loading roles..."}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:h.map(j=>e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(ce,{className:"text-xl",children:j.name}),e.jsxs(Qe,{className:"mt-1",children:[e.jsx(Yt,{className:"inline h-4 w-4 mr-1"}),j._count.users," user",j._count.users!==1?"s":""]})]}),e.jsx(it,{permission:"can_manage_roles",children:e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>p(j),children:[e.jsx(Fr,{className:"h-4 w-4 mr-1"}),"Edit"]})})]})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Key Permissions:"}),Object.entries(j.permissions).filter(([C,A])=>A).slice(0,5).map(([C])=>{const A=ui.find(E=>E.key===C);return e.jsx("span",{className:"inline-block px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full mr-1 mb-1",children:A?.label||C},C)}),Object.values(j.permissions).filter(Boolean).length>5&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",Object.values(j.permissions).filter(Boolean).length-5," more"]})]})})]},j.id))}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs(X,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(oe,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ce,{children:["Edit Permissions: ",n.name]}),e.jsx(M,{variant:"ghost",size:"icon",onClick:w,children:e.jsx(Ye,{className:"h-4 w-4"})})]}),e.jsx(Qe,{children:"Configure permissions for this role. Changes will affect all users with this role."})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"space-y-6",children:Object.entries(N).map(([j,C])=>e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3 text-gray-800",children:j}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:C.map(A=>e.jsxs("label",{className:"flex items-center gap-2 p-3 border border-gray-200 rounded-md hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o[A.key]||!1,onChange:E=>y(A.key,E.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:A.label})]},A.key))})]},j))}),e.jsxs("div",{className:"flex gap-2 justify-end mt-6 pt-4 border-t",children:[e.jsx(M,{variant:"outline",onClick:w,children:"Cancel"}),e.jsxs(M,{onClick:b,disabled:f.isPending,children:[e.jsx(wp,{className:"mr-2 h-4 w-4"}),f.isPending?"Saving...":"Save Permissions"]})]})]})]})})]})}const b6=["Low","Medium","High"],N6=["Todo","InProgress","Done"];function w6(){const{user:t}=We();return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(_x,{className:"h-8 w-8"}),"Task Configuration"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"View task categories and statuses (read-only)"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Task Priorities"}),e.jsx(Qe,{children:"Available priority levels for tasks"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"space-y-2",children:b6.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-md",children:[e.jsx("span",{className:"font-medium text-gray-700",children:s}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s==="High"?"bg-red-100 text-red-700":s==="Medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:s==="High"?"Urgent":s==="Medium"?"Normal":"Low Priority"})]},s))}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(rb,{className:"h-4 w-4 text-blue-600 mt-0.5"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Task priorities are system-defined and cannot be modified. These are enum values in the database."})]})})]})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Task Statuses"}),e.jsx(Qe,{children:"Available status options for tasks"})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"space-y-2",children:N6.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-md",children:[e.jsx("span",{className:"font-medium text-gray-700",children:s}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${s==="Done"?"bg-green-100 text-green-700":s==="InProgress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:s==="Done"?"Completed":s==="InProgress"?"Active":"Pending"})]},s))}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(rb,{className:"h-4 w-4 text-blue-600 mt-0.5"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Task statuses are system-defined and cannot be modified. These are enum values in the database."})]})})]})]})]}),e.jsxs(X,{className:"mt-6 shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsx(ce,{children:"About Task Configuration"})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("p",{children:"Task priorities and statuses are defined as enums in the database schema. This ensures consistency across the system and prevents invalid values."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Priorities:"})," Used to indicate the urgency of a task. High priority tasks should be addressed first."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Statuses:"})," Track the progress of tasks through their lifecycle from creation to completion."]}),e.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Note: Only SuperAdmin can view this configuration page. To modify these values, database schema changes would be required."})]})})]})]})}Es({provider:wn(["facebook","whatsapp","chatwoot"]),pageId:Fe().min(1,"Page ID is required"),accessToken:Fe().min(1,"Access token is required"),accountId:Fe().optional(),baseUrl:Fe().optional(),isActive:Ur().optional()});Es({provider:Uc("chatwoot"),pageId:Fe().min(1,"Inbox ID is required"),accessToken:Fe().min(1,"API Access Token is required"),accountId:Fe().min(1,"Account ID is required"),baseUrl:Fe().optional(),isActive:Ur().optional(),webhookMode:wn(["local","live"]).optional(),isWebhookActive:Ur().optional()});function S6(){const{user:t}=We(),s=gt(),[n,i]=v.useState(null),[o,c]=v.useState(null),[u,m]=v.useState(""),[h,f]=v.useState(!1),{data:p,isLoading:y}=we({queryKey:["integrations"],queryFn:()=>Xn.getIntegrations(),enabled:!!t?.companyId}),b=p?.data?.data||[],w=Te({mutationFn:j=>Xn.deleteIntegration(j),onSuccess:()=>{s.invalidateQueries({queryKey:["integrations"]})}}),N=j=>{confirm("Are you sure you want to delete this integration?")&&w.mutate(j)};return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(yu,{className:"h-8 w-8"}),"Integrations"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage system integrations (SuperAdmin only)"})]}),e.jsx(it,{permission:"can_manage_integrations",children:e.jsxs(M,{onClick:()=>{i("chatwoot"),c(null)},children:[e.jsx(yu,{className:"mr-2 h-4 w-4"}),"Add Integration"]})})]}),y?e.jsx("div",{className:"text-center py-12",children:"Loading integrations..."}):b.length===0?e.jsx(X,{children:e.jsx(ee,{className:"py-12 text-center text-gray-500",children:"No integrations found. Add your first integration to get started."})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:b.map(j=>e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(ce,{className:"text-lg flex items-center gap-2",children:[j.provider==="chatwoot"?e.jsx(Bs,{className:"h-5 w-5 text-purple-600"}):j.provider==="facebook"?e.jsx(vp,{className:"h-5 w-5 text-blue-600"}):e.jsx(yu,{className:"h-5 w-5"}),j.provider.charAt(0).toUpperCase()+j.provider.slice(1)]}),e.jsx(Qe,{className:"mt-1",children:j.provider==="chatwoot"?`Inbox ID: ${j.pageId}`:`Page ID: ${j.pageId}`})]}),e.jsx(it,{permission:"can_manage_integrations",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:()=>{c(j),i(j.provider)},children:e.jsx($t,{className:"h-4 w-4"})}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>N(j.id),className:"text-red-600 hover:text-red-700",children:e.jsx(Ls,{className:"h-4 w-4"})})]})})]})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${j.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:j.isActive?"Active":"Inactive"})]}),j.provider==="chatwoot"&&e.jsxs(e.Fragment,{children:[j.webhookMode&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Webhook Mode:"}),e.jsx("span",{className:"text-xs text-gray-700",children:j.webhookMode})]}),j.isWebhookActive!==null&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Webhook:"}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${j.isWebhookActive?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:j.isWebhookActive?"Enabled":"Disabled"})]})]}),j.accountId&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Account ID:"}),e.jsx("span",{className:"text-xs text-gray-700 truncate max-w-[150px]",children:j.accountId})]})]})})]},j.id))}),(n||o)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs(X,{className:"w-full max-w-md",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{children:o?"Edit Integration":"Add Integration"}),e.jsx(M,{variant:"ghost",size:"icon",onClick:()=>{i(null),c(null)},children:e.jsx(Ye,{className:"h-4 w-4"})})]})}),e.jsxs(ee,{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"For full integration management with webhook configuration, please use the Settings page."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"outline",onClick:()=>{i(null),c(null)},children:"Cancel"}),e.jsx(M,{onClick:()=>{window.location.href="/settings"},children:"Go to Settings"})]})]})]})})]})}function C6(){const{user:t}=We(),s=gt(),n=St(),{data:i,isLoading:o}=we({queryKey:["campaigns",t?.companyId],queryFn:async()=>t?.companyId?(await Ca.getAll(t.companyId)).data.data:[],enabled:!!t?.companyId}),c=i||[],u=Te({mutationFn:y=>Ca.delete(y,t?.companyId||0),onSuccess:()=>{s.invalidateQueries({queryKey:["campaigns"]}),s.invalidateQueries({queryKey:["campaigns-all"]}),s.invalidateQueries({queryKey:["campaigns-active"]}),alert("Campaign deleted successfully!")},onError:y=>{alert(y.response?.data?.message||"Failed to delete campaign")}}),m=y=>{n(`/campaigns/${y.id}`)},h=y=>{n(`/campaigns/${y.id}/edit`)},f=y=>{confirm("Are you sure you want to delete this campaign?")&&u.mutate(y)},p=y=>{switch(y){case"reach":return"bg-blue-100 text-blue-700";case"sale":return"bg-green-100 text-green-700";case"research":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}};return e.jsx(it,{permission:"can_manage_campaigns",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Campaigns"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Manage marketing campaigns"})]}),e.jsxs(M,{onClick:()=>n("/campaigns/new"),children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Add Campaign"]})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"text-lg",children:["All Campaigns (",c.length,")"]})}),e.jsx(ee,{children:o?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-slate-500",children:"Loading campaigns..."})}):c.length===0?e.jsx("div",{className:"text-center py-12 text-slate-500",children:"No campaigns found. Create your first campaign to get started."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Type"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Start Date"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"End Date"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Budget"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{children:c.map(y=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsxs("td",{className:"py-3 px-4",children:[e.jsx("div",{className:"font-medium text-slate-900",children:y.name}),y.description&&e.jsx("div",{className:"text-sm text-slate-500 truncate max-w-xs",children:y.description})]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p(y.type)}`,children:y.type.charAt(0).toUpperCase()+y.type.slice(1)})}),e.jsx("td",{className:"py-3 px-4",children:new Date(y.startDate).toLocaleDateString()}),e.jsx("td",{className:"py-3 px-4",children:new Date(y.endDate).toLocaleDateString()}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:"font-medium text-green-600",children:["",Number(y.budget).toLocaleString()]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${y.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:y.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>m(y),title:"View Details",children:e.jsx(la,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>h(y),title:"Edit",children:e.jsx($t,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>f(y.id),title:"Delete",children:e.jsx(Ls,{className:"w-4 h-4"})})]})})]},y.id))})]})})})]})]})})}function k6({companyId:t,selectedProductIds:s,onSelectionChange:n,excludedProductIds:i=[]}){const[o,c]=v.useState(""),[u,m]=v.useState("");v.useEffect(()=>{const j=setTimeout(()=>{m(o)},300);return()=>clearTimeout(j)},[o]);const{data:h,isLoading:f}=we({queryKey:["products-search",t,u],queryFn:async()=>{const j=await tn.getAll(t,{search:u?.trim()||void 0});if(!j.data.success)throw new Error(j.data.message||"Failed to fetch products");return j.data.data},enabled:!!t&&u.trim().length>0}),y=(h||[]).filter(j=>!i.includes(j.id)),b=j=>{s.includes(j)?n(s.filter(C=>C!==j)):n([...s,j])},w=j=>{n(s.filter(C=>C!==j))},N=y.filter(j=>s.includes(j.id));return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{type:"text",placeholder:"Search products by name...",value:o,onChange:j=>c(j.target.value),className:"pl-10"})]}),s.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm font-medium text-slate-700",children:["Selected Products (",s.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(j=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-100 text-indigo-700 rounded-md text-sm",children:[e.jsx(oa,{className:"w-3 h-3"}),e.jsx("span",{children:j.name}),e.jsx("button",{type:"button",onClick:()=>w(j.id),className:"ml-1 hover:text-indigo-900",children:e.jsx(Ye,{className:"w-3 h-3"})})]},j.id))})]}),u.trim()&&e.jsx("div",{className:"border border-gray-200 rounded-md max-h-64 overflow-y-auto",children:f?e.jsx("div",{className:"p-4 text-center text-sm text-slate-500",children:"Searching..."}):y.length===0?e.jsxs("div",{className:"p-4 text-center text-sm text-slate-500",children:['No products found for "',u,'"']}):e.jsx("div",{className:"divide-y divide-gray-200",children:y.map(j=>{const C=s.includes(j.id);return e.jsx("button",{type:"button",onClick:()=>b(j.id),className:fe("w-full flex items-center justify-between p-3 hover:bg-gray-50 transition-colors",C&&"bg-indigo-50"),children:e.jsxs("div",{className:"flex items-center gap-3 flex-1 text-left",children:[e.jsx("div",{className:fe("w-5 h-5 border-2 rounded flex items-center justify-center",C?"border-indigo-600 bg-indigo-600":"border-gray-300"),children:C&&e.jsx(As,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-slate-900",children:j.name}),j.description&&e.jsx("div",{className:"text-xs text-slate-500 truncate",children:j.description}),e.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Category: ",j.category.name]})]})]})},j.id)})})}),!u.trim()&&s.length===0&&e.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"Type a product name to search and add products to this campaign"})]})}function E6({companyId:t,selectedGroupIds:s,onSelectionChange:n}){const[i,o]=v.useState(""),[c,u]=v.useState("");v.useEffect(()=>{const w=setTimeout(()=>{u(i)},300);return()=>clearTimeout(w)},[i]);const{data:m,isLoading:h}=we({queryKey:["employee-groups-selector",t,c],queryFn:async()=>{const w=await Wl.getAll(t);if(!w.data.success)throw new Error(w.data.message||"Failed to fetch employee groups");const N=w.data.data||[];if(c.trim()){const j=c.toLowerCase();return N.filter(C=>{const A=C.name||"",E=C.description||"";return A.toLowerCase().includes(j)||E.toLowerCase().includes(j)})}return N},enabled:!!t}),f=m||[],p=v.useMemo(()=>f.filter(w=>s.includes(w.id)),[f,s]),y=w=>{s.includes(w)?n(s.filter(N=>N!==w)):n([...s,w])},b=w=>{n(s.filter(N=>N!==w))};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{type:"text",placeholder:"Search groups by name or description...",value:i,onChange:w=>o(w.target.value),className:"pl-10"})]}),s.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm font-medium text-slate-700",children:["Selected Groups (",s.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(w=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-100 text-indigo-700 rounded-md text-sm",children:[e.jsx(Yt,{className:"w-3 h-3"}),e.jsx("span",{children:w.name}),w._count?.members!==void 0&&e.jsxs("span",{className:"text-xs bg-indigo-200 px-1.5 py-0.5 rounded",children:[w._count.members," member",w._count.members!==1?"s":""]}),e.jsx("button",{type:"button",onClick:()=>b(w.id),className:"ml-1 hover:text-indigo-900",children:e.jsx(Ye,{className:"w-3 h-3"})})]},w.id))})]}),(c.trim()||f.length>0)&&e.jsx("div",{className:"border border-gray-200 rounded-md max-h-64 overflow-y-auto",children:h?e.jsx("div",{className:"p-4 text-center text-sm text-slate-500",children:"Loading groups..."}):f.length===0?e.jsx("div",{className:"p-4 text-center text-sm text-slate-500",children:c.trim()?`No groups found for "${c}"`:"No employee groups available"}):e.jsx("div",{className:"divide-y divide-gray-200",children:f.map(w=>{const N=s.includes(w.id);return e.jsx("button",{type:"button",onClick:()=>y(w.id),className:fe("w-full flex items-center justify-between p-3 hover:bg-gray-50 transition-colors",N&&"bg-indigo-50"),children:e.jsxs("div",{className:"flex items-center gap-3 flex-1 text-left",children:[e.jsx("div",{className:fe("w-5 h-5 border-2 rounded flex items-center justify-center flex-shrink-0",N?"border-indigo-600 bg-indigo-600":"border-gray-300"),children:N&&e.jsx(As,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-slate-900 truncate",children:w.name}),w.description&&e.jsx("div",{className:"text-xs text-slate-500 truncate mt-1",children:w.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[w._count?.members!==void 0&&e.jsxs("span",{className:"text-xs text-slate-400",children:[w._count.members," member",w._count.members!==1?"s":""]}),w._count?.campaigns!==void 0&&w._count.campaigns>0&&e.jsxs(e.Fragment,{children:[w._count.members!==void 0&&e.jsx("span",{className:"text-xs text-slate-300",children:""}),e.jsxs("span",{className:"text-xs text-slate-400",children:[w._count.campaigns," campaign",w._count.campaigns!==1?"s":""]})]})]})]})]})},w.id)})})}),!c.trim()&&s.length===0&&f.length===0&&e.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No employee groups available. Create groups to assign them to campaigns."})]})}function gb(t,[s,n]){return Math.min(n,Math.max(s,t))}function rs(t,s,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t?.(o),n===!1||!o.defaultPrevented)return s?.(o)}}function lm(t,s=[]){let n=[];function i(c,u){const m=v.createContext(u),h=n.length;n=[...n,u];const f=y=>{const{scope:b,children:w,...N}=y,j=b?.[t]?.[h]||m,C=v.useMemo(()=>N,Object.values(N));return e.jsx(j.Provider,{value:C,children:w})};f.displayName=c+"Provider";function p(y,b){const w=b?.[t]?.[h]||m,N=v.useContext(w);if(N)return N;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[f,p]}const o=()=>{const c=n.map(u=>v.createContext(u));return function(m){const h=m?.[t]||c;return v.useMemo(()=>({[`__scope${t}`]:{...m,[t]:h}}),[m,h])}};return o.scopeName=t,[i,A6(o,...s)]}function A6(...t){const s=t[0];if(t.length===1)return s;const n=()=>{const i=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=i.reduce((m,{useScope:h,scopeName:f})=>{const y=h(c)[`__scope${f}`];return{...m,...y}},{});return v.useMemo(()=>({[`__scope${s.scopeName}`]:u}),[u])}};return n.scopeName=s.scopeName,n}function yb(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function kn(...t){return s=>{let n=!1;const i=t.map(o=>{const c=yb(o,s);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():yb(t[o],null)}}}}function Ns(...t){return v.useCallback(kn(...t),t)}function vb(t){const s=_6(t),n=v.forwardRef((i,o)=>{const{children:c,...u}=i,m=v.Children.toArray(c),h=m.find(R6);if(h){const f=h.props.children,p=m.map(y=>y===h?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:y);return e.jsx(s,{...u,ref:o,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return e.jsx(s,{...u,ref:o,children:c})});return n.displayName=`${t}.Slot`,n}function _6(t){const s=v.forwardRef((n,i)=>{const{children:o,...c}=n;if(v.isValidElement(o)){const u=O6(o),m=D6(c,o.props);return o.type!==v.Fragment&&(m.ref=i?kn(i,u):u),v.cloneElement(o,m)}return v.Children.count(o)>1?v.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var T6=Symbol("radix.slottable");function R6(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===T6}function D6(t,s){const n={...s};for(const i in s){const o=t[i],c=s[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const h=c(...m);return o(...m),h}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...t,...n}}function O6(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function M6(t){const s=t+"CollectionProvider",[n,i]=lm(s),[o,c]=n(s,{collectionRef:{current:null},itemMap:new Map}),u=j=>{const{scope:C,children:A}=j,E=as.useRef(null),S=as.useRef(new Map).current;return e.jsx(o,{scope:C,itemMap:S,collectionRef:E,children:A})};u.displayName=s;const m=t+"CollectionSlot",h=vb(m),f=as.forwardRef((j,C)=>{const{scope:A,children:E}=j,S=c(m,A),R=Ns(C,S.collectionRef);return e.jsx(h,{ref:R,children:E})});f.displayName=m;const p=t+"CollectionItemSlot",y="data-radix-collection-item",b=vb(p),w=as.forwardRef((j,C)=>{const{scope:A,children:E,...S}=j,R=as.useRef(null),_=Ns(C,R),L=c(p,A);return as.useEffect(()=>(L.itemMap.set(R,{ref:R,...S}),()=>void L.itemMap.delete(R))),e.jsx(b,{[y]:"",ref:_,children:E})});w.displayName=p;function N(j){const C=c(t+"CollectionConsumer",j);return as.useCallback(()=>{const E=C.collectionRef.current;if(!E)return[];const S=Array.from(E.querySelectorAll(`[${y}]`));return Array.from(C.itemMap.values()).sort((L,I)=>S.indexOf(L.ref.current)-S.indexOf(I.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:u,Slot:f,ItemSlot:w},N,i]}var I6=v.createContext(void 0);function L6(t){const s=v.useContext(I6);return t||s||"ltr"}function P6(t){const s=U6(t),n=v.forwardRef((i,o)=>{const{children:c,...u}=i,m=v.Children.toArray(c),h=m.find(q6);if(h){const f=h.props.children,p=m.map(y=>y===h?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:y);return e.jsx(s,{...u,ref:o,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return e.jsx(s,{...u,ref:o,children:c})});return n.displayName=`${t}.Slot`,n}function U6(t){const s=v.forwardRef((n,i)=>{const{children:o,...c}=n;if(v.isValidElement(o)){const u=B6(o),m=z6(c,o.props);return o.type!==v.Fragment&&(m.ref=i?kn(i,u):u),v.cloneElement(o,m)}return v.Children.count(o)>1?v.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var F6=Symbol("radix.slottable");function q6(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===F6}function z6(t,s){const n={...s};for(const i in s){const o=t[i],c=s[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const h=c(...m);return o(...m),h}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...t,...n}}function B6(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var V6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],l1=V6.reduce((t,s)=>{const n=P6(`Primitive.${s}`),i=v.forwardRef((o,c)=>{const{asChild:u,...m}=o,h=u?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(h,{...m,ref:c})});return i.displayName=`Primitive.${s}`,{...t,[s]:i}},{});function H6(t,s){t&&Dc.flushSync(()=>t.dispatchEvent(s))}function Oi(t){const s=v.useRef(t);return v.useEffect(()=>{s.current=t}),v.useMemo(()=>(...n)=>s.current?.(...n),[])}function $6(t,s=globalThis?.document){const n=Oi(t);v.useEffect(()=>{const i=o=>{o.key==="Escape"&&n(o)};return s.addEventListener("keydown",i,{capture:!0}),()=>s.removeEventListener("keydown",i,{capture:!0})},[n,s])}var K6="DismissableLayer",Px="dismissableLayer.update",Q6="dismissableLayer.pointerDownOutside",G6="dismissableLayer.focusOutside",jb,o1=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),c1=v.forwardRef((t,s)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:m,...h}=t,f=v.useContext(o1),[p,y]=v.useState(null),b=p?.ownerDocument??globalThis?.document,[,w]=v.useState({}),N=Ns(s,I=>y(I)),j=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),A=j.indexOf(C),E=p?j.indexOf(p):-1,S=f.layersWithOutsidePointerEventsDisabled.size>0,R=E>=A,_=W6(I=>{const q=I.target,$=[...f.branches].some(H=>H.contains(q));!R||$||(o?.(I),u?.(I),I.defaultPrevented||m?.())},b),L=X6(I=>{const q=I.target;[...f.branches].some(H=>H.contains(q))||(c?.(I),u?.(I),I.defaultPrevented||m?.())},b);return $6(I=>{E===f.layers.size-1&&(i?.(I),!I.defaultPrevented&&m&&(I.preventDefault(),m()))},b),v.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(jb=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),bb(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=jb)}},[p,b,n,f]),v.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),bb())},[p,f]),v.useEffect(()=>{const I=()=>w({});return document.addEventListener(Px,I),()=>document.removeEventListener(Px,I)},[]),e.jsx(l1.div,{...h,ref:N,style:{pointerEvents:S?R?"auto":"none":void 0,...t.style},onFocusCapture:rs(t.onFocusCapture,L.onFocusCapture),onBlurCapture:rs(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:rs(t.onPointerDownCapture,_.onPointerDownCapture)})});c1.displayName=K6;var Y6="DismissableLayerBranch",Z6=v.forwardRef((t,s)=>{const n=v.useContext(o1),i=v.useRef(null),o=Ns(s,i);return v.useEffect(()=>{const c=i.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),e.jsx(l1.div,{...t,ref:o})});Z6.displayName=Y6;function W6(t,s=globalThis?.document){const n=Oi(t),i=v.useRef(!1),o=v.useRef(()=>{});return v.useEffect(()=>{const c=m=>{if(m.target&&!i.current){let h=function(){d1(Q6,n,f,{discrete:!0})};const f={originalEvent:m};m.pointerType==="touch"?(s.removeEventListener("click",o.current),o.current=h,s.addEventListener("click",o.current,{once:!0})):h()}else s.removeEventListener("click",o.current);i.current=!1},u=window.setTimeout(()=>{s.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),s.removeEventListener("pointerdown",c),s.removeEventListener("click",o.current)}},[s,n]),{onPointerDownCapture:()=>i.current=!0}}function X6(t,s=globalThis?.document){const n=Oi(t),i=v.useRef(!1);return v.useEffect(()=>{const o=c=>{c.target&&!i.current&&d1(G6,n,{originalEvent:c},{discrete:!1})};return s.addEventListener("focusin",o),()=>s.removeEventListener("focusin",o)},[s,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function bb(){const t=new CustomEvent(Px);document.dispatchEvent(t)}function d1(t,s,n,{discrete:i}){const o=n.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});s&&o.addEventListener(t,s,{once:!0}),i?H6(o,c):o.dispatchEvent(c)}var Wf=0;function J6(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Nb()),document.body.insertAdjacentElement("beforeend",t[1]??Nb()),Wf++,()=>{Wf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Wf--}},[])}function Nb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function eR(t){const s=tR(t),n=v.forwardRef((i,o)=>{const{children:c,...u}=i,m=v.Children.toArray(c),h=m.find(aR);if(h){const f=h.props.children,p=m.map(y=>y===h?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:y);return e.jsx(s,{...u,ref:o,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return e.jsx(s,{...u,ref:o,children:c})});return n.displayName=`${t}.Slot`,n}function tR(t){const s=v.forwardRef((n,i)=>{const{children:o,...c}=n;if(v.isValidElement(o)){const u=rR(o),m=nR(c,o.props);return o.type!==v.Fragment&&(m.ref=i?kn(i,u):u),v.cloneElement(o,m)}return v.Children.count(o)>1?v.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var sR=Symbol("radix.slottable");function aR(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===sR}function nR(t,s){const n={...s};for(const i in s){const o=t[i],c=s[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const h=c(...m);return o(...m),h}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...t,...n}}function rR(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var iR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lR=iR.reduce((t,s)=>{const n=eR(`Primitive.${s}`),i=v.forwardRef((o,c)=>{const{asChild:u,...m}=o,h=u?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(h,{...m,ref:c})});return i.displayName=`Primitive.${s}`,{...t,[s]:i}},{}),Xf="focusScope.autoFocusOnMount",Jf="focusScope.autoFocusOnUnmount",wb={bubbles:!1,cancelable:!0},oR="FocusScope",u1=v.forwardRef((t,s)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=t,[m,h]=v.useState(null),f=Oi(o),p=Oi(c),y=v.useRef(null),b=Ns(s,j=>h(j)),w=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(i){let j=function(S){if(w.paused||!m)return;const R=S.target;m.contains(R)?y.current=R:_r(y.current,{select:!0})},C=function(S){if(w.paused||!m)return;const R=S.relatedTarget;R!==null&&(m.contains(R)||_r(y.current,{select:!0}))},A=function(S){if(document.activeElement===document.body)for(const _ of S)_.removedNodes.length>0&&_r(m)};document.addEventListener("focusin",j),document.addEventListener("focusout",C);const E=new MutationObserver(A);return m&&E.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",C),E.disconnect()}}},[i,m,w.paused]),v.useEffect(()=>{if(m){Cb.add(w);const j=document.activeElement;if(!m.contains(j)){const A=new CustomEvent(Xf,wb);m.addEventListener(Xf,f),m.dispatchEvent(A),A.defaultPrevented||(cR(fR(m1(m)),{select:!0}),document.activeElement===j&&_r(m))}return()=>{m.removeEventListener(Xf,f),setTimeout(()=>{const A=new CustomEvent(Jf,wb);m.addEventListener(Jf,p),m.dispatchEvent(A),A.defaultPrevented||_r(j??document.body,{select:!0}),m.removeEventListener(Jf,p),Cb.remove(w)},0)}}},[m,f,p,w]);const N=v.useCallback(j=>{if(!n&&!i||w.paused)return;const C=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,A=document.activeElement;if(C&&A){const E=j.currentTarget,[S,R]=dR(E);S&&R?!j.shiftKey&&A===R?(j.preventDefault(),n&&_r(S,{select:!0})):j.shiftKey&&A===S&&(j.preventDefault(),n&&_r(R,{select:!0})):A===E&&j.preventDefault()}},[n,i,w.paused]);return e.jsx(lR.div,{tabIndex:-1,...u,ref:b,onKeyDown:N})});u1.displayName=oR;function cR(t,{select:s=!1}={}){const n=document.activeElement;for(const i of t)if(_r(i,{select:s}),document.activeElement!==n)return}function dR(t){const s=m1(t),n=Sb(s,t),i=Sb(s.reverse(),t);return[n,i]}function m1(t){const s=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function Sb(t,s){for(const n of t)if(!uR(n,{upTo:s}))return n}function uR(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function mR(t){return t instanceof HTMLInputElement&&"select"in t}function _r(t,{select:s=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&mR(t)&&s&&t.select()}}var Cb=hR();function hR(){let t=[];return{add(s){const n=t[0];s!==n&&n?.pause(),t=kb(t,s),t.unshift(s)},remove(s){t=kb(t,s),t[0]?.resume()}}}function kb(t,s){const n=[...t],i=n.indexOf(s);return i!==-1&&n.splice(i,1),n}function fR(t){return t.filter(s=>s.tagName!=="A")}var fa=globalThis?.document?v.useLayoutEffect:()=>{},xR=Yb[" useId ".trim().toString()]||(()=>{}),pR=0;function Rp(t){const[s,n]=v.useState(xR());return fa(()=>{n(i=>i??String(pR++))},[t]),s?`radix-${s}`:""}const gR=["top","right","bottom","left"],Br=Math.min,wa=Math.max,Bu=Math.round,ou=Math.floor,Nn=t=>({x:t,y:t}),yR={left:"right",right:"left",bottom:"top",top:"bottom"},vR={start:"end",end:"start"};function Ux(t,s,n){return wa(t,Br(s,n))}function tr(t,s){return typeof t=="function"?t(s):t}function sr(t){return t.split("-")[0]}function co(t){return t.split("-")[1]}function Dp(t){return t==="x"?"y":"x"}function Op(t){return t==="y"?"height":"width"}const jR=new Set(["top","bottom"]);function gn(t){return jR.has(sr(t))?"y":"x"}function Mp(t){return Dp(gn(t))}function bR(t,s,n){n===void 0&&(n=!1);const i=co(t),o=Mp(t),c=Op(o);let u=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return s.reference[c]>s.floating[c]&&(u=Vu(u)),[u,Vu(u)]}function NR(t){const s=Vu(t);return[Fx(t),s,Fx(s)]}function Fx(t){return t.replace(/start|end/g,s=>vR[s])}const Eb=["left","right"],Ab=["right","left"],wR=["top","bottom"],SR=["bottom","top"];function CR(t,s,n){switch(t){case"top":case"bottom":return n?s?Ab:Eb:s?Eb:Ab;case"left":case"right":return s?wR:SR;default:return[]}}function kR(t,s,n,i){const o=co(t);let c=CR(sr(t),n==="start",i);return o&&(c=c.map(u=>u+"-"+o),s&&(c=c.concat(c.map(Fx)))),c}function Vu(t){return t.replace(/left|right|bottom|top/g,s=>yR[s])}function ER(t){return{top:0,right:0,bottom:0,left:0,...t}}function h1(t){return typeof t!="number"?ER(t):{top:t,right:t,bottom:t,left:t}}function Hu(t){const{x:s,y:n,width:i,height:o}=t;return{width:i,height:o,top:n,left:s,right:s+i,bottom:n+o,x:s,y:n}}function _b(t,s,n){let{reference:i,floating:o}=t;const c=gn(s),u=Mp(s),m=Op(u),h=sr(s),f=c==="y",p=i.x+i.width/2-o.width/2,y=i.y+i.height/2-o.height/2,b=i[m]/2-o[m]/2;let w;switch(h){case"top":w={x:p,y:i.y-o.height};break;case"bottom":w={x:p,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y};break;case"left":w={x:i.x-o.width,y};break;default:w={x:i.x,y:i.y}}switch(co(s)){case"start":w[u]-=b*(n&&f?-1:1);break;case"end":w[u]+=b*(n&&f?-1:1);break}return w}const AR=async(t,s,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:c=[],platform:u}=n,m=c.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(s));let f=await u.getElementRects({reference:t,floating:s,strategy:o}),{x:p,y}=_b(f,i,h),b=i,w={},N=0;for(let j=0;j<m.length;j++){const{name:C,fn:A}=m[j],{x:E,y:S,data:R,reset:_}=await A({x:p,y,initialPlacement:i,placement:b,strategy:o,middlewareData:w,rects:f,platform:u,elements:{reference:t,floating:s}});p=E??p,y=S??y,w={...w,[C]:{...w[C],...R}},_&&N<=50&&(N++,typeof _=="object"&&(_.placement&&(b=_.placement),_.rects&&(f=_.rects===!0?await u.getElementRects({reference:t,floating:s,strategy:o}):_.rects),{x:p,y}=_b(f,b,h)),j=-1)}return{x:p,y,placement:b,strategy:o,middlewareData:w}};async function Ac(t,s){var n;s===void 0&&(s={});const{x:i,y:o,platform:c,rects:u,elements:m,strategy:h}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:b=!1,padding:w=0}=tr(s,t),N=h1(w),C=m[b?y==="floating"?"reference":"floating":y],A=Hu(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(C)))==null||n?C:C.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(m.floating)),boundary:f,rootBoundary:p,strategy:h})),E=y==="floating"?{x:i,y:o,width:u.floating.width,height:u.floating.height}:u.reference,S=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m.floating)),R=await(c.isElement==null?void 0:c.isElement(S))?await(c.getScale==null?void 0:c.getScale(S))||{x:1,y:1}:{x:1,y:1},_=Hu(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:E,offsetParent:S,strategy:h}):E);return{top:(A.top-_.top+N.top)/R.y,bottom:(_.bottom-A.bottom+N.bottom)/R.y,left:(A.left-_.left+N.left)/R.x,right:(_.right-A.right+N.right)/R.x}}const _R=t=>({name:"arrow",options:t,async fn(s){const{x:n,y:i,placement:o,rects:c,platform:u,elements:m,middlewareData:h}=s,{element:f,padding:p=0}=tr(t,s)||{};if(f==null)return{};const y=h1(p),b={x:n,y:i},w=Mp(o),N=Op(w),j=await u.getDimensions(f),C=w==="y",A=C?"top":"left",E=C?"bottom":"right",S=C?"clientHeight":"clientWidth",R=c.reference[N]+c.reference[w]-b[w]-c.floating[N],_=b[w]-c.reference[w],L=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f));let I=L?L[S]:0;(!I||!await(u.isElement==null?void 0:u.isElement(L)))&&(I=m.floating[S]||c.floating[N]);const q=R/2-_/2,$=I/2-j[N]/2-1,H=Br(y[A],$),G=Br(y[E],$),F=H,de=I-j[N]-G,z=I/2-j[N]/2+q,he=Ux(F,z,de),O=!h.arrow&&co(o)!=null&&z!==he&&c.reference[N]/2-(z<F?H:G)-j[N]/2<0,P=O?z<F?z-F:z-de:0;return{[w]:b[w]+P,data:{[w]:he,centerOffset:z-he-P,...O&&{alignmentOffset:P}},reset:O}}}),TR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var n,i;const{placement:o,middlewareData:c,rects:u,initialPlacement:m,platform:h,elements:f}=s,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:j=!0,...C}=tr(t,s);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const A=sr(o),E=gn(m),S=sr(m)===m,R=await(h.isRTL==null?void 0:h.isRTL(f.floating)),_=b||(S||!j?[Vu(m)]:NR(m)),L=N!=="none";!b&&L&&_.push(...kR(m,j,N,R));const I=[m,..._],q=await Ac(s,C),$=[];let H=((i=c.flip)==null?void 0:i.overflows)||[];if(p&&$.push(q[A]),y){const z=bR(o,u,R);$.push(q[z[0]],q[z[1]])}if(H=[...H,{placement:o,overflows:$}],!$.every(z=>z<=0)){var G,F;const z=(((G=c.flip)==null?void 0:G.index)||0)+1,he=I[z];if(he&&(!(y==="alignment"?E!==gn(he):!1)||H.every(U=>gn(U.placement)===E?U.overflows[0]>0:!0)))return{data:{index:z,overflows:H},reset:{placement:he}};let O=(F=H.filter(P=>P.overflows[0]<=0).sort((P,U)=>P.overflows[1]-U.overflows[1])[0])==null?void 0:F.placement;if(!O)switch(w){case"bestFit":{var de;const P=(de=H.filter(U=>{if(L){const pe=gn(U.placement);return pe===E||pe==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(pe=>pe>0).reduce((pe,Ne)=>pe+Ne,0)]).sort((U,pe)=>U[1]-pe[1])[0])==null?void 0:de[0];P&&(O=P);break}case"initialPlacement":O=m;break}if(o!==O)return{reset:{placement:O}}}return{}}}};function Tb(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function Rb(t){return gR.some(s=>t[s]>=0)}const RR=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:n}=s,{strategy:i="referenceHidden",...o}=tr(t,s);switch(i){case"referenceHidden":{const c=await Ac(s,{...o,elementContext:"reference"}),u=Tb(c,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Rb(u)}}}case"escaped":{const c=await Ac(s,{...o,altBoundary:!0}),u=Tb(c,n.floating);return{data:{escapedOffsets:u,escaped:Rb(u)}}}default:return{}}}}},f1=new Set(["left","top"]);async function DR(t,s){const{placement:n,platform:i,elements:o}=t,c=await(i.isRTL==null?void 0:i.isRTL(o.floating)),u=sr(n),m=co(n),h=gn(n)==="y",f=f1.has(u)?-1:1,p=c&&h?-1:1,y=tr(s,t);let{mainAxis:b,crossAxis:w,alignmentAxis:N}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return m&&typeof N=="number"&&(w=m==="end"?N*-1:N),h?{x:w*p,y:b*f}:{x:b*f,y:w*p}}const OR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var n,i;const{x:o,y:c,placement:u,middlewareData:m}=s,h=await DR(s,t);return u===((n=m.offset)==null?void 0:n.placement)&&(i=m.arrow)!=null&&i.alignmentOffset?{}:{x:o+h.x,y:c+h.y,data:{...h,placement:u}}}}},MR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:n,y:i,placement:o}=s,{mainAxis:c=!0,crossAxis:u=!1,limiter:m={fn:C=>{let{x:A,y:E}=C;return{x:A,y:E}}},...h}=tr(t,s),f={x:n,y:i},p=await Ac(s,h),y=gn(sr(o)),b=Dp(y);let w=f[b],N=f[y];if(c){const C=b==="y"?"top":"left",A=b==="y"?"bottom":"right",E=w+p[C],S=w-p[A];w=Ux(E,w,S)}if(u){const C=y==="y"?"top":"left",A=y==="y"?"bottom":"right",E=N+p[C],S=N-p[A];N=Ux(E,N,S)}const j=m.fn({...s,[b]:w,[y]:N});return{...j,data:{x:j.x-n,y:j.y-i,enabled:{[b]:c,[y]:u}}}}}},IR=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:n,y:i,placement:o,rects:c,middlewareData:u}=s,{offset:m=0,mainAxis:h=!0,crossAxis:f=!0}=tr(t,s),p={x:n,y:i},y=gn(o),b=Dp(y);let w=p[b],N=p[y];const j=tr(m,s),C=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(h){const S=b==="y"?"height":"width",R=c.reference[b]-c.floating[S]+C.mainAxis,_=c.reference[b]+c.reference[S]-C.mainAxis;w<R?w=R:w>_&&(w=_)}if(f){var A,E;const S=b==="y"?"width":"height",R=f1.has(sr(o)),_=c.reference[y]-c.floating[S]+(R&&((A=u.offset)==null?void 0:A[y])||0)+(R?0:C.crossAxis),L=c.reference[y]+c.reference[S]+(R?0:((E=u.offset)==null?void 0:E[y])||0)-(R?C.crossAxis:0);N<_?N=_:N>L&&(N=L)}return{[b]:w,[y]:N}}}},LR=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var n,i;const{placement:o,rects:c,platform:u,elements:m}=s,{apply:h=()=>{},...f}=tr(t,s),p=await Ac(s,f),y=sr(o),b=co(o),w=gn(o)==="y",{width:N,height:j}=c.floating;let C,A;y==="top"||y==="bottom"?(C=y,A=b===(await(u.isRTL==null?void 0:u.isRTL(m.floating))?"start":"end")?"left":"right"):(A=y,C=b==="end"?"top":"bottom");const E=j-p.top-p.bottom,S=N-p.left-p.right,R=Br(j-p[C],E),_=Br(N-p[A],S),L=!s.middlewareData.shift;let I=R,q=_;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(q=S),(i=s.middlewareData.shift)!=null&&i.enabled.y&&(I=E),L&&!b){const H=wa(p.left,0),G=wa(p.right,0),F=wa(p.top,0),de=wa(p.bottom,0);w?q=N-2*(H!==0||G!==0?H+G:wa(p.left,p.right)):I=j-2*(F!==0||de!==0?F+de:wa(p.top,p.bottom))}await h({...s,availableWidth:q,availableHeight:I});const $=await u.getDimensions(m.floating);return N!==$.width||j!==$.height?{reset:{rects:!0}}:{}}}};function om(){return typeof window<"u"}function uo(t){return x1(t)?(t.nodeName||"").toLowerCase():"#document"}function ka(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function En(t){var s;return(s=(x1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function x1(t){return om()?t instanceof Node||t instanceof ka(t).Node:!1}function sn(t){return om()?t instanceof Element||t instanceof ka(t).Element:!1}function Cn(t){return om()?t instanceof HTMLElement||t instanceof ka(t).HTMLElement:!1}function Db(t){return!om()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ka(t).ShadowRoot}const PR=new Set(["inline","contents"]);function qc(t){const{overflow:s,overflowX:n,overflowY:i,display:o}=an(t);return/auto|scroll|overlay|hidden|clip/.test(s+i+n)&&!PR.has(o)}const UR=new Set(["table","td","th"]);function FR(t){return UR.has(uo(t))}const qR=[":popover-open",":modal"];function cm(t){return qR.some(s=>{try{return t.matches(s)}catch{return!1}})}const zR=["transform","translate","scale","rotate","perspective"],BR=["transform","translate","scale","rotate","perspective","filter"],VR=["paint","layout","strict","content"];function Ip(t){const s=Lp(),n=sn(t)?an(t):t;return zR.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!s&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!s&&(n.filter?n.filter!=="none":!1)||BR.some(i=>(n.willChange||"").includes(i))||VR.some(i=>(n.contain||"").includes(i))}function HR(t){let s=Vr(t);for(;Cn(s)&&!Xl(s);){if(Ip(s))return s;if(cm(s))return null;s=Vr(s)}return null}function Lp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $R=new Set(["html","body","#document"]);function Xl(t){return $R.has(uo(t))}function an(t){return ka(t).getComputedStyle(t)}function dm(t){return sn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Vr(t){if(uo(t)==="html")return t;const s=t.assignedSlot||t.parentNode||Db(t)&&t.host||En(t);return Db(s)?s.host:s}function p1(t){const s=Vr(t);return Xl(s)?t.ownerDocument?t.ownerDocument.body:t.body:Cn(s)&&qc(s)?s:p1(s)}function _c(t,s,n){var i;s===void 0&&(s=[]),n===void 0&&(n=!0);const o=p1(t),c=o===((i=t.ownerDocument)==null?void 0:i.body),u=ka(o);if(c){const m=qx(u);return s.concat(u,u.visualViewport||[],qc(o)?o:[],m&&n?_c(m):[])}return s.concat(o,_c(o,[],n))}function qx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function g1(t){const s=an(t);let n=parseFloat(s.width)||0,i=parseFloat(s.height)||0;const o=Cn(t),c=o?t.offsetWidth:n,u=o?t.offsetHeight:i,m=Bu(n)!==c||Bu(i)!==u;return m&&(n=c,i=u),{width:n,height:i,$:m}}function Pp(t){return sn(t)?t:t.contextElement}function ql(t){const s=Pp(t);if(!Cn(s))return Nn(1);const n=s.getBoundingClientRect(),{width:i,height:o,$:c}=g1(s);let u=(c?Bu(n.width):n.width)/i,m=(c?Bu(n.height):n.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!m||!Number.isFinite(m))&&(m=1),{x:u,y:m}}const KR=Nn(0);function y1(t){const s=ka(t);return!Lp()||!s.visualViewport?KR:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function QR(t,s,n){return s===void 0&&(s=!1),!n||s&&n!==ka(t)?!1:s}function Mi(t,s,n,i){s===void 0&&(s=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),c=Pp(t);let u=Nn(1);s&&(i?sn(i)&&(u=ql(i)):u=ql(t));const m=QR(c,n,i)?y1(c):Nn(0);let h=(o.left+m.x)/u.x,f=(o.top+m.y)/u.y,p=o.width/u.x,y=o.height/u.y;if(c){const b=ka(c),w=i&&sn(i)?ka(i):i;let N=b,j=qx(N);for(;j&&i&&w!==N;){const C=ql(j),A=j.getBoundingClientRect(),E=an(j),S=A.left+(j.clientLeft+parseFloat(E.paddingLeft))*C.x,R=A.top+(j.clientTop+parseFloat(E.paddingTop))*C.y;h*=C.x,f*=C.y,p*=C.x,y*=C.y,h+=S,f+=R,N=ka(j),j=qx(N)}}return Hu({width:p,height:y,x:h,y:f})}function um(t,s){const n=dm(t).scrollLeft;return s?s.left+n:Mi(En(t)).left+n}function v1(t,s){const n=t.getBoundingClientRect(),i=n.left+s.scrollLeft-um(t,n),o=n.top+s.scrollTop;return{x:i,y:o}}function GR(t){let{elements:s,rect:n,offsetParent:i,strategy:o}=t;const c=o==="fixed",u=En(i),m=s?cm(s.floating):!1;if(i===u||m&&c)return n;let h={scrollLeft:0,scrollTop:0},f=Nn(1);const p=Nn(0),y=Cn(i);if((y||!y&&!c)&&((uo(i)!=="body"||qc(u))&&(h=dm(i)),Cn(i))){const w=Mi(i);f=ql(i),p.x=w.x+i.clientLeft,p.y=w.y+i.clientTop}const b=u&&!y&&!c?v1(u,h):Nn(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+p.x+b.x,y:n.y*f.y-h.scrollTop*f.y+p.y+b.y}}function YR(t){return Array.from(t.getClientRects())}function ZR(t){const s=En(t),n=dm(t),i=t.ownerDocument.body,o=wa(s.scrollWidth,s.clientWidth,i.scrollWidth,i.clientWidth),c=wa(s.scrollHeight,s.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+um(t);const m=-n.scrollTop;return an(i).direction==="rtl"&&(u+=wa(s.clientWidth,i.clientWidth)-o),{width:o,height:c,x:u,y:m}}const Ob=25;function WR(t,s){const n=ka(t),i=En(t),o=n.visualViewport;let c=i.clientWidth,u=i.clientHeight,m=0,h=0;if(o){c=o.width,u=o.height;const p=Lp();(!p||p&&s==="fixed")&&(m=o.offsetLeft,h=o.offsetTop)}const f=um(i);if(f<=0){const p=i.ownerDocument,y=p.body,b=getComputedStyle(y),w=p.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,N=Math.abs(i.clientWidth-y.clientWidth-w);N<=Ob&&(c-=N)}else f<=Ob&&(c+=f);return{width:c,height:u,x:m,y:h}}const XR=new Set(["absolute","fixed"]);function JR(t,s){const n=Mi(t,!0,s==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft,c=Cn(t)?ql(t):Nn(1),u=t.clientWidth*c.x,m=t.clientHeight*c.y,h=o*c.x,f=i*c.y;return{width:u,height:m,x:h,y:f}}function Mb(t,s,n){let i;if(s==="viewport")i=WR(t,n);else if(s==="document")i=ZR(En(t));else if(sn(s))i=JR(s,n);else{const o=y1(t);i={x:s.x-o.x,y:s.y-o.y,width:s.width,height:s.height}}return Hu(i)}function j1(t,s){const n=Vr(t);return n===s||!sn(n)||Xl(n)?!1:an(n).position==="fixed"||j1(n,s)}function eD(t,s){const n=s.get(t);if(n)return n;let i=_c(t,[],!1).filter(m=>sn(m)&&uo(m)!=="body"),o=null;const c=an(t).position==="fixed";let u=c?Vr(t):t;for(;sn(u)&&!Xl(u);){const m=an(u),h=Ip(u);!h&&m.position==="fixed"&&(o=null),(c?!h&&!o:!h&&m.position==="static"&&!!o&&XR.has(o.position)||qc(u)&&!h&&j1(t,u))?i=i.filter(p=>p!==u):o=m,u=Vr(u)}return s.set(t,i),i}function tD(t){let{element:s,boundary:n,rootBoundary:i,strategy:o}=t;const u=[...n==="clippingAncestors"?cm(s)?[]:eD(s,this._c):[].concat(n),i],m=u[0],h=u.reduce((f,p)=>{const y=Mb(s,p,o);return f.top=wa(y.top,f.top),f.right=Br(y.right,f.right),f.bottom=Br(y.bottom,f.bottom),f.left=wa(y.left,f.left),f},Mb(s,m,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function sD(t){const{width:s,height:n}=g1(t);return{width:s,height:n}}function aD(t,s,n){const i=Cn(s),o=En(s),c=n==="fixed",u=Mi(t,!0,c,s);let m={scrollLeft:0,scrollTop:0};const h=Nn(0);function f(){h.x=um(o)}if(i||!i&&!c)if((uo(s)!=="body"||qc(o))&&(m=dm(s)),i){const w=Mi(s,!0,c,s);h.x=w.x+s.clientLeft,h.y=w.y+s.clientTop}else o&&f();c&&!i&&o&&f();const p=o&&!i&&!c?v1(o,m):Nn(0),y=u.left+m.scrollLeft-h.x-p.x,b=u.top+m.scrollTop-h.y-p.y;return{x:y,y:b,width:u.width,height:u.height}}function ex(t){return an(t).position==="static"}function Ib(t,s){if(!Cn(t)||an(t).position==="fixed")return null;if(s)return s(t);let n=t.offsetParent;return En(t)===n&&(n=n.ownerDocument.body),n}function b1(t,s){const n=ka(t);if(cm(t))return n;if(!Cn(t)){let o=Vr(t);for(;o&&!Xl(o);){if(sn(o)&&!ex(o))return o;o=Vr(o)}return n}let i=Ib(t,s);for(;i&&FR(i)&&ex(i);)i=Ib(i,s);return i&&Xl(i)&&ex(i)&&!Ip(i)?n:i||HR(t)||n}const nD=async function(t){const s=this.getOffsetParent||b1,n=this.getDimensions,i=await n(t.floating);return{reference:aD(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function rD(t){return an(t).direction==="rtl"}const iD={convertOffsetParentRelativeRectToViewportRelativeRect:GR,getDocumentElement:En,getClippingRect:tD,getOffsetParent:b1,getElementRects:nD,getClientRects:YR,getDimensions:sD,getScale:ql,isElement:sn,isRTL:rD};function N1(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function lD(t,s){let n=null,i;const o=En(t);function c(){var m;clearTimeout(i),(m=n)==null||m.disconnect(),n=null}function u(m,h){m===void 0&&(m=!1),h===void 0&&(h=1),c();const f=t.getBoundingClientRect(),{left:p,top:y,width:b,height:w}=f;if(m||s(),!b||!w)return;const N=ou(y),j=ou(o.clientWidth-(p+b)),C=ou(o.clientHeight-(y+w)),A=ou(p),S={rootMargin:-N+"px "+-j+"px "+-C+"px "+-A+"px",threshold:wa(0,Br(1,h))||1};let R=!0;function _(L){const I=L[0].intersectionRatio;if(I!==h){if(!R)return u();I?u(!1,I):i=setTimeout(()=>{u(!1,1e-7)},1e3)}I===1&&!N1(f,t.getBoundingClientRect())&&u(),R=!1}try{n=new IntersectionObserver(_,{...S,root:o.ownerDocument})}catch{n=new IntersectionObserver(_,S)}n.observe(t)}return u(!0),c}function oD(t,s,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:h=!1}=i,f=Pp(t),p=o||c?[...f?_c(f):[],..._c(s)]:[];p.forEach(A=>{o&&A.addEventListener("scroll",n,{passive:!0}),c&&A.addEventListener("resize",n)});const y=f&&m?lD(f,n):null;let b=-1,w=null;u&&(w=new ResizeObserver(A=>{let[E]=A;E&&E.target===f&&w&&(w.unobserve(s),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var S;(S=w)==null||S.observe(s)})),n()}),f&&!h&&w.observe(f),w.observe(s));let N,j=h?Mi(t):null;h&&C();function C(){const A=Mi(t);j&&!N1(j,A)&&n(),j=A,N=requestAnimationFrame(C)}return n(),()=>{var A;p.forEach(E=>{o&&E.removeEventListener("scroll",n),c&&E.removeEventListener("resize",n)}),y?.(),(A=w)==null||A.disconnect(),w=null,h&&cancelAnimationFrame(N)}}const cD=OR,dD=MR,uD=TR,mD=LR,hD=RR,Lb=_R,fD=IR,xD=(t,s,n)=>{const i=new Map,o={platform:iD,...n},c={...o.platform,_c:i};return AR(t,s,{...o,platform:c})};var pD=typeof document<"u",gD=function(){},wu=pD?v.useLayoutEffect:gD;function $u(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let n,i,o;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==s.length)return!1;for(i=n;i--!==0;)if(!$u(t[i],s[i]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(s).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(s,o[i]))return!1;for(i=n;i--!==0;){const c=o[i];if(!(c==="_owner"&&t.$$typeof)&&!$u(t[c],s[c]))return!1}return!0}return t!==t&&s!==s}function w1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Pb(t,s){const n=w1(t);return Math.round(s*n)/n}function tx(t){const s=v.useRef(t);return wu(()=>{s.current=t}),s}function yD(t){t===void 0&&(t={});const{placement:s="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:c,floating:u}={},transform:m=!0,whileElementsMounted:h,open:f}=t,[p,y]=v.useState({x:0,y:0,strategy:n,placement:s,middlewareData:{},isPositioned:!1}),[b,w]=v.useState(i);$u(b,i)||w(i);const[N,j]=v.useState(null),[C,A]=v.useState(null),E=v.useCallback(U=>{U!==L.current&&(L.current=U,j(U))},[]),S=v.useCallback(U=>{U!==I.current&&(I.current=U,A(U))},[]),R=c||N,_=u||C,L=v.useRef(null),I=v.useRef(null),q=v.useRef(p),$=h!=null,H=tx(h),G=tx(o),F=tx(f),de=v.useCallback(()=>{if(!L.current||!I.current)return;const U={placement:s,strategy:n,middleware:b};G.current&&(U.platform=G.current),xD(L.current,I.current,U).then(pe=>{const Ne={...pe,isPositioned:F.current!==!1};z.current&&!$u(q.current,Ne)&&(q.current=Ne,Dc.flushSync(()=>{y(Ne)}))})},[b,s,n,G,F]);wu(()=>{f===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,y(U=>({...U,isPositioned:!1})))},[f]);const z=v.useRef(!1);wu(()=>(z.current=!0,()=>{z.current=!1}),[]),wu(()=>{if(R&&(L.current=R),_&&(I.current=_),R&&_){if(H.current)return H.current(R,_,de);de()}},[R,_,de,H,$]);const he=v.useMemo(()=>({reference:L,floating:I,setReference:E,setFloating:S}),[E,S]),O=v.useMemo(()=>({reference:R,floating:_}),[R,_]),P=v.useMemo(()=>{const U={position:n,left:0,top:0};if(!O.floating)return U;const pe=Pb(O.floating,p.x),Ne=Pb(O.floating,p.y);return m?{...U,transform:"translate("+pe+"px, "+Ne+"px)",...w1(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:pe,top:Ne}},[n,m,O.floating,p.x,p.y]);return v.useMemo(()=>({...p,update:de,refs:he,elements:O,floatingStyles:P}),[p,de,he,O,P])}const vD=t=>{function s(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:o}=typeof t=="function"?t(n):t;return i&&s(i)?i.current!=null?Lb({element:i.current,padding:o}).fn(n):{}:i?Lb({element:i,padding:o}).fn(n):{}}}},jD=(t,s)=>({...cD(t),options:[t,s]}),bD=(t,s)=>({...dD(t),options:[t,s]}),ND=(t,s)=>({...fD(t),options:[t,s]}),wD=(t,s)=>({...uD(t),options:[t,s]}),SD=(t,s)=>({...mD(t),options:[t,s]}),CD=(t,s)=>({...hD(t),options:[t,s]}),kD=(t,s)=>({...vD(t),options:[t,s]});function ED(t){const s=AD(t),n=v.forwardRef((i,o)=>{const{children:c,...u}=i,m=v.Children.toArray(c),h=m.find(TD);if(h){const f=h.props.children,p=m.map(y=>y===h?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:y);return e.jsx(s,{...u,ref:o,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return e.jsx(s,{...u,ref:o,children:c})});return n.displayName=`${t}.Slot`,n}function AD(t){const s=v.forwardRef((n,i)=>{const{children:o,...c}=n;if(v.isValidElement(o)){const u=DD(o),m=RD(c,o.props);return o.type!==v.Fragment&&(m.ref=i?kn(i,u):u),v.cloneElement(o,m)}return v.Children.count(o)>1?v.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var _D=Symbol("radix.slottable");function TD(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_D}function RD(t,s){const n={...s};for(const i in s){const o=t[i],c=s[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const h=c(...m);return o(...m),h}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...t,...n}}function DD(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var OD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],MD=OD.reduce((t,s)=>{const n=ED(`Primitive.${s}`),i=v.forwardRef((o,c)=>{const{asChild:u,...m}=o,h=u?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(h,{...m,ref:c})});return i.displayName=`Primitive.${s}`,{...t,[s]:i}},{}),ID="Arrow",S1=v.forwardRef((t,s)=>{const{children:n,width:i=10,height:o=5,...c}=t;return e.jsx(MD.svg,{...c,ref:s,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});S1.displayName=ID;var LD=S1;function PD(t){const s=UD(t),n=v.forwardRef((i,o)=>{const{children:c,...u}=i,m=v.Children.toArray(c),h=m.find(qD);if(h){const f=h.props.children,p=m.map(y=>y===h?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:y);return e.jsx(s,{...u,ref:o,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return e.jsx(s,{...u,ref:o,children:c})});return n.displayName=`${t}.Slot`,n}function UD(t){const s=v.forwardRef((n,i)=>{const{children:o,...c}=n;if(v.isValidElement(o)){const u=BD(o),m=zD(c,o.props);return o.type!==v.Fragment&&(m.ref=i?kn(i,u):u),v.cloneElement(o,m)}return v.Children.count(o)>1?v.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var FD=Symbol("radix.slottable");function qD(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===FD}function zD(t,s){const n={...s};for(const i in s){const o=t[i],c=s[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const h=c(...m);return o(...m),h}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...t,...n}}function BD(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var VD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],C1=VD.reduce((t,s)=>{const n=PD(`Primitive.${s}`),i=v.forwardRef((o,c)=>{const{asChild:u,...m}=o,h=u?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(h,{...m,ref:c})});return i.displayName=`Primitive.${s}`,{...t,[s]:i}},{});function k1(t){const[s,n]=v.useState(void 0);return fa(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,m;if("borderBoxSize"in c){const h=c.borderBoxSize,f=Array.isArray(h)?h[0]:h;u=f.inlineSize,m=f.blockSize}else u=t.offsetWidth,m=t.offsetHeight;n({width:u,height:m})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),s}var Up="Popper",[E1,A1]=lm(Up),[HD,_1]=E1(Up),T1=t=>{const{__scopePopper:s,children:n}=t,[i,o]=v.useState(null);return e.jsx(HD,{scope:s,anchor:i,onAnchorChange:o,children:n})};T1.displayName=Up;var R1="PopperAnchor",D1=v.forwardRef((t,s)=>{const{__scopePopper:n,virtualRef:i,...o}=t,c=_1(R1,n),u=v.useRef(null),m=Ns(s,u),h=v.useRef(null);return v.useEffect(()=>{const f=h.current;h.current=i?.current||u.current,f!==h.current&&c.onAnchorChange(h.current)}),i?null:e.jsx(C1.div,{...o,ref:m})});D1.displayName=R1;var Fp="PopperContent",[$D,KD]=E1(Fp),O1=v.forwardRef((t,s)=>{const{__scopePopper:n,side:i="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:m=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:w="optimized",onPlaced:N,...j}=t,C=_1(Fp,n),[A,E]=v.useState(null),S=Ns(s,be=>E(be)),[R,_]=v.useState(null),L=k1(R),I=L?.width??0,q=L?.height??0,$=i+(c!=="center"?"-"+c:""),H=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},G=Array.isArray(f)?f:[f],F=G.length>0,de={padding:H,boundary:G.filter(GD),altBoundary:F},{refs:z,floatingStyles:he,placement:O,isPositioned:P,middlewareData:U}=yD({strategy:"fixed",placement:$,whileElementsMounted:(...be)=>oD(...be,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[jD({mainAxis:o+q,alignmentAxis:u}),h&&bD({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?ND():void 0,...de}),h&&wD({...de}),SD({...de,apply:({elements:be,rects:$e,availableWidth:qe,availableHeight:Ze})=>{const{width:at,height:Xe}=$e.reference,es=be.floating.style;es.setProperty("--radix-popper-available-width",`${qe}px`),es.setProperty("--radix-popper-available-height",`${Ze}px`),es.setProperty("--radix-popper-anchor-width",`${at}px`),es.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),R&&kD({element:R,padding:m}),YD({arrowWidth:I,arrowHeight:q}),b&&CD({strategy:"referenceHidden",...de})]}),[pe,Ne]=L1(O),B=Oi(N);fa(()=>{P&&B?.()},[P,B]);const te=U.arrow?.x,T=U.arrow?.y,ye=U.arrow?.centerOffset!==0,[Ce,Pe]=v.useState();return fa(()=>{A&&Pe(window.getComputedStyle(A).zIndex)},[A]),e.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:P?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx($D,{scope:n,placedSide:pe,onArrowChange:_,arrowX:te,arrowY:T,shouldHideArrow:ye,children:e.jsx(C1.div,{"data-side":pe,"data-align":Ne,...j,ref:S,style:{...j.style,animation:P?void 0:"none"}})})})});O1.displayName=Fp;var M1="PopperArrow",QD={top:"bottom",right:"left",bottom:"top",left:"right"},I1=v.forwardRef(function(s,n){const{__scopePopper:i,...o}=s,c=KD(M1,i),u=QD[c.placedSide];return e.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:e.jsx(LD,{...o,ref:n,style:{...o.style,display:"block"}})})});I1.displayName=M1;function GD(t){return t!==null}var YD=t=>({name:"transformOrigin",options:t,fn(s){const{placement:n,rects:i,middlewareData:o}=s,u=o.arrow?.centerOffset!==0,m=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[f,p]=L1(n),y={start:"0%",center:"50%",end:"100%"}[p],b=(o.arrow?.x??0)+m/2,w=(o.arrow?.y??0)+h/2;let N="",j="";return f==="bottom"?(N=u?y:`${b}px`,j=`${-h}px`):f==="top"?(N=u?y:`${b}px`,j=`${i.floating.height+h}px`):f==="right"?(N=`${-h}px`,j=u?y:`${w}px`):f==="left"&&(N=`${i.floating.width+h}px`,j=u?y:`${w}px`),{data:{x:N,y:j}}}});function L1(t){const[s,n="center"]=t.split("-");return[s,n]}var ZD=T1,WD=D1,XD=O1,JD=I1;function eO(t){const s=tO(t),n=v.forwardRef((i,o)=>{const{children:c,...u}=i,m=v.Children.toArray(c),h=m.find(aO);if(h){const f=h.props.children,p=m.map(y=>y===h?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:y);return e.jsx(s,{...u,ref:o,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return e.jsx(s,{...u,ref:o,children:c})});return n.displayName=`${t}.Slot`,n}function tO(t){const s=v.forwardRef((n,i)=>{const{children:o,...c}=n;if(v.isValidElement(o)){const u=rO(o),m=nO(c,o.props);return o.type!==v.Fragment&&(m.ref=i?kn(i,u):u),v.cloneElement(o,m)}return v.Children.count(o)>1?v.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var sO=Symbol("radix.slottable");function aO(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===sO}function nO(t,s){const n={...s};for(const i in s){const o=t[i],c=s[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const h=c(...m);return o(...m),h}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...t,...n}}function rO(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var iO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lO=iO.reduce((t,s)=>{const n=eO(`Primitive.${s}`),i=v.forwardRef((o,c)=>{const{asChild:u,...m}=o,h=u?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(h,{...m,ref:c})});return i.displayName=`Primitive.${s}`,{...t,[s]:i}},{}),oO="Portal",P1=v.forwardRef((t,s)=>{const{container:n,...i}=t,[o,c]=v.useState(!1);fa(()=>c(!0),[]);const u=n||o&&globalThis?.document?.body;return u?fE.createPortal(e.jsx(lO.div,{...i,ref:s}),u):null});P1.displayName=oO;function U1(t){const s=cO(t),n=v.forwardRef((i,o)=>{const{children:c,...u}=i,m=v.Children.toArray(c),h=m.find(uO);if(h){const f=h.props.children,p=m.map(y=>y===h?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:y);return e.jsx(s,{...u,ref:o,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return e.jsx(s,{...u,ref:o,children:c})});return n.displayName=`${t}.Slot`,n}function cO(t){const s=v.forwardRef((n,i)=>{const{children:o,...c}=n;if(v.isValidElement(o)){const u=hO(o),m=mO(c,o.props);return o.type!==v.Fragment&&(m.ref=i?kn(i,u):u),v.cloneElement(o,m)}return v.Children.count(o)>1?v.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var dO=Symbol("radix.slottable");function uO(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dO}function mO(t,s){const n={...s};for(const i in s){const o=t[i],c=s[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const h=c(...m);return o(...m),h}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...t,...n}}function hO(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var fO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ta=fO.reduce((t,s)=>{const n=U1(`Primitive.${s}`),i=v.forwardRef((o,c)=>{const{asChild:u,...m}=o,h=u?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(h,{...m,ref:c})});return i.displayName=`Primitive.${s}`,{...t,[s]:i}},{}),xO=Yb[" useInsertionEffect ".trim().toString()]||fa;function zx({prop:t,defaultProp:s,onChange:n=()=>{},caller:i}){const[o,c,u]=pO({defaultProp:s,onChange:n}),m=t!==void 0,h=m?t:o;{const p=v.useRef(t!==void 0);v.useEffect(()=>{const y=p.current;y!==m&&console.warn(`${i} is changing from ${y?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=m},[m,i])}const f=v.useCallback(p=>{if(m){const y=gO(p)?p(t):p;y!==t&&u.current?.(y)}else c(p)},[m,t,c,u]);return[h,f]}function pO({defaultProp:t,onChange:s}){const[n,i]=v.useState(t),o=v.useRef(n),c=v.useRef(s);return xO(()=>{c.current=s},[s]),v.useEffect(()=>{o.current!==n&&(c.current?.(n),o.current=n)},[n,o]),[n,i,c]}function gO(t){return typeof t=="function"}function F1(t){const s=v.useRef({value:t,previous:t});return v.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}function yO(t){const s=vO(t),n=v.forwardRef((i,o)=>{const{children:c,...u}=i,m=v.Children.toArray(c),h=m.find(bO);if(h){const f=h.props.children,p=m.map(y=>y===h?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:y);return e.jsx(s,{...u,ref:o,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return e.jsx(s,{...u,ref:o,children:c})});return n.displayName=`${t}.Slot`,n}function vO(t){const s=v.forwardRef((n,i)=>{const{children:o,...c}=n;if(v.isValidElement(o)){const u=wO(o),m=NO(c,o.props);return o.type!==v.Fragment&&(m.ref=i?kn(i,u):u),v.cloneElement(o,m)}return v.Children.count(o)>1?v.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var jO=Symbol("radix.slottable");function bO(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jO}function NO(t,s){const n={...s};for(const i in s){const o=t[i],c=s[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const h=c(...m);return o(...m),h}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...t,...n}}function wO(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var SO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CO=SO.reduce((t,s)=>{const n=yO(`Primitive.${s}`),i=v.forwardRef((o,c)=>{const{asChild:u,...m}=o,h=u?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(h,{...m,ref:c})});return i.displayName=`Primitive.${s}`,{...t,[s]:i}},{}),q1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kO="VisuallyHidden",EO=v.forwardRef((t,s)=>e.jsx(CO.span,{...t,ref:s,style:{...q1,...t.style}}));EO.displayName=kO;var AO=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},Dl=new WeakMap,cu=new WeakMap,du={},sx=0,z1=function(t){return t&&(t.host||z1(t.parentNode))},_O=function(t,s){return s.map(function(n){if(t.contains(n))return n;var i=z1(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},TO=function(t,s,n,i){var o=_O(s,Array.isArray(t)?t:[t]);du[n]||(du[n]=new WeakMap);var c=du[n],u=[],m=new Set,h=new Set(o),f=function(y){!y||m.has(y)||(m.add(y),f(y.parentNode))};o.forEach(f);var p=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(b){if(m.has(b))p(b);else try{var w=b.getAttribute(i),N=w!==null&&w!=="false",j=(Dl.get(b)||0)+1,C=(c.get(b)||0)+1;Dl.set(b,j),c.set(b,C),u.push(b),j===1&&N&&cu.set(b,!0),C===1&&b.setAttribute(n,"true"),N||b.setAttribute(i,"true")}catch(A){console.error("aria-hidden: cannot operate on ",b,A)}})};return p(s),m.clear(),sx++,function(){u.forEach(function(y){var b=Dl.get(y)-1,w=c.get(y)-1;Dl.set(y,b),c.set(y,w),b||(cu.has(y)||y.removeAttribute(i),cu.delete(y)),w||y.removeAttribute(n)}),sx--,sx||(Dl=new WeakMap,Dl=new WeakMap,cu=new WeakMap,du={})}},RO=function(t,s,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),o=AO(t);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),TO(i,o,n,"aria-hidden")):function(){return null}},xn=function(){return xn=Object.assign||function(s){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(s[c]=n[c])}return s},xn.apply(this,arguments)};function B1(t,s){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&s.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)s.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function DO(t,s,n){if(n||arguments.length===2)for(var i=0,o=s.length,c;i<o;i++)(c||!(i in s))&&(c||(c=Array.prototype.slice.call(s,0,i)),c[i]=s[i]);return t.concat(c||Array.prototype.slice.call(s))}var Su="right-scroll-bar-position",Cu="width-before-scroll-bar",OO="with-scroll-bars-hidden",MO="--removed-body-scroll-bar-size";function ax(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function IO(t,s){var n=v.useState(function(){return{value:t,callback:s,facade:{get current(){return n.value},set current(i){var o=n.value;o!==i&&(n.value=i,n.callback(i,o))}}}})[0];return n.callback=s,n.facade}var LO=typeof window<"u"?v.useLayoutEffect:v.useEffect,Ub=new WeakMap;function PO(t,s){var n=IO(null,function(i){return t.forEach(function(o){return ax(o,i)})});return LO(function(){var i=Ub.get(n);if(i){var o=new Set(i),c=new Set(t),u=n.current;o.forEach(function(m){c.has(m)||ax(m,null)}),c.forEach(function(m){o.has(m)||ax(m,u)})}Ub.set(n,t)},[t]),n}function UO(t){return t}function FO(t,s){s===void 0&&(s=UO);var n=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(c){var u=s(c,i);return n.push(u),function(){n=n.filter(function(m){return m!==u})}},assignSyncMedium:function(c){for(i=!0;n.length;){var u=n;n=[],u.forEach(c)}n={push:function(m){return c(m)},filter:function(){return n}}},assignMedium:function(c){i=!0;var u=[];if(n.length){var m=n;n=[],m.forEach(c),u=n}var h=function(){var p=u;u=[],p.forEach(c)},f=function(){return Promise.resolve().then(h)};f(),n={push:function(p){u.push(p),f()},filter:function(p){return u=u.filter(p),n}}}};return o}function qO(t){t===void 0&&(t={});var s=FO(null);return s.options=xn({async:!0,ssr:!1},t),s}var V1=function(t){var s=t.sideCar,n=B1(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=s.read();if(!i)throw new Error("Sidecar medium not found");return v.createElement(i,xn({},n))};V1.isSideCarExport=!0;function zO(t,s){return t.useMedium(s),V1}var H1=qO(),nx=function(){},mm=v.forwardRef(function(t,s){var n=v.useRef(null),i=v.useState({onScrollCapture:nx,onWheelCapture:nx,onTouchMoveCapture:nx}),o=i[0],c=i[1],u=t.forwardProps,m=t.children,h=t.className,f=t.removeScrollBar,p=t.enabled,y=t.shards,b=t.sideCar,w=t.noRelative,N=t.noIsolation,j=t.inert,C=t.allowPinchZoom,A=t.as,E=A===void 0?"div":A,S=t.gapMode,R=B1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=b,L=PO([n,s]),I=xn(xn({},R),o);return v.createElement(v.Fragment,null,p&&v.createElement(_,{sideCar:H1,removeScrollBar:f,shards:y,noRelative:w,noIsolation:N,inert:j,setCallbacks:c,allowPinchZoom:!!C,lockRef:n,gapMode:S}),u?v.cloneElement(v.Children.only(m),xn(xn({},I),{ref:L})):v.createElement(E,xn({},I,{className:h,ref:L}),m))});mm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mm.classNames={fullWidth:Cu,zeroRight:Su};var BO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VO(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=BO();return s&&t.setAttribute("nonce",s),t}function HO(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function $O(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var KO=function(){var t=0,s=null;return{add:function(n){t==0&&(s=VO())&&(HO(s,n),$O(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},QO=function(){var t=KO();return function(s,n){v.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&n])}},$1=function(){var t=QO(),s=function(n){var i=n.styles,o=n.dynamic;return t(i,o),null};return s},GO={left:0,top:0,right:0,gap:0},rx=function(t){return parseInt(t||"",10)||0},YO=function(t){var s=window.getComputedStyle(document.body),n=s[t==="padding"?"paddingLeft":"marginLeft"],i=s[t==="padding"?"paddingTop":"marginTop"],o=s[t==="padding"?"paddingRight":"marginRight"];return[rx(n),rx(i),rx(o)]},ZO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return GO;var s=YO(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,i-n+s[2]-s[0])}},WO=$1(),zl="data-scroll-locked",XO=function(t,s,n,i){var o=t.left,c=t.top,u=t.right,m=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(OO,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(m,"px ").concat(i,`;
  }
  body[`).concat(zl,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(m,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Su,` {
    right: `).concat(m,"px ").concat(i,`;
  }
  
  .`).concat(Cu,` {
    margin-right: `).concat(m,"px ").concat(i,`;
  }
  
  .`).concat(Su," .").concat(Su,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Cu," .").concat(Cu,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(zl,`] {
    `).concat(MO,": ").concat(m,`px;
  }
`)},Fb=function(){var t=parseInt(document.body.getAttribute(zl)||"0",10);return isFinite(t)?t:0},JO=function(){v.useEffect(function(){return document.body.setAttribute(zl,(Fb()+1).toString()),function(){var t=Fb()-1;t<=0?document.body.removeAttribute(zl):document.body.setAttribute(zl,t.toString())}},[])},eM=function(t){var s=t.noRelative,n=t.noImportant,i=t.gapMode,o=i===void 0?"margin":i;JO();var c=v.useMemo(function(){return ZO(o)},[o]);return v.createElement(WO,{styles:XO(c,!s,o,n?"":"!important")})},Bx=!1;if(typeof window<"u")try{var uu=Object.defineProperty({},"passive",{get:function(){return Bx=!0,!0}});window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{Bx=!1}var Ol=Bx?{passive:!1}:!1,tM=function(t){return t.tagName==="TEXTAREA"},K1=function(t,s){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[s]!=="hidden"&&!(n.overflowY===n.overflowX&&!tM(t)&&n[s]==="visible")},sM=function(t){return K1(t,"overflowY")},aM=function(t){return K1(t,"overflowX")},qb=function(t,s){var n=s.ownerDocument,i=s;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=Q1(t,i);if(o){var c=G1(t,i),u=c[1],m=c[2];if(u>m)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},nM=function(t){var s=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[s,n,i]},rM=function(t){var s=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[s,n,i]},Q1=function(t,s){return t==="v"?sM(s):aM(s)},G1=function(t,s){return t==="v"?nM(s):rM(s)},iM=function(t,s){return t==="h"&&s==="rtl"?-1:1},lM=function(t,s,n,i,o){var c=iM(t,window.getComputedStyle(s).direction),u=c*i,m=n.target,h=s.contains(m),f=!1,p=u>0,y=0,b=0;do{if(!m)break;var w=G1(t,m),N=w[0],j=w[1],C=w[2],A=j-C-c*N;(N||A)&&Q1(t,m)&&(y+=A,b+=N);var E=m.parentNode;m=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!h&&m!==document.body||h&&(s.contains(m)||s===m));return(p&&Math.abs(y)<1||!p&&Math.abs(b)<1)&&(f=!0),f},mu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zb=function(t){return[t.deltaX,t.deltaY]},Bb=function(t){return t&&"current"in t?t.current:t},oM=function(t,s){return t[0]===s[0]&&t[1]===s[1]},cM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},dM=0,Ml=[];function uM(t){var s=v.useRef([]),n=v.useRef([0,0]),i=v.useRef(),o=v.useState(dM++)[0],c=v.useState($1)[0],u=v.useRef(t);v.useEffect(function(){u.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var j=DO([t.lockRef.current],(t.shards||[]).map(Bb),!0).filter(Boolean);return j.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),j.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var m=v.useCallback(function(j,C){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!u.current.allowPinchZoom;var A=mu(j),E=n.current,S="deltaX"in j?j.deltaX:E[0]-A[0],R="deltaY"in j?j.deltaY:E[1]-A[1],_,L=j.target,I=Math.abs(S)>Math.abs(R)?"h":"v";if("touches"in j&&I==="h"&&L.type==="range")return!1;var q=window.getSelection(),$=q&&q.anchorNode,H=$?$===L||$.contains(L):!1;if(H)return!1;var G=qb(I,L);if(!G)return!0;if(G?_=I:(_=I==="v"?"h":"v",G=qb(I,L)),!G)return!1;if(!i.current&&"changedTouches"in j&&(S||R)&&(i.current=_),!_)return!0;var F=i.current||_;return lM(F,C,j,F==="h"?S:R)},[]),h=v.useCallback(function(j){var C=j;if(!(!Ml.length||Ml[Ml.length-1]!==c)){var A="deltaY"in C?zb(C):mu(C),E=s.current.filter(function(_){return _.name===C.type&&(_.target===C.target||C.target===_.shadowParent)&&oM(_.delta,A)})[0];if(E&&E.should){C.cancelable&&C.preventDefault();return}if(!E){var S=(u.current.shards||[]).map(Bb).filter(Boolean).filter(function(_){return _.contains(C.target)}),R=S.length>0?m(C,S[0]):!u.current.noIsolation;R&&C.cancelable&&C.preventDefault()}}},[]),f=v.useCallback(function(j,C,A,E){var S={name:j,delta:C,target:A,should:E,shadowParent:mM(A)};s.current.push(S),setTimeout(function(){s.current=s.current.filter(function(R){return R!==S})},1)},[]),p=v.useCallback(function(j){n.current=mu(j),i.current=void 0},[]),y=v.useCallback(function(j){f(j.type,zb(j),j.target,m(j,t.lockRef.current))},[]),b=v.useCallback(function(j){f(j.type,mu(j),j.target,m(j,t.lockRef.current))},[]);v.useEffect(function(){return Ml.push(c),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",h,Ol),document.addEventListener("touchmove",h,Ol),document.addEventListener("touchstart",p,Ol),function(){Ml=Ml.filter(function(j){return j!==c}),document.removeEventListener("wheel",h,Ol),document.removeEventListener("touchmove",h,Ol),document.removeEventListener("touchstart",p,Ol)}},[]);var w=t.removeScrollBar,N=t.inert;return v.createElement(v.Fragment,null,N?v.createElement(c,{styles:cM(o)}):null,w?v.createElement(eM,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function mM(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const hM=zO(H1,uM);var Y1=v.forwardRef(function(t,s){return v.createElement(mm,xn({},t,{ref:s,sideCar:hM}))});Y1.classNames=mm.classNames;var fM=[" ","Enter","ArrowUp","ArrowDown"],xM=[" ","Enter"],Ii="Select",[hm,fm,pM]=M6(Ii),[mo]=lm(Ii,[pM,A1]),xm=A1(),[gM,Hr]=mo(Ii),[yM,vM]=mo(Ii),Z1=t=>{const{__scopeSelect:s,children:n,open:i,defaultOpen:o,onOpenChange:c,value:u,defaultValue:m,onValueChange:h,dir:f,name:p,autoComplete:y,disabled:b,required:w,form:N}=t,j=xm(s),[C,A]=v.useState(null),[E,S]=v.useState(null),[R,_]=v.useState(!1),L=L6(f),[I,q]=zx({prop:i,defaultProp:o??!1,onChange:c,caller:Ii}),[$,H]=zx({prop:u,defaultProp:m,onChange:h,caller:Ii}),G=v.useRef(null),F=C?N||!!C.closest("form"):!0,[de,z]=v.useState(new Set),he=Array.from(de).map(O=>O.props.value).join(";");return e.jsx(ZD,{...j,children:e.jsxs(gM,{required:w,scope:s,trigger:C,onTriggerChange:A,valueNode:E,onValueNodeChange:S,valueNodeHasChildren:R,onValueNodeHasChildrenChange:_,contentId:Rp(),value:$,onValueChange:H,open:I,onOpenChange:q,dir:L,triggerPointerDownPosRef:G,disabled:b,children:[e.jsx(hm.Provider,{scope:s,children:e.jsx(yM,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(O=>{z(P=>new Set(P).add(O))},[]),onNativeOptionRemove:v.useCallback(O=>{z(P=>{const U=new Set(P);return U.delete(O),U})},[]),children:n})}),F?e.jsxs(j2,{"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:y,value:$,onChange:O=>H(O.target.value),disabled:b,form:N,children:[$===void 0?e.jsx("option",{value:""}):null,Array.from(de)]},he):null]})})};Z1.displayName=Ii;var W1="SelectTrigger",X1=v.forwardRef((t,s)=>{const{__scopeSelect:n,disabled:i=!1,...o}=t,c=xm(n),u=Hr(W1,n),m=u.disabled||i,h=Ns(s,u.onTriggerChange),f=fm(n),p=v.useRef("touch"),[y,b,w]=N2(j=>{const C=f().filter(S=>!S.disabled),A=C.find(S=>S.value===u.value),E=w2(C,j,A);E!==void 0&&u.onValueChange(E.value)}),N=j=>{m||(u.onOpenChange(!0),w()),j&&(u.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return e.jsx(WD,{asChild:!0,...c,children:e.jsx(Ta.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":b2(u.value)?"":void 0,...o,ref:h,onClick:rs(o.onClick,j=>{j.currentTarget.focus(),p.current!=="mouse"&&N(j)}),onPointerDown:rs(o.onPointerDown,j=>{p.current=j.pointerType;const C=j.target;C.hasPointerCapture(j.pointerId)&&C.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(N(j),j.preventDefault())}),onKeyDown:rs(o.onKeyDown,j=>{const C=y.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&b(j.key),!(C&&j.key===" ")&&fM.includes(j.key)&&(N(),j.preventDefault())})})})});X1.displayName=W1;var J1="SelectValue",e2=v.forwardRef((t,s)=>{const{__scopeSelect:n,className:i,style:o,children:c,placeholder:u="",...m}=t,h=Hr(J1,n),{onValueNodeHasChildrenChange:f}=h,p=c!==void 0,y=Ns(s,h.onValueNodeChange);return fa(()=>{f(p)},[f,p]),e.jsx(Ta.span,{...m,ref:y,style:{pointerEvents:"none"},children:b2(h.value)?e.jsx(e.Fragment,{children:u}):c})});e2.displayName=J1;var jM="SelectIcon",t2=v.forwardRef((t,s)=>{const{__scopeSelect:n,children:i,...o}=t;return e.jsx(Ta.span,{"aria-hidden":!0,...o,ref:s,children:i||""})});t2.displayName=jM;var bM="SelectPortal",s2=t=>e.jsx(P1,{asChild:!0,...t});s2.displayName=bM;var Li="SelectContent",a2=v.forwardRef((t,s)=>{const n=Hr(Li,t.__scopeSelect),[i,o]=v.useState();if(fa(()=>{o(new DocumentFragment)},[]),!n.open){const c=i;return c?Dc.createPortal(e.jsx(n2,{scope:t.__scopeSelect,children:e.jsx(hm.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),c):null}return e.jsx(r2,{...t,ref:s})});a2.displayName=Li;var Wa=10,[n2,$r]=mo(Li),NM="SelectContentImpl",wM=U1("SelectContent.RemoveScroll"),r2=v.forwardRef((t,s)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:u,side:m,sideOffset:h,align:f,alignOffset:p,arrowPadding:y,collisionBoundary:b,collisionPadding:w,sticky:N,hideWhenDetached:j,avoidCollisions:C,...A}=t,E=Hr(Li,n),[S,R]=v.useState(null),[_,L]=v.useState(null),I=Ns(s,be=>R(be)),[q,$]=v.useState(null),[H,G]=v.useState(null),F=fm(n),[de,z]=v.useState(!1),he=v.useRef(!1);v.useEffect(()=>{if(S)return RO(S)},[S]),J6();const O=v.useCallback(be=>{const[$e,...qe]=F().map(Xe=>Xe.ref.current),[Ze]=qe.slice(-1),at=document.activeElement;for(const Xe of be)if(Xe===at||(Xe?.scrollIntoView({block:"nearest"}),Xe===$e&&_&&(_.scrollTop=0),Xe===Ze&&_&&(_.scrollTop=_.scrollHeight),Xe?.focus(),document.activeElement!==at))return},[F,_]),P=v.useCallback(()=>O([q,S]),[O,q,S]);v.useEffect(()=>{de&&P()},[de,P]);const{onOpenChange:U,triggerPointerDownPosRef:pe}=E;v.useEffect(()=>{if(S){let be={x:0,y:0};const $e=Ze=>{be={x:Math.abs(Math.round(Ze.pageX)-(pe.current?.x??0)),y:Math.abs(Math.round(Ze.pageY)-(pe.current?.y??0))}},qe=Ze=>{be.x<=10&&be.y<=10?Ze.preventDefault():S.contains(Ze.target)||U(!1),document.removeEventListener("pointermove",$e),pe.current=null};return pe.current!==null&&(document.addEventListener("pointermove",$e),document.addEventListener("pointerup",qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",qe,{capture:!0})}}},[S,U,pe]),v.useEffect(()=>{const be=()=>U(!1);return window.addEventListener("blur",be),window.addEventListener("resize",be),()=>{window.removeEventListener("blur",be),window.removeEventListener("resize",be)}},[U]);const[Ne,B]=N2(be=>{const $e=F().filter(at=>!at.disabled),qe=$e.find(at=>at.ref.current===document.activeElement),Ze=w2($e,be,qe);Ze&&setTimeout(()=>Ze.ref.current.focus())}),te=v.useCallback((be,$e,qe)=>{const Ze=!he.current&&!qe;(E.value!==void 0&&E.value===$e||Ze)&&($(be),Ze&&(he.current=!0))},[E.value]),T=v.useCallback(()=>S?.focus(),[S]),ye=v.useCallback((be,$e,qe)=>{const Ze=!he.current&&!qe;(E.value!==void 0&&E.value===$e||Ze)&&G(be)},[E.value]),Ce=i==="popper"?Vx:i2,Pe=Ce===Vx?{side:m,sideOffset:h,align:f,alignOffset:p,arrowPadding:y,collisionBoundary:b,collisionPadding:w,sticky:N,hideWhenDetached:j,avoidCollisions:C}:{};return e.jsx(n2,{scope:n,content:S,viewport:_,onViewportChange:L,itemRefCallback:te,selectedItem:q,onItemLeave:T,itemTextRefCallback:ye,focusSelectedItem:P,selectedItemText:H,position:i,isPositioned:de,searchRef:Ne,children:e.jsx(Y1,{as:wM,allowPinchZoom:!0,children:e.jsx(u1,{asChild:!0,trapped:E.open,onMountAutoFocus:be=>{be.preventDefault()},onUnmountAutoFocus:rs(o,be=>{E.trigger?.focus({preventScroll:!0}),be.preventDefault()}),children:e.jsx(c1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:be=>be.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:e.jsx(Ce,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:be=>be.preventDefault(),...A,...Pe,onPlaced:()=>z(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:rs(A.onKeyDown,be=>{const $e=be.ctrlKey||be.altKey||be.metaKey;if(be.key==="Tab"&&be.preventDefault(),!$e&&be.key.length===1&&B(be.key),["ArrowUp","ArrowDown","Home","End"].includes(be.key)){let Ze=F().filter(at=>!at.disabled).map(at=>at.ref.current);if(["ArrowUp","End"].includes(be.key)&&(Ze=Ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(be.key)){const at=be.target,Xe=Ze.indexOf(at);Ze=Ze.slice(Xe+1)}setTimeout(()=>O(Ze)),be.preventDefault()}})})})})})})});r2.displayName=NM;var SM="SelectItemAlignedPosition",i2=v.forwardRef((t,s)=>{const{__scopeSelect:n,onPlaced:i,...o}=t,c=Hr(Li,n),u=$r(Li,n),[m,h]=v.useState(null),[f,p]=v.useState(null),y=Ns(s,I=>p(I)),b=fm(n),w=v.useRef(!1),N=v.useRef(!0),{viewport:j,selectedItem:C,selectedItemText:A,focusSelectedItem:E}=u,S=v.useCallback(()=>{if(c.trigger&&c.valueNode&&m&&f&&j&&C&&A){const I=c.trigger.getBoundingClientRect(),q=f.getBoundingClientRect(),$=c.valueNode.getBoundingClientRect(),H=A.getBoundingClientRect();if(c.dir!=="rtl"){const at=H.left-q.left,Xe=$.left-at,es=I.left-Xe,zt=I.width+es,$s=Math.max(zt,q.width),Ps=window.innerWidth-Wa,Us=gb(Xe,[Wa,Math.max(Wa,Ps-$s)]);m.style.minWidth=zt+"px",m.style.left=Us+"px"}else{const at=q.right-H.right,Xe=window.innerWidth-$.right-at,es=window.innerWidth-I.right-Xe,zt=I.width+es,$s=Math.max(zt,q.width),Ps=window.innerWidth-Wa,Us=gb(Xe,[Wa,Math.max(Wa,Ps-$s)]);m.style.minWidth=zt+"px",m.style.right=Us+"px"}const G=b(),F=window.innerHeight-Wa*2,de=j.scrollHeight,z=window.getComputedStyle(f),he=parseInt(z.borderTopWidth,10),O=parseInt(z.paddingTop,10),P=parseInt(z.borderBottomWidth,10),U=parseInt(z.paddingBottom,10),pe=he+O+de+U+P,Ne=Math.min(C.offsetHeight*5,pe),B=window.getComputedStyle(j),te=parseInt(B.paddingTop,10),T=parseInt(B.paddingBottom,10),ye=I.top+I.height/2-Wa,Ce=F-ye,Pe=C.offsetHeight/2,be=C.offsetTop+Pe,$e=he+O+be,qe=pe-$e;if($e<=ye){const at=G.length>0&&C===G[G.length-1].ref.current;m.style.bottom="0px";const Xe=f.clientHeight-j.offsetTop-j.offsetHeight,es=Math.max(Ce,Pe+(at?T:0)+Xe+P),zt=$e+es;m.style.height=zt+"px"}else{const at=G.length>0&&C===G[0].ref.current;m.style.top="0px";const es=Math.max(ye,he+j.offsetTop+(at?te:0)+Pe)+qe;m.style.height=es+"px",j.scrollTop=$e-ye+j.offsetTop}m.style.margin=`${Wa}px 0`,m.style.minHeight=Ne+"px",m.style.maxHeight=F+"px",i?.(),requestAnimationFrame(()=>w.current=!0)}},[b,c.trigger,c.valueNode,m,f,j,C,A,c.dir,i]);fa(()=>S(),[S]);const[R,_]=v.useState();fa(()=>{f&&_(window.getComputedStyle(f).zIndex)},[f]);const L=v.useCallback(I=>{I&&N.current===!0&&(S(),E?.(),N.current=!1)},[S,E]);return e.jsx(kM,{scope:n,contentWrapper:m,shouldExpandOnScrollRef:w,onScrollButtonChange:L,children:e.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:e.jsx(Ta.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});i2.displayName=SM;var CM="SelectPopperPosition",Vx=v.forwardRef((t,s)=>{const{__scopeSelect:n,align:i="start",collisionPadding:o=Wa,...c}=t,u=xm(n);return e.jsx(XD,{...u,...c,ref:s,align:i,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Vx.displayName=CM;var[kM,qp]=mo(Li,{}),Hx="SelectViewport",l2=v.forwardRef((t,s)=>{const{__scopeSelect:n,nonce:i,...o}=t,c=$r(Hx,n),u=qp(Hx,n),m=Ns(s,c.onViewportChange),h=v.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(hm.Slot,{scope:n,children:e.jsx(Ta.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:rs(o.onScroll,f=>{const p=f.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:b}=u;if(b?.current&&y){const w=Math.abs(h.current-p.scrollTop);if(w>0){const N=window.innerHeight-Wa*2,j=parseFloat(y.style.minHeight),C=parseFloat(y.style.height),A=Math.max(j,C);if(A<N){const E=A+w,S=Math.min(N,E),R=E-S;y.style.height=S+"px",y.style.bottom==="0px"&&(p.scrollTop=R>0?R:0,y.style.justifyContent="flex-end")}}}h.current=p.scrollTop})})})]})});l2.displayName=Hx;var o2="SelectGroup",[EM,AM]=mo(o2),_M=v.forwardRef((t,s)=>{const{__scopeSelect:n,...i}=t,o=Rp();return e.jsx(EM,{scope:n,id:o,children:e.jsx(Ta.div,{role:"group","aria-labelledby":o,...i,ref:s})})});_M.displayName=o2;var c2="SelectLabel",d2=v.forwardRef((t,s)=>{const{__scopeSelect:n,...i}=t,o=AM(c2,n);return e.jsx(Ta.div,{id:o.id,...i,ref:s})});d2.displayName=c2;var Ku="SelectItem",[TM,u2]=mo(Ku),m2=v.forwardRef((t,s)=>{const{__scopeSelect:n,value:i,disabled:o=!1,textValue:c,...u}=t,m=Hr(Ku,n),h=$r(Ku,n),f=m.value===i,[p,y]=v.useState(c??""),[b,w]=v.useState(!1),N=Ns(s,E=>h.itemRefCallback?.(E,i,o)),j=Rp(),C=v.useRef("touch"),A=()=>{o||(m.onValueChange(i),m.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(TM,{scope:n,value:i,disabled:o,textId:j,isSelected:f,onItemTextChange:v.useCallback(E=>{y(S=>S||(E?.textContent??"").trim())},[]),children:e.jsx(hm.ItemSlot,{scope:n,value:i,disabled:o,textValue:p,children:e.jsx(Ta.div,{role:"option","aria-labelledby":j,"data-highlighted":b?"":void 0,"aria-selected":f&&b,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:N,onFocus:rs(u.onFocus,()=>w(!0)),onBlur:rs(u.onBlur,()=>w(!1)),onClick:rs(u.onClick,()=>{C.current!=="mouse"&&A()}),onPointerUp:rs(u.onPointerUp,()=>{C.current==="mouse"&&A()}),onPointerDown:rs(u.onPointerDown,E=>{C.current=E.pointerType}),onPointerMove:rs(u.onPointerMove,E=>{C.current=E.pointerType,o?h.onItemLeave?.():C.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:rs(u.onPointerLeave,E=>{E.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:rs(u.onKeyDown,E=>{h.searchRef?.current!==""&&E.key===" "||(xM.includes(E.key)&&A(),E.key===" "&&E.preventDefault())})})})})});m2.displayName=Ku;var xc="SelectItemText",h2=v.forwardRef((t,s)=>{const{__scopeSelect:n,className:i,style:o,...c}=t,u=Hr(xc,n),m=$r(xc,n),h=u2(xc,n),f=vM(xc,n),[p,y]=v.useState(null),b=Ns(s,A=>y(A),h.onItemTextChange,A=>m.itemTextRefCallback?.(A,h.value,h.disabled)),w=p?.textContent,N=v.useMemo(()=>e.jsx("option",{value:h.value,disabled:h.disabled,children:w},h.value),[h.disabled,h.value,w]),{onNativeOptionAdd:j,onNativeOptionRemove:C}=f;return fa(()=>(j(N),()=>C(N)),[j,C,N]),e.jsxs(e.Fragment,{children:[e.jsx(Ta.span,{id:h.textId,...c,ref:b}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Dc.createPortal(c.children,u.valueNode):null]})});h2.displayName=xc;var f2="SelectItemIndicator",x2=v.forwardRef((t,s)=>{const{__scopeSelect:n,...i}=t;return u2(f2,n).isSelected?e.jsx(Ta.span,{"aria-hidden":!0,...i,ref:s}):null});x2.displayName=f2;var $x="SelectScrollUpButton",p2=v.forwardRef((t,s)=>{const n=$r($x,t.__scopeSelect),i=qp($x,t.__scopeSelect),[o,c]=v.useState(!1),u=Ns(s,i.onScrollButtonChange);return fa(()=>{if(n.viewport&&n.isPositioned){let m=function(){const f=h.scrollTop>0;c(f)};const h=n.viewport;return m(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[n.viewport,n.isPositioned]),o?e.jsx(y2,{...t,ref:u,onAutoScroll:()=>{const{viewport:m,selectedItem:h}=n;m&&h&&(m.scrollTop=m.scrollTop-h.offsetHeight)}}):null});p2.displayName=$x;var Kx="SelectScrollDownButton",g2=v.forwardRef((t,s)=>{const n=$r(Kx,t.__scopeSelect),i=qp(Kx,t.__scopeSelect),[o,c]=v.useState(!1),u=Ns(s,i.onScrollButtonChange);return fa(()=>{if(n.viewport&&n.isPositioned){let m=function(){const f=h.scrollHeight-h.clientHeight,p=Math.ceil(h.scrollTop)<f;c(p)};const h=n.viewport;return m(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[n.viewport,n.isPositioned]),o?e.jsx(y2,{...t,ref:u,onAutoScroll:()=>{const{viewport:m,selectedItem:h}=n;m&&h&&(m.scrollTop=m.scrollTop+h.offsetHeight)}}):null});g2.displayName=Kx;var y2=v.forwardRef((t,s)=>{const{__scopeSelect:n,onAutoScroll:i,...o}=t,c=$r("SelectScrollButton",n),u=v.useRef(null),m=fm(n),h=v.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return v.useEffect(()=>()=>h(),[h]),fa(()=>{m().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[m]),e.jsx(Ta.div,{"aria-hidden":!0,...o,ref:s,style:{flexShrink:0,...o.style},onPointerDown:rs(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:rs(o.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:rs(o.onPointerLeave,()=>{h()})})}),RM="SelectSeparator",v2=v.forwardRef((t,s)=>{const{__scopeSelect:n,...i}=t;return e.jsx(Ta.div,{"aria-hidden":!0,...i,ref:s})});v2.displayName=RM;var Qx="SelectArrow",DM=v.forwardRef((t,s)=>{const{__scopeSelect:n,...i}=t,o=xm(n),c=Hr(Qx,n),u=$r(Qx,n);return c.open&&u.position==="popper"?e.jsx(JD,{...o,...i,ref:s}):null});DM.displayName=Qx;var OM="SelectBubbleInput",j2=v.forwardRef(({__scopeSelect:t,value:s,...n},i)=>{const o=v.useRef(null),c=Ns(i,o),u=F1(s);return v.useEffect(()=>{const m=o.current;if(!m)return;const h=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==s&&p){const y=new Event("change",{bubbles:!0});p.call(m,s),m.dispatchEvent(y)}},[u,s]),e.jsx(Ta.select,{...n,style:{...q1,...n.style},ref:c,defaultValue:s})});j2.displayName=OM;function b2(t){return t===""||t===void 0}function N2(t){const s=Oi(t),n=v.useRef(""),i=v.useRef(0),o=v.useCallback(u=>{const m=n.current+u;s(m),(function h(f){n.current=f,window.clearTimeout(i.current),f!==""&&(i.current=window.setTimeout(()=>h(""),1e3))})(m)},[s]),c=v.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,o,c]}function w2(t,s,n){const o=s.length>1&&Array.from(s).every(f=>f===s[0])?s[0]:s,c=n?t.indexOf(n):-1;let u=MM(t,Math.max(c,0));o.length===1&&(u=u.filter(f=>f!==n));const h=u.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==n?h:void 0}function MM(t,s){return t.map((n,i)=>t[(s+i)%t.length])}var IM=Z1,S2=X1,LM=e2,PM=t2,UM=s2,C2=a2,FM=l2,k2=d2,E2=m2,qM=h2,zM=x2,A2=p2,_2=g2,T2=v2;const Vb=IM,Hb=LM,Gx=v.forwardRef(({className:t,children:s,...n},i)=>e.jsxs(S2,{ref:i,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,e.jsx(PM,{asChild:!0,children:e.jsx(tm,{className:"h-4 w-4 opacity-50"})})]}));Gx.displayName=S2.displayName;const R2=v.forwardRef(({className:t,...s},n)=>e.jsx(A2,{ref:n,className:fe("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(zT,{className:"h-4 w-4"})}));R2.displayName=A2.displayName;const D2=v.forwardRef(({className:t,...s},n)=>e.jsx(_2,{ref:n,className:fe("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(tm,{className:"h-4 w-4"})}));D2.displayName=_2.displayName;const Yx=v.forwardRef(({className:t,children:s,position:n="popper",...i},o)=>e.jsx(UM,{children:e.jsxs(C2,{ref:o,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[e.jsx(R2,{}),e.jsx(FM,{className:fe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(D2,{})]})}));Yx.displayName=C2.displayName;const BM=v.forwardRef(({className:t,...s},n)=>e.jsx(k2,{ref:n,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));BM.displayName=k2.displayName;const pc=v.forwardRef(({className:t,children:s,...n},i)=>e.jsxs(E2,{ref:i,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(zM,{children:e.jsx(As,{className:"h-4 w-4"})})}),e.jsx(qM,{children:s})]}));pc.displayName=E2.displayName;const VM=v.forwardRef(({className:t,...s},n)=>e.jsx(T2,{ref:n,className:fe("-mx-1 my-1 h-px bg-muted",t),...s}));VM.displayName=T2.displayName;function $b(){const{id:t}=ln(),{user:s}=We(),n=gt(),i=St(),o=!!t,[c,u]=v.useState({name:"",description:"",startDate:"",endDate:"",budget:"",type:"sale",projectId:"",productIds:[],groupIds:[]}),[m,h]=v.useState(null),{data:f,isLoading:p}=we({queryKey:["campaign",t],queryFn:async()=>{if(!t||!s?.companyId)return null;const A=await Ca.getById(Number(t),s.companyId);if(!A.data.success)throw new Error(A.data.message||"Failed to fetch campaign");return A.data.data},enabled:o&&!!s?.companyId}),{data:y,isLoading:b}=we({queryKey:["projects"],queryFn:async()=>{const A=await zr.getAll();if(!A.data.success)throw new Error(A.data.message||"Failed to fetch projects");let E=A.data.data||[];return s?.roleName!=="SuperAdmin"&&s?.companyId&&(E=E.filter(S=>S.companyId===s.companyId)),E=E.filter(S=>S.status!=="Completed"),E},enabled:!!s}),w=y||[];v.useEffect(()=>{if(f){const A=[];f.products&&Array.isArray(f.products)&&f.products.forEach(R=>{const _=R.product?.id||R.productId||R.id;_&&typeof _=="number"&&A.push(_)});const E=[];f.groups&&Array.isArray(f.groups)&&f.groups.forEach(R=>{const _=R.group?.id||R.groupId||R.id;_&&typeof _=="number"&&E.push(_)});const S=w.find(R=>R.id===f.projectId);S&&h(S),u({name:f.name||"",description:f.description||"",startDate:f.startDate?new Date(f.startDate).toISOString().split("T")[0]:"",endDate:f.endDate?new Date(f.endDate).toISOString().split("T")[0]:"",budget:String(f.budget||""),type:f.type||"sale",projectId:String(f.projectId||""),productIds:A,groupIds:E})}},[f,w]);const N=A=>{const E=w.find(_=>_.id===Number(A));h(E||null);let S="";E&&E.invoices&&E.invoices.length>0&&(S=E.invoices.reduce((L,I)=>L+Number(I.totalAmount||0),0).toFixed(2));const R=!o||!c.budget;u({...c,projectId:A,budget:R&&S?S:c.budget})},j=Te({mutationFn:A=>{const E={...A,companyId:s?.companyId,projectId:Number(A.projectId),productIds:c.productIds,groupIds:c.groupIds};return o&&t?Ca.update(Number(t),E,s?.companyId||0):Ca.create(E)},onSuccess:async()=>{await n.invalidateQueries({queryKey:["campaigns"]}),await n.invalidateQueries({queryKey:["campaigns-all"]}),await n.invalidateQueries({queryKey:["campaigns-active"]}),await n.invalidateQueries({queryKey:["campaign-stats"]}),i("/campaigns"),alert(o?"Campaign updated successfully!":"Campaign created successfully!")},onError:A=>{console.error("Campaign save error:",A);const E=A.response?.data?.message||A.message||"Failed to save campaign";alert(E)}}),C=A=>{if(A.preventDefault(),!c.name.trim()){alert("Campaign name is required");return}if(!c.startDate){alert("Start date is required");return}if(!c.endDate){alert("End date is required");return}if(new Date(c.startDate)>=new Date(c.endDate)){alert("End date must be after start date");return}if(!c.budget||Number(c.budget)<=0){alert("Budget must be greater than 0");return}if(!c.projectId){alert("Project selection is required");return}j.mutate({name:c.name.trim(),description:c.description.trim()||void 0,startDate:c.startDate,endDate:c.endDate,budget:Number(c.budget),type:c.type,projectId:c.projectId})};return p||b?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"text-center",children:"Loading..."})}):e.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(M,{variant:"ghost",onClick:()=>i("/campaigns"),className:"mb-4",children:[e.jsx(ha,{className:"mr-2 h-4 w-4"}),"Back to Campaigns"]}),e.jsx("h1",{className:"text-3xl font-bold",children:o?"Edit Campaign":"Create New Campaign"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:o?"Update campaign details and settings":"Create a new campaign and assign it to a project"})]}),e.jsxs(X,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Campaign Details"}),e.jsx(Qe,{children:o?"Update the campaign information below":"Fill in the campaign information below. The client and invoices will be automatically assigned from the selected project."})]}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"projectId",children:["Project ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Vb,{value:c.projectId,onValueChange:N,disabled:o,children:[e.jsx(Gx,{children:e.jsx(Hb,{placeholder:"Select a project"})}),e.jsx(Yx,{children:w.map(A=>e.jsxs(pc,{value:String(A.id),children:[A.title," ",A.client?.name?`(${A.client.name})`:""]},A.id))})]}),m&&e.jsxs("div",{className:"text-sm text-muted-foreground mt-2 p-3 bg-slate-50 rounded-md",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Client:"})," ",m.client?.name||m.client?.email||"N/A"]}),e.jsxs("p",{className:"mt-1",children:[e.jsx("strong",{children:"Client Email:"})," ",m.client?.email||"N/A"]}),m.invoices&&m.invoices.length>0&&e.jsxs("p",{className:"mt-1",children:[e.jsx("strong",{children:"Total Invoice Amount:"})," $",m.invoices.reduce((A,E)=>A+Number(E.totalAmount||0),0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsxs("p",{className:"mt-1 text-blue-600",children:[" Client and invoices from this project will be automatically assigned to the campaign",m.invoices&&m.invoices.length>0&&e.jsx("span",{className:"block mt-1",children:" Budget has been auto-filled from project invoices"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"name",children:["Campaign Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(me,{id:"name",value:c.name,onChange:A=>u({...c,name:A.target.value}),placeholder:"Enter campaign name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"description",children:"Description"}),e.jsx(Ir,{id:"description",value:c.description,onChange:A=>u({...c,description:A.target.value}),placeholder:"Enter campaign description",rows:4})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"startDate",children:["Start Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(me,{id:"startDate",type:"date",value:c.startDate,onChange:A=>u({...c,startDate:A.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"endDate",children:["End Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(me,{id:"endDate",type:"date",value:c.endDate,onChange:A=>u({...c,endDate:A.target.value}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"budget",children:["Budget ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(me,{id:"budget",type:"number",step:"0.01",min:"0",value:c.budget,onChange:A=>u({...c,budget:A.target.value}),placeholder:"Enter budget",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"type",children:["Campaign Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Vb,{value:c.type,onValueChange:A=>u({...c,type:A}),children:[e.jsx(Gx,{children:e.jsx(Hb,{})}),e.jsxs(Yx,{children:[e.jsx(pc,{value:"sale",children:"Sale"}),e.jsx(pc,{value:"reach",children:"Reach"}),e.jsx(pc,{value:"research",children:"Research"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"Products (Optional)"}),e.jsx(k6,{companyId:s?.companyId||0,selectedProductIds:c.productIds,onSelectionChange:A=>u({...c,productIds:A})})]}),s?.companyId&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"Employee Groups (Optional)"}),e.jsx(E6,{companyId:s.companyId,selectedGroupIds:c.groupIds,onSelectionChange:A=>u({...c,groupIds:A})})]}),o&&f?.invoices&&f.invoices.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"Assigned Invoices"}),e.jsx("div",{className:"p-3 bg-slate-50 rounded-md",children:f.invoices.map(A=>e.jsxs("div",{className:"text-sm mb-2",children:[e.jsx("strong",{children:A.invoice.invoiceNumber})," - $",A.invoice.totalAmount," (",A.invoice.status,")"]},A.invoice.id))})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>i("/campaigns"),children:"Cancel"}),e.jsxs(M,{type:"submit",disabled:j.isPending,children:[e.jsx(wp,{className:"mr-2 h-4 w-4"}),j.isPending?"Saving...":o?"Update Campaign":"Create Campaign"]})]})]})})]})]})}function HM(t){const s=$M(t),n=v.forwardRef((i,o)=>{const{children:c,...u}=i,m=v.Children.toArray(c),h=m.find(QM);if(h){const f=h.props.children,p=m.map(y=>y===h?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:y);return e.jsx(s,{...u,ref:o,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return e.jsx(s,{...u,ref:o,children:c})});return n.displayName=`${t}.Slot`,n}function $M(t){const s=v.forwardRef((n,i)=>{const{children:o,...c}=n;if(v.isValidElement(o)){const u=YM(o),m=GM(c,o.props);return o.type!==v.Fragment&&(m.ref=i?kn(i,u):u),v.cloneElement(o,m)}return v.Children.count(o)>1?v.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var KM=Symbol("radix.slottable");function QM(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===KM}function GM(t,s){const n={...s};for(const i in s){const o=t[i],c=s[i];/^on[A-Z]/.test(i)?o&&c?n[i]=(...m)=>{const h=c(...m);return o(...m),h}:o&&(n[i]=o):i==="style"?n[i]={...o,...c}:i==="className"&&(n[i]=[o,c].filter(Boolean).join(" "))}return{...t,...n}}function YM(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ZM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O2=ZM.reduce((t,s)=>{const n=HM(`Primitive.${s}`),i=v.forwardRef((o,c)=>{const{asChild:u,...m}=o,h=u?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(h,{...m,ref:c})});return i.displayName=`Primitive.${s}`,{...t,[s]:i}},{}),pm="Switch",[WM]=lm(pm),[XM,JM]=WM(pm),M2=v.forwardRef((t,s)=>{const{__scopeSwitch:n,name:i,checked:o,defaultChecked:c,required:u,disabled:m,value:h="on",onCheckedChange:f,form:p,...y}=t,[b,w]=v.useState(null),N=Ns(s,S=>w(S)),j=v.useRef(!1),C=b?p||!!b.closest("form"):!0,[A,E]=zx({prop:o,defaultProp:c??!1,onChange:f,caller:pm});return e.jsxs(XM,{scope:n,checked:A,disabled:m,children:[e.jsx(O2.button,{type:"button",role:"switch","aria-checked":A,"aria-required":u,"data-state":U2(A),"data-disabled":m?"":void 0,disabled:m,value:h,...y,ref:N,onClick:rs(t.onClick,S=>{E(R=>!R),C&&(j.current=S.isPropagationStopped(),j.current||S.stopPropagation())})}),C&&e.jsx(P2,{control:b,bubbles:!j.current,name:i,value:h,checked:A,required:u,disabled:m,form:p,style:{transform:"translateX(-100%)"}})]})});M2.displayName=pm;var I2="SwitchThumb",L2=v.forwardRef((t,s)=>{const{__scopeSwitch:n,...i}=t,o=JM(I2,n);return e.jsx(O2.span,{"data-state":U2(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:s})});L2.displayName=I2;var eI="SwitchBubbleInput",P2=v.forwardRef(({__scopeSwitch:t,control:s,checked:n,bubbles:i=!0,...o},c)=>{const u=v.useRef(null),m=Ns(u,c),h=F1(n),f=k1(s);return v.useEffect(()=>{const p=u.current;if(!p)return;const y=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(y,"checked").set;if(h!==n&&w){const N=new Event("click",{bubbles:i});w.call(p,n),p.dispatchEvent(N)}},[h,n,i]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:m,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});P2.displayName=eI;function U2(t){return t?"checked":"unchecked"}var F2=M2,tI=L2;const q2=v.forwardRef(({className:t,...s},n)=>e.jsx(F2,{className:fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:n,children:e.jsx(tI,{className:fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));q2.displayName=F2.displayName;function sI(){const{id:t}=ln(),{user:s}=We(),n=St(),i=gt(),{data:o,isLoading:c,error:u}=we({queryKey:["campaign",t,s?.companyId],queryFn:async()=>{if(!t||!s?.companyId)return null;const w=await Ca.getById(Number(t),s.companyId);if(!w.data.success)throw new Error(w.data.message||"Failed to fetch campaign");return w.data.data},enabled:!!t&&!!s?.companyId}),m=Te({mutationFn:async w=>{if(!(!t||!s?.companyId))return Ca.update(Number(t),{isActive:w},s.companyId)},onSuccess:()=>{i.invalidateQueries({queryKey:["campaign",t]}),i.invalidateQueries({queryKey:["campaigns"]}),i.invalidateQueries({queryKey:["campaigns-active"]})},onError:w=>{alert(w.response?.data?.message||"Failed to update campaign status")}}),h=w=>{m.mutate(w)},f=w=>{switch(w){case"reach":return"bg-blue-100 text-blue-700";case"sale":return"bg-green-100 text-green-700";case"research":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}},p=w=>{switch(w){case"Paid":return"bg-green-100 text-green-700";case"Unpaid":return"bg-yellow-100 text-yellow-700";case"Overdue":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}};if(c)return e.jsx(it,{permission:"can_manage_campaigns",children:e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"text-center py-12",children:"Loading campaign details..."})})});if(u||!o)return e.jsx(it,{permission:"can_manage_campaigns",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"text-center py-12 text-red-600",children:u instanceof Error?u.message:"Campaign not found"}),e.jsx("div",{className:"text-center mt-4",children:e.jsx(M,{onClick:()=>n("/campaigns"),variant:"outline",children:"Back to Campaigns"})})]})});const y=o.invoices?.reduce((w,N)=>w+Number(N.invoice.totalAmount||0),0)||0,b=o.leads?.reduce((w,N)=>w+Number(N.value||0),0)||0;return e.jsx(it,{permission:"can_manage_campaigns",children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(M,{variant:"ghost",onClick:()=>n("/campaigns"),children:[e.jsx(ha,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:o.name}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Campaign Details"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{htmlFor:"active-toggle",className:"text-sm font-medium",children:o.isActive?"Active":"Inactive"}),e.jsx(q2,{id:"active-toggle",checked:o.isActive,onCheckedChange:h,disabled:m.isPending})]}),e.jsxs(M,{onClick:()=>n(`/campaigns/${o.id}/edit`),children:[e.jsx($t,{className:"w-4 h-4 mr-2"}),"Edit Campaign"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(X,{children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ps,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Budget"}),e.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",Number(o.budget).toLocaleString()]})]})]})})}),e.jsx(X,{children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Iw,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Type"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 capitalize",children:o.type})]})]})})}),e.jsx(X,{children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Vt,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Invoices"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:o.invoices?.length||0})]})]})})}),e.jsx(X,{children:e.jsx(ee,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Yt,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-600",children:"Leads"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:o.leads?.length||0})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(X,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"Campaign Information"})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Description"}),e.jsx("p",{className:"mt-1 text-slate-900",children:o.description||"No description provided"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Start Date"}),e.jsx("p",{className:"mt-1 text-slate-900",children:new Date(o.startDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"End Date"}),e.jsx("p",{className:"mt-1 text-slate-900",children:new Date(o.endDate).toLocaleDateString()})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Created At"}),e.jsx("p",{className:"mt-1 text-slate-900",children:new Date(o.createdAt).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Last Updated"}),e.jsx("p",{className:"mt-1 text-slate-900",children:new Date(o.updatedAt).toLocaleString()})]})]})]})]}),o.project&&e.jsxs(X,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx($a,{className:"w-5 h-5"}),"Project Information"]})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Project Title"}),e.jsx("p",{className:"mt-1 text-slate-900 font-medium",children:o.project.title})]}),o.project.client&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Client Name"}),e.jsx("p",{className:"mt-1 text-slate-900",children:o.project.client.name||o.project.client.email})]})]})]}),o.clients&&o.clients.length>0&&e.jsxs(X,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(is,{className:"w-5 h-5"}),"Client Information"]})}),e.jsx(ee,{children:e.jsx("div",{className:"space-y-3",children:o.clients.map(w=>e.jsx("div",{className:"p-4 border border-slate-200 rounded-lg",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:w.client.name||"Unnamed Client"}),e.jsx("p",{className:"text-sm text-slate-600",children:w.client.email})]})})},w.id))})})]}),o.invoices&&o.invoices.length>0&&e.jsxs(X,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"w-5 h-5"}),"Invoice Information"]})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-3",children:[o.invoices.map(w=>e.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-slate-900",children:["Invoice #",w.invoice.invoiceNumber]}),e.jsxs("p",{className:"text-sm text-slate-600",children:["",Number(w.invoice.totalAmount).toLocaleString()]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p(w.invoice.status)}`,children:w.invoice.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-slate-600",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Issue Date: "}),new Date(w.invoice.issueDate).toLocaleDateString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Due Date: "}),new Date(w.invoice.dueDate).toLocaleDateString()]})]})]},w.id)),e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Total Invoice Amount:"}),e.jsxs("span",{className:"text-xl font-bold text-green-600",children:["",y.toLocaleString()]})]})})]})})]}),o.products&&o.products.length>0&&e.jsxs(X,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"Assigned Products"})}),e.jsx(ee,{children:e.jsx("div",{className:"space-y-2",children:o.products.map(w=>e.jsx("div",{className:"p-3 border border-slate-200 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900",children:w.product.name}),w.product.category&&e.jsx("p",{className:"text-sm text-slate-600",children:w.product.category.name})]}),e.jsxs("p",{className:"font-medium text-green-600",children:["",Number(w.product.salePrice).toLocaleString()]})]})},w.id))})})]}),o.groups&&o.groups.length>0&&e.jsxs(X,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"w-5 h-5"}),"Assigned Employee Groups"]})}),e.jsx(ee,{children:e.jsx("div",{className:"space-y-2",children:o.groups.map(w=>e.jsxs("div",{className:"p-3 border border-slate-200 rounded-lg",children:[e.jsx("p",{className:"font-medium text-slate-900",children:w.group.name}),w.group.description&&e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:w.group.description})]},w.id))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(X,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"Campaign Status"})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Status"}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${o.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:o.isActive?"Active":"Inactive"})})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium text-slate-600",children:"Campaign Type"}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f(o.type)}`,children:o.type.charAt(0).toUpperCase()+o.type.slice(1)})})]})]})]}),e.jsxs(X,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"Financial Summary"})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Budget"}),e.jsxs("span",{className:"font-medium text-slate-900",children:["",Number(o.budget).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Total Invoices"}),e.jsxs("span",{className:"font-medium text-slate-900",children:["",y.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Total Leads Value"}),e.jsxs("span",{className:"font-medium text-green-600",children:["",b.toLocaleString()]})]}),e.jsx("div",{className:"pt-4 border-t border-slate-200",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-slate-700",children:"Remaining Budget"}),e.jsxs("span",{className:`font-bold ${Number(o.budget)-y>=0?"text-green-600":"text-red-600"}`,children:["",(Number(o.budget)-y).toLocaleString()]})]})})]})]})]})]})]})})}function aI(){const{user:t}=We(),s=gt(),n=St(),[i,o]=v.useState(""),[c,u]=v.useState(""),{data:m,isLoading:h,error:f,refetch:p}=we({queryKey:["products",t?.companyId,c,i],queryFn:async()=>{if(!t?.companyId)return[];const A={};return c&&(A.categoryId=c),i&&(A.search=i),(await tn.getAll(t.companyId,A)).data.data},enabled:!!t?.companyId}),{data:y}=we({queryKey:["product-categories",t?.companyId],queryFn:async()=>t?.companyId?(await yi.getAll(t.companyId)).data.data||[]:[],enabled:!!t?.companyId}),b=m||[],w=y||[],N=Te({mutationFn:A=>tn.delete(A,t?.companyId||0),onSuccess:()=>{s.invalidateQueries({queryKey:["products"]}),alert("Product deleted successfully!")},onError:A=>{alert(A.response?.data?.message||"Failed to delete product")}}),j=A=>{confirm("Are you sure you want to delete this product?")&&N.mutate(A)},C=(A,E)=>{const S=typeof A=="string"?parseFloat(A):A;return`${E==="BDT"?"":"$"}${S.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`};return e.jsx(it,{permission:"can_manage_products",fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})]})}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Products"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Manage your product inventory"})]}),e.jsxs(M,{onClick:()=>n("/products/new"),children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),e.jsx(X,{children:e.jsx(ee,{className:"pt-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx(me,{placeholder:"Search products...",value:i,onChange:A=>o(A.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"w-64",children:e.jsxs("select",{value:c,onChange:A=>u(A.target.value?parseInt(A.target.value):""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"All Categories"}),w.map(A=>e.jsx("option",{value:A.id,children:A.name},A.id))]})})]})})}),e.jsxs(X,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"All Products"}),e.jsxs(Qe,{children:[b.length," product",b.length!==1?"s":""," found"]})]}),e.jsx(ee,{children:h?e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading products..."}):b.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(oa,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),e.jsx("p",{className:"text-slate-500",children:"No products found"}),e.jsxs(M,{onClick:()=>n("/products/new"),className:"mt-4",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Add Your First Product"]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Image"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Category"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Purchase Price"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Sale Price"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Company"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{children:b.map(A=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:A.imageUrl?e.jsx("img",{src:A.imageUrl.startsWith("http")?A.imageUrl:`http://localhost:5001${A.imageUrl}`,alt:A.name,className:"w-12 h-12 object-cover rounded-md",onError:E=>{E.target.src="https://via.placeholder.com/48"}}):e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-md flex items-center justify-center",children:e.jsx(oa,{className:"w-6 h-6 text-gray-400"})})}),e.jsxs("td",{className:"py-3 px-4",children:[e.jsx("div",{className:"font-medium text-slate-900",children:A.name}),A.description&&e.jsx("div",{className:"text-sm text-slate-500 truncate max-w-xs",children:A.description})]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-xs font-medium",children:A.category.name})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-slate-700",children:C(A.purchasePrice,A.currency)})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"font-medium text-green-600",children:C(A.salePrice,A.currency)})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-sm text-slate-600",children:A.productCompany||"-"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>n(`/products/${A.id}`),title:"View Product",children:e.jsx(la,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>n(`/products/${A.id}/edit`),title:"Edit Product",children:e.jsx($t,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>j(A.id),title:"Delete Product",children:e.jsx(Ls,{className:"w-4 h-4"})})]})})]},A.id))})]})})})]})]})})}function Kb(){const{id:t}=ln(),{user:s}=We(),n=gt(),i=St(),[o,c]=v.useState(1),[u,m]=v.useState(null),[h,f]=v.useState(null),[p,y]=v.useState(!1),[b,w]=v.useState("attribute"),[N,j]=v.useState({name:"",description:"",purchasePrice:"",salePrice:"",currency:"BDT",categoryId:"",productCompany:"",imageUrl:"",quickReplies:[]}),{data:C,isLoading:A}=we({queryKey:["product",t,s?.companyId],queryFn:async()=>!t||!s?.companyId?null:(await tn.getById(parseInt(t),s.companyId)).data.data,enabled:!!t&&!!s?.companyId}),{data:E}=we({queryKey:["product-categories",s?.companyId],queryFn:async()=>s?.companyId?(await yi.getAll(s.companyId)).data.data||[]:[],enabled:!!s?.companyId}),S=E||[];v.useEffect(()=>{C&&(j({name:C.name||"",description:C.description||"",purchasePrice:String(C.purchasePrice||""),salePrice:String(C.salePrice||""),currency:C.currency||"BDT",categoryId:String(C.categoryId||""),productCompany:C.productCompany||"",imageUrl:C.imageUrl||"",quickReplies:C.quickReplies||[]}),C.imageUrl&&f(C.imageUrl.startsWith("http")?C.imageUrl:`http://localhost:5001${C.imageUrl}`))},[C]);const R=z=>{const he=z.target.files?.[0];if(he){m(he);const O=new FileReader;O.onloadend=()=>{f(O.result)},O.readAsDataURL(he)}},_=async()=>{if(!u)return N.imageUrl;y(!0);try{return(await tn.uploadImage(u)).data.data.imageUrl}catch(z){throw new Error(z.response?.data?.message||"Failed to upload image")}finally{y(!1)}},L=Te({mutationFn:async z=>{if(u)try{const he=await _();z.imageUrl=he||void 0}catch(he){console.error("Image upload failed:",he),z.imageUrl=void 0}else z.imageUrl=N.imageUrl||void 0;return t?tn.update(parseInt(t),z,s?.companyId||0):tn.create(z)},onSuccess:()=>{n.invalidateQueries({queryKey:["products"]}),n.invalidateQueries({queryKey:["product",t]}),alert(t?"Product updated successfully!":"Product created successfully!"),i("/products")},onError:z=>{console.error("Product save error:",z);const he=z.response?.data?.message||z.message||"Failed to save product";alert(he)}}),I=z=>z===1?N.name.trim()?!N.purchasePrice||parseFloat(N.purchasePrice)<=0?(alert("Purchase price must be greater than 0"),!1):!N.salePrice||parseFloat(N.salePrice)<=0?(alert("Sale price must be greater than 0"),!1):!0:(alert("Product name is required"),!1):z===2?N.categoryId?!0:(alert("Product category is required"),!1):!0,q=z=>{z&&(z.preventDefault(),z.stopPropagation()),I(o)&&c(Math.min(o+1,3))},$=z=>{z&&(z.preventDefault(),z.stopPropagation()),c(Math.max(o-1,1))},H=async z=>{if(z.preventDefault(),!I(3))return;if(!s?.companyId){alert("User company ID is missing");return}const he={name:N.name.trim(),description:N.description?.trim()||void 0,purchasePrice:parseFloat(N.purchasePrice),salePrice:parseFloat(N.salePrice),currency:N.currency,categoryId:parseInt(N.categoryId),productCompany:N.productCompany?.trim()||void 0,quickReplies:N.quickReplies.length>0?N.quickReplies:void 0};L.mutate(he)},G=()=>{const z={type:b,key:b==="attribute"?"":void 0,value:""};j({...N,quickReplies:[...N.quickReplies,z]})},F=z=>{j({...N,quickReplies:N.quickReplies.filter((he,O)=>O!==z)})},de=(z,he,O)=>{const P=[...N.quickReplies];P[z]={...P[z],[he]:O},j({...N,quickReplies:P})};return A&&t?e.jsx(it,{permission:"can_manage_products",children:e.jsx("div",{className:"text-center py-8",children:"Loading product..."})}):e.jsx(it,{permission:"can_manage_products",fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})]})}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:t?"Edit Product":"Add New Product"}),e.jsx("p",{className:"text-slate-600 mt-1",children:t?"Update product information":"Create a new product in 3 simple steps"})]}),e.jsxs(M,{variant:"ghost",onClick:()=>i("/products"),children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Cancel"]})]}),e.jsx(X,{children:e.jsx(ee,{className:"pt-6",children:e.jsx("div",{className:"flex items-center justify-between",children:[1,2,3].map(z=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:fe("w-10 h-10 rounded-full flex items-center justify-center font-semibold",o===z?"bg-indigo-600 text-white":o>z?"bg-green-500 text-white":"bg-gray-200 text-gray-600"),children:o>z?"":z}),e.jsx("div",{className:"ml-3 hidden sm:block",children:e.jsxs("div",{className:fe("text-sm font-medium",o===z?"text-indigo-600":"text-gray-600"),children:[z===1&&"Basic Information",z===2&&"Category & Image",z===3&&"Quick Replies"]})})]}),z<3&&e.jsx("div",{className:fe("flex-1 h-1 mx-4",o>z?"bg-green-500":"bg-gray-200")})]},z))})})}),e.jsxs(X,{children:[e.jsx(oe,{children:e.jsxs(ce,{children:["Step ",o," of 3: "," ",o===1&&"Basic Information",o===2&&"Category & Image",o===3&&"Quick Replies"]})}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:z=>{z.preventDefault(),o===3&&H(z)},className:"space-y-6",children:[o===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"name",children:"Product Name *"}),e.jsx(me,{id:"name",value:N.name,onChange:z=>j({...N,name:z.target.value}),placeholder:"Enter product name",required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"description",children:"Product Description"}),e.jsx("textarea",{id:"description",value:N.description,onChange:z=>j({...N,description:z.target.value}),placeholder:"Enter product description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 min-h-[100px]"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"purchasePrice",children:"Purchase Price *"}),e.jsx(me,{id:"purchasePrice",type:"number",step:"0.01",min:"0",value:N.purchasePrice,onChange:z=>j({...N,purchasePrice:z.target.value}),placeholder:"0.00",required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"salePrice",children:"Sale Price *"}),e.jsx(me,{id:"salePrice",type:"number",step:"0.01",min:"0",value:N.salePrice,onChange:z=>j({...N,salePrice:z.target.value}),placeholder:"0.00",required:!0})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"currency",children:"Currency *"}),e.jsxs("select",{id:"currency",value:N.currency,onChange:z=>j({...N,currency:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"BDT",children:"BDT ()"}),e.jsx("option",{value:"USD",children:"USD ($)"})]})]})]}),o===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"categoryId",children:"Product Category *"}),e.jsxs("select",{id:"categoryId",value:N.categoryId,onChange:z=>j({...N,categoryId:z.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),S.map(z=>e.jsx("option",{value:z.id,children:z.name},z.id))]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"productCompany",children:"Product Company"}),e.jsx(me,{id:"productCompany",value:N.productCompany,onChange:z=>j({...N,productCompany:z.target.value}),placeholder:"Enter company name"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"image",children:"Product Image"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("input",{id:"image",type:"file",accept:"image/*",onChange:R,className:"hidden"}),e.jsxs("label",{htmlFor:"image",className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[e.jsx(Ec,{className:"w-4 h-4"}),u?"Change Image":"Upload Image"]})]}),h&&e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:h,alt:"Preview",className:"w-32 h-32 object-cover rounded-md border border-gray-200"})})]})]}),o===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>w("attribute"),className:fe("px-4 py-2 font-medium text-sm border-b-2 transition-colors",b==="attribute"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Attributes"}),e.jsx("button",{type:"button",onClick:()=>w("sales"),className:fe("px-4 py-2 font-medium text-sm border-b-2 transition-colors",b==="sales"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Sales Messages"})]}),e.jsxs("div",{className:"space-y-3",children:[N.quickReplies.filter(z=>z.type===b).map((z,he)=>{const O=N.quickReplies.findIndex(P=>P===z);return e.jsxs("div",{className:"flex gap-2 items-start p-3 border border-gray-200 rounded-md",children:[b==="attribute"&&e.jsxs("div",{className:"flex-1",children:[e.jsx(me,{placeholder:"Key (e.g., Color)",value:z.key||"",onChange:P=>de(O,"key",P.target.value),className:"mb-2"}),e.jsx(me,{placeholder:"Value (e.g., Red)",value:z.value,onChange:P=>de(O,"value",P.target.value)})]}),b==="sales"&&e.jsx(me,{placeholder:"Sales message (e.g., Limited stock available!)",value:z.value,onChange:P=>de(O,"value",P.target.value),className:"flex-1"}),e.jsx(M,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(O),children:e.jsx(Ls,{className:"w-4 h-4"})})]},O)}),e.jsxs(M,{type:"button",variant:"outline",onClick:G,className:"w-full",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Add ",b==="attribute"?"Attribute":"Sales Message"]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-200",children:[e.jsx("div",{children:o>1&&e.jsxs(M,{type:"button",variant:"outline",onClick:z=>{z.preventDefault(),z.stopPropagation(),$(z)},children:[e.jsx(ha,{className:"w-4 h-4 mr-2"}),"Previous"]})}),e.jsx("div",{className:"flex gap-2",children:o<3?e.jsxs(M,{type:"button",onClick:z=>{z.preventDefault(),z.stopPropagation(),q(z)},children:["Next",e.jsx(mc,{className:"w-4 h-4 ml-2"})]}):e.jsx(M,{type:"submit",disabled:L.isPending||p,children:p?"Uploading Image...":L.isPending?"Saving...":t?"Update Product":"Create Product"})})]})]})})]})]})})}function nI(){const{id:t}=ln(),{user:s}=We(),n=St(),{data:i,isLoading:o,error:c}=we({queryKey:["product",t,s?.companyId],queryFn:async()=>!t||!s?.companyId?null:(await tn.getById(parseInt(t),s.companyId)).data.data,enabled:!!t&&!!s?.companyId}),u=(w,N)=>{const j=typeof w=="string"?parseFloat(w):w;return`${N==="BDT"?"":"$"}${j.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`},m=()=>{if(!i)return null;const w=typeof i.purchasePrice=="string"?parseFloat(i.purchasePrice):i.purchasePrice;return(typeof i.salePrice=="string"?parseFloat(i.salePrice):i.salePrice)-w},h=()=>{if(!i)return null;const w=typeof i.purchasePrice=="string"?parseFloat(i.purchasePrice):i.purchasePrice,N=typeof i.salePrice=="string"?parseFloat(i.salePrice):i.salePrice;return w===0?0:(N-w)/w*100},f=m(),p=h();if(o)return e.jsx(it,{permission:"can_manage_products",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(oa,{className:"w-12 h-12 mx-auto mb-4 text-slate-400 animate-pulse"}),e.jsx("p",{className:"text-slate-600",children:"Loading product..."})]})})});if(c||!i)return e.jsx(it,{permission:"can_manage_products",children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(oa,{className:"w-12 h-12 mx-auto mb-4 text-red-400"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Product Not Found"}),e.jsx("p",{className:"text-slate-600 mb-4",children:c instanceof Error?c.message:"The product you are looking for does not exist."}),e.jsxs(M,{onClick:()=>n("/products"),children:[e.jsx(ha,{className:"w-4 h-4 mr-2"}),"Back to Products"]})]})})});const y=i.quickReplies?.filter(w=>w.type==="attribute")||[],b=i.quickReplies?.filter(w=>w.type==="sales")||[];return e.jsx(it,{permission:"can_manage_products",fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"You don't have permission to view this product."})]})}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(M,{variant:"ghost",onClick:()=>n("/products"),children:[e.jsx(ha,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:i.name}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Product Details"})]})]}),e.jsxs(M,{onClick:()=>n(`/products/${i.id}/edit`),children:[e.jsx($t,{className:"w-4 h-4 mr-2"}),"Edit Product"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(X,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Di,{className:"w-5 h-5"}),"Product Image"]})}),e.jsx(ee,{children:i.imageUrl?e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:i.imageUrl.startsWith("http")?i.imageUrl:`http://localhost:5001${i.imageUrl}`,alt:i.name,className:"w-full max-w-md h-auto rounded-lg border border-gray-200 shadow-sm object-cover",onError:w=>{w.target.src="https://via.placeholder.com/400x300?text=No+Image"}})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx(Di,{className:"w-16 h-16 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No image available"})]})})]}),i.description&&e.jsxs(X,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"Description"})}),e.jsx(ee,{children:e.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:i.description})})]}),y.length>0&&e.jsxs(X,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Iw,{className:"w-5 h-5"}),"Product Attributes"]}),e.jsx(Qe,{children:"Key-value pairs for product attributes"})]}),e.jsx(ee,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map((w,N)=>e.jsxs("div",{className:"p-4 bg-indigo-50 border border-indigo-200 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-indigo-900 mb-1",children:w.key||"Attribute"}),e.jsx("div",{className:"text-base text-indigo-700",children:w.value})]},N))})})]}),b.length>0&&e.jsxs(X,{children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"w-5 h-5"}),"Sales Messages"]}),e.jsx(Qe,{children:"Quick reply messages for sales conversations"})]}),e.jsx(ee,{children:e.jsx("div",{className:"space-y-3",children:b.map((w,N)=>e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-green-900",children:w.value})},N))})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(X,{className:"bg-gradient-to-br from-indigo-50 to-purple-50 border-indigo-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2 text-indigo-900",children:[e.jsx(ps,{className:"w-5 h-5"}),"Pricing Information"]})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Purchase Price"}),e.jsx("span",{className:"text-lg font-semibold text-slate-900",children:u(i.purchasePrice,i.currency)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Sale Price"}),e.jsx("span",{className:"text-lg font-semibold text-green-600",children:u(i.salePrice,i.currency)})]}),e.jsxs("div",{className:"border-t border-indigo-200 pt-2 mt-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Profit"}),e.jsx("span",{className:fe("text-lg font-bold",f&&f>0?"text-green-600":"text-red-600"),children:f!==null?u(f,i.currency):"-"})]}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsx("span",{className:"text-xs text-slate-500",children:"Profit Margin"}),e.jsx("span",{className:fe("text-sm font-semibold",p&&p>0?"text-green-600":"text-red-600"),children:p!==null?`${p.toFixed(1)}%`:"-"})]})]})]}),e.jsxs("div",{className:"pt-3 border-t border-indigo-200",children:[e.jsx("div",{className:"text-xs text-slate-500",children:"Currency"}),e.jsx("div",{className:"text-sm font-medium text-indigo-700 mt-1",children:i.currency==="BDT"?"Bangladeshi Taka ()":"US Dollar ($)"})]})]})]}),e.jsxs(X,{children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(oa,{className:"w-5 h-5"}),"Product Information"]})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 mb-1",children:"Category"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"px-3 py-1.5 bg-indigo-100 text-indigo-700 rounded-md text-sm font-medium",children:i.category.name})})]}),i.productCompany&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-slate-500 mb-1",children:"Company"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($a,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm text-slate-700",children:i.productCompany})]})]})]})]}),e.jsxs(X,{children:[e.jsx(oe,{children:e.jsx(ce,{children:"Metadata"})}),e.jsxs(ee,{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Product ID"}),e.jsxs("span",{className:"font-mono text-slate-700",children:["#",i.id]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Created"}),e.jsx("span",{className:"text-slate-700",children:new Date(i.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Last Updated"}),e.jsx("span",{className:"text-slate-700",children:new Date(i.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]})]})]})]})]})})}function rI(){const{user:t}=We(),s=gt(),n=St(),[i,o]=v.useState(!1),[c,u]=v.useState(null),[m,h]=v.useState({name:"",description:""}),{data:f,isLoading:p,refetch:y}=we({queryKey:["product-categories",t?.companyId],queryFn:async()=>t?.companyId?(await yi.getAll(t.companyId)).data.data:[],enabled:!!t?.companyId}),b=f||[],w=Te({mutationFn:R=>c?yi.update(c.id,R,t?.companyId||0):yi.create(R),onSuccess:()=>{s.invalidateQueries({queryKey:["product-categories"]}),o(!1),j(),y(),alert(c?"Category updated successfully!":"Category created successfully!")},onError:R=>{console.error("Category save error:",R);const _=R.response?.data?.message||R.message||"Failed to save category";alert(_)}}),N=Te({mutationFn:R=>yi.delete(R,t?.companyId||0),onSuccess:()=>{s.invalidateQueries({queryKey:["product-categories"]}),alert("Category deleted successfully!")},onError:R=>{alert(R.response?.data?.message||"Failed to delete category")}}),j=()=>{h({name:"",description:""}),u(null)},C=R=>{R?(u(R),h({name:R.name,description:R.description||""})):j(),o(!0)},A=()=>{o(!1),j()},E=R=>{if(R.preventDefault(),!m.name.trim()){alert("Category name is required");return}if(!t?.companyId){alert("User company ID is missing");return}const _={name:m.name.trim(),description:m.description?.trim()||void 0};w.mutate(_)},S=R=>{confirm("Are you sure you want to delete this category? Products in this category will not be deleted.")&&N.mutate(R)};return e.jsx(it,{permission:"can_manage_products",fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})]})}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Product Categories"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Manage product categories"})]}),e.jsxs(M,{onClick:()=>n("/product-categories/new"),children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Add Category"]})]}),e.jsxs(X,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"All Categories"}),e.jsxs(Qe,{children:[b.length," categor",b.length!==1?"ies":"y"," found"]})]}),e.jsx(ee,{children:p?e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading categories..."}):b.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(HT,{className:"w-12 h-12 mx-auto mb-2 text-slate-300"}),e.jsx("p",{className:"text-slate-500",children:"No categories found"}),e.jsxs(M,{onClick:()=>n("/product-categories/new"),className:"mt-4",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Add Your First Category"]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Description"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Created"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Actions"})]})}),e.jsx("tbody",{children:b.map(R=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"font-medium text-slate-900",children:R.name})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"text-sm text-slate-600",children:R.description||"-"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"text-sm text-slate-500",children:new Date(R.createdAt).toLocaleDateString()})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>C(R),children:e.jsx($t,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>S(R.id),children:e.jsx(Ls,{className:"w-4 h-4"})})]})})]},R.id))})]})})})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs(X,{className:"w-full max-w-md",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(ce,{children:c?"Edit Category":"Create Category"}),e.jsx(M,{variant:"ghost",size:"sm",onClick:A,children:e.jsx(Ye,{className:"w-4 h-4"})})]})}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"category-name",children:"Category Name *"}),e.jsx(me,{id:"category-name",value:m.name,onChange:R=>h({...m,name:R.target.value}),placeholder:"Enter category name",required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"category-description",children:"Description"}),e.jsx("textarea",{id:"category-description",value:m.description,onChange:R=>h({...m,description:R.target.value}),placeholder:"Enter category description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 min-h-[100px]"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(M,{type:"button",variant:"outline",onClick:A,children:"Cancel"}),e.jsx(M,{type:"submit",disabled:w.isPending,children:w.isPending?"Saving...":c?"Update":"Create"})]})]})})]})})]})})}function iI(){const{id:t}=ln(),{user:s}=We(),n=gt(),i=St(),[o,c]=v.useState({name:"",description:""}),u=Te({mutationFn:h=>yi.create(h),onSuccess:()=>{n.invalidateQueries({queryKey:["product-categories"]}),alert("Category created successfully!"),i("/product-categories")},onError:h=>{console.error("Category save error:",h);const f=h.response?.data?.message||h.message||"Failed to save category";alert(f)}}),m=h=>{if(h.preventDefault(),!o.name.trim()){alert("Category name is required");return}if(!s?.companyId){alert("User company ID is missing");return}const f={name:o.name.trim(),description:o.description?.trim()||void 0};u.mutate(f)};return e.jsx(it,{permission:"can_manage_products",fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-slate-600",children:"You don't have permission to access this page."})]})}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Add Product Category"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Create a new product category"})]}),e.jsxs(M,{variant:"ghost",onClick:()=>i("/product-categories"),children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Cancel"]})]}),e.jsxs(X,{children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Category Information"}),e.jsx(Qe,{children:"Enter the category details below"})]}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"name",children:"Category Name *"}),e.jsx(me,{id:"name",value:o.name,onChange:h=>c({...o,name:h.target.value}),placeholder:"Enter category name",required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",value:o.description,onChange:h=>c({...o,description:h.target.value}),placeholder:"Enter category description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 min-h-[100px]"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>i("/product-categories"),children:"Cancel"}),e.jsx(M,{type:"submit",disabled:u.isPending,children:u.isPending?"Creating...":"Create Category"})]})]})})]})]})})}function lI(){const t=St(),s=gt(),{data:n,isLoading:i}=we({queryKey:["services"],queryFn:async()=>(await wi.getAll()).data.data||[]}),o=n||[],c=Te({mutationFn:m=>wi.delete(m),onSuccess:()=>{s.invalidateQueries({queryKey:["services"]})}}),u=m=>{confirm("Are you sure you want to delete this service?")&&c.mutate(m)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Services"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Manage your digital marketing services"})]}),e.jsxs(M,{onClick:()=>t("/services/new"),children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"New Service"]})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{children:["All Services (",o.length,")"]})}),e.jsx(ee,{children:i?e.jsx("div",{className:"text-center py-8",children:"Loading..."}):o.length===0?e.jsx("div",{className:"text-center py-8 text-slate-500",children:"No services yet"}):e.jsx("div",{className:"grid gap-4",children:o.map(m=>{const h=typeof m.attributes=="string"?JSON.parse(m.attributes):m.attributes;return e.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:m.title}),!m.isActive&&e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:"Inactive"})]}),e.jsx("p",{className:"text-slate-600 mb-4",children:m.details}),e.jsxs("div",{className:"flex gap-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ps,{className:"w-4 h-4 text-indigo-600"}),e.jsxs("span",{className:"font-semibold text-indigo-600",children:["$",Number(m.pricing).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zs,{className:"w-4 h-4 text-slate-500"}),e.jsxs("span",{className:"text-slate-600",children:[new Date(m.deliveryStartDate).toLocaleDateString()," -"," ",new Date(m.deliveryEndDate).toLocaleDateString()]})]})]}),h?.tags&&h.tags.length>0&&e.jsx("div",{className:"flex gap-2 mt-3",children:h.tags.map((f,p)=>e.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-xs",children:f},p))}),h?.keyValuePairs&&Object.keys(h.keyValuePairs).length>0&&e.jsx("div",{className:"mt-3 space-y-1",children:Object.entries(h.keyValuePairs).map(([f,p])=>e.jsxs("div",{className:"text-sm text-slate-600",children:[e.jsxs("span",{className:"font-medium",children:[f,":"]})," ",String(p)]},f))})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>t(`/services/${m.id}/edit`),children:e.jsx($t,{className:"w-4 h-4"})}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>u(m.id),disabled:c.isPending,children:e.jsx(Ls,{className:"w-4 h-4"})})]})]})},m.id)})})})]})]})}function Qb(){const{id:t}=ln(),s=gt(),n=St(),i=!!t,[o,c]=v.useState({title:"",details:"",pricing:"",deliveryStartDate:"",deliveryEndDate:"",attributes:{keyValuePairs:{},tags:[]}}),[u,m]=v.useState({key:"",value:""}),[h,f]=v.useState(""),{data:p,isLoading:y}=we({queryKey:["service",t],queryFn:async()=>t?(await wi.getById(parseInt(t))).data.data:null,enabled:i});v.useEffect(()=>{if(p){const S=typeof p.attributes=="string"?JSON.parse(p.attributes):p.attributes;c({title:p.title||"",details:p.details||"",pricing:String(p.pricing||""),deliveryStartDate:new Date(p.deliveryStartDate).toISOString().split("T")[0],deliveryEndDate:new Date(p.deliveryEndDate).toISOString().split("T")[0],attributes:{keyValuePairs:S?.keyValuePairs||{},tags:S?.tags||[]}})}},[p]);const b=Te({mutationFn:S=>wi.create(S),onSuccess:()=>{s.invalidateQueries({queryKey:["services"]}),n("/services")}}),w=Te({mutationFn:S=>wi.update(parseInt(t),S),onSuccess:()=>{s.invalidateQueries({queryKey:["services"]}),s.invalidateQueries({queryKey:["service",t]}),n("/services")}}),N=S=>{S.preventDefault();const R={title:o.title,details:o.details,pricing:parseFloat(o.pricing),deliveryStartDate:o.deliveryStartDate,deliveryEndDate:o.deliveryEndDate,attributes:o.attributes};i?w.mutate(R):b.mutate(R)},j=()=>{u.key&&u.value&&(c({...o,attributes:{...o.attributes,keyValuePairs:{...o.attributes.keyValuePairs,[u.key]:u.value}}}),m({key:"",value:""}))},C=S=>{const R={...o.attributes.keyValuePairs};delete R[S],c({...o,attributes:{...o.attributes,keyValuePairs:R}})},A=()=>{h&&!o.attributes.tags.includes(h)&&(c({...o,attributes:{...o.attributes,tags:[...o.attributes.tags,h]}}),f(""))},E=S=>{c({...o,attributes:{...o.attributes,tags:o.attributes.tags.filter(R=>R!==S)}})};return y?e.jsx("div",{className:"text-center py-8",children:"Loading..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{variant:"ghost",onClick:()=>n("/services"),children:[e.jsx(ha,{className:"w-4 h-4 mr-2"}),"Back to Services"]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{children:[e.jsx(ce,{children:i?"Edit Service":"Create New Service"}),e.jsx(Qe,{children:i?"Update service details":"Add a new digital marketing service"})]}),e.jsx(ee,{children:e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"title",children:"Title *"}),e.jsx(me,{id:"title",value:o.title,onChange:S=>c({...o,title:S.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"details",children:"Details *"}),e.jsx("textarea",{id:"details",value:o.details,onChange:S=>c({...o,details:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:5,required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"pricing",children:"Pricing *"}),e.jsx(me,{id:"pricing",type:"number",step:"0.01",value:o.pricing,onChange:S=>c({...o,pricing:S.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"deliveryStartDate",children:"Delivery Start Date *"}),e.jsx(me,{id:"deliveryStartDate",type:"date",value:o.deliveryStartDate,onChange:S=>c({...o,deliveryStartDate:S.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"deliveryEndDate",children:"Delivery End Date *"}),e.jsx(me,{id:"deliveryEndDate",type:"date",value:o.deliveryEndDate,onChange:S=>c({...o,deliveryEndDate:S.target.value}),min:o.deliveryStartDate,required:!0})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Attributes - Key-Value Pairs"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(me,{placeholder:"Key",value:u.key,onChange:S=>m({...u,key:S.target.value})}),e.jsx(me,{placeholder:"Value",value:u.value,onChange:S=>m({...u,value:S.target.value})}),e.jsx(M,{type:"button",onClick:j,children:e.jsx(_t,{className:"w-4 h-4"})})]}),Object.entries(o.attributes.keyValuePairs).map(([S,R])=>e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-2 rounded",children:[e.jsxs("span",{className:"flex-1",children:[e.jsxs("strong",{children:[S,":"]})," ",R]}),e.jsx(M,{type:"button",size:"sm",variant:"ghost",onClick:()=>C(S),children:e.jsx(Ye,{className:"w-4 h-4"})})]},S))]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Attributes - Tags"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(me,{placeholder:"Tag name",value:h,onChange:S=>f(S.target.value),onKeyPress:S=>{S.key==="Enter"&&(S.preventDefault(),A())}}),e.jsx(M,{type:"button",onClick:A,children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.attributes.tags.map(S=>e.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm flex items-center gap-2",children:[S,e.jsx("button",{type:"button",onClick:()=>E(S),className:"hover:text-indigo-900",children:e.jsx(Ye,{className:"w-3 h-3"})})]},S))})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{type:"submit",disabled:b.isPending||w.isPending,children:i?"Update Service":"Create Service"}),e.jsx(M,{type:"button",variant:"outline",onClick:()=>n("/services"),children:"Cancel"})]})]})})]})]})}function oI({clientId:t,onClose:s}){const{data:n,isLoading:i,error:o}=we({queryKey:["client-detail",t],queryFn:async()=>t?(await vi.getClientById(t)).data.data:null,enabled:!!t});if(!t)return null;const c=n?.contactInfo||{},u=c.phone||c.Phone||"",m=c.email||c.Email||"",h=y=>{switch(y.toLowerCase()){case"sale":return"bg-green-100 text-green-700";case"reach":return"bg-blue-100 text-blue-700";case"research":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}},f=y=>{switch(y){case"Paid":return"bg-green-100 text-green-700";case"Unpaid":return"bg-yellow-100 text-yellow-700";case"Overdue":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},p=y=>{switch(y){case"Won":return"bg-green-100 text-green-700";case"Lost":return"bg-red-100 text-red-700";case"New":return"bg-blue-100 text-blue-700";case"Negotiation":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:s}),e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col z-50 m-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-slate-50",children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-900",children:["Client Details: ",i?"Loading...":n?.name||"Unknown"]}),e.jsx(M,{variant:"outline",size:"sm",onClick:s,className:"h-8 w-8 p-0",children:e.jsx(Ye,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-slate-900"}),e.jsx("p",{className:"mt-4 text-slate-600",children:"Loading client details..."})]}):o?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-red-600",children:"Failed to load client details"})}):n?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Vt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.stats.totalInvoices}),e.jsx("p",{className:"text-sm text-slate-600",children:"Invoices"})]})]})})}),e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Ws,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.stats.totalCampaigns}),e.jsx("p",{className:"text-sm text-slate-600",children:"Campaigns"})]})]})})}),e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(qr,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.stats.totalLeads}),e.jsx("p",{className:"text-sm text-slate-600",children:"Leads"})]})]})})}),e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(Yt,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.stats.totalEmployees}),e.jsx("p",{className:"text-sm text-slate-600",children:"Employees"})]})]})})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx($a,{className:"h-5 w-5"}),"Basic Information"]})}),e.jsx(ee,{children:e.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Name"}),e.jsx("dd",{className:"text-slate-900",children:n.name})]}),u&&e.jsxs("div",{children:[e.jsxs("dt",{className:"text-sm font-semibold text-slate-700 mb-1 flex items-center gap-1",children:[e.jsx(ca,{className:"h-4 w-4"}),"Phone"]}),e.jsx("dd",{className:"text-slate-900",children:u})]}),m&&e.jsxs("div",{children:[e.jsxs("dt",{className:"text-sm font-semibold text-slate-700 mb-1 flex items-center gap-1",children:[e.jsx(lo,{className:"h-4 w-4"}),"Email"]}),e.jsx("dd",{className:"text-slate-900",children:m})]}),n.address&&e.jsxs("div",{children:[e.jsxs("dt",{className:"text-sm font-semibold text-slate-700 mb-1 flex items-center gap-1",children:[e.jsx(bp,{className:"h-4 w-4"}),"Address"]}),e.jsx("dd",{className:"text-slate-900",children:n.address})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Company"}),e.jsx("dd",{className:"text-slate-900",children:n.company.name})]})]})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"h-5 w-5"}),"Invoices (",n.invoices.length,")"]})}),e.jsx(ee,{children:n.invoices.length===0?e.jsx("p",{className:"text-slate-500 text-center py-4",children:"No invoices found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Invoice #"}),e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Issue Date"}),e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Due Date"}),e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Amount"}),e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Status"})]})}),e.jsx("tbody",{children:n.invoices.map(y=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2",children:y.invoiceNumber}),e.jsx("td",{className:"p-2",children:new Date(y.issueDate).toLocaleDateString()}),e.jsx("td",{className:"p-2",children:new Date(y.dueDate).toLocaleDateString()}),e.jsxs("td",{className:"p-2",children:["$",Number(y.totalAmount).toLocaleString()]}),e.jsx("td",{className:"p-2",children:e.jsx(js,{className:f(y.status),children:y.status})})]},y.id))})]})})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ws,{className:"h-5 w-5"}),"Connected Campaigns (",n.campaigns.length,")"]})}),e.jsx(ee,{children:n.campaigns.length===0?e.jsx("p",{className:"text-slate-500 text-center py-4",children:"No campaigns found"}):e.jsx("div",{className:"space-y-4",children:n.campaigns.map(y=>e.jsxs(X,{className:"border-gray-200",children:[e.jsx(oe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(ce,{className:"text-lg",children:y.name}),y.description&&e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:y.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(js,{className:h(y.type),children:y.type}),y.isActive?e.jsx(js,{className:"bg-green-100 text-green-700",children:"Active"}):e.jsx(js,{className:"bg-gray-100 text-gray-700",children:"Inactive"})]})]})}),e.jsxs(ee,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("dt",{className:"text-slate-600 mb-1 flex items-center gap-1",children:[e.jsx(Zs,{className:"h-4 w-4"}),"Start Date"]}),e.jsx("dd",{className:"font-semibold",children:new Date(y.startDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsxs("dt",{className:"text-slate-600 mb-1 flex items-center gap-1",children:[e.jsx(Zs,{className:"h-4 w-4"}),"End Date"]}),e.jsx("dd",{className:"font-semibold",children:new Date(y.endDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsxs("dt",{className:"text-slate-600 mb-1 flex items-center gap-1",children:[e.jsx(ps,{className:"h-4 w-4"}),"Budget"]}),e.jsxs("dd",{className:"font-semibold",children:["$",Number(y.budget).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsxs("dt",{className:"text-slate-600 mb-1 flex items-center gap-1",children:[e.jsx(qr,{className:"h-4 w-4"}),"Leads"]}),e.jsx("dd",{className:"font-semibold",children:y.leads.length})]})]}),y.project&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-slate-600 mb-1",children:"Project"}),e.jsxs("dd",{className:"text-sm font-semibold",children:[y.project.title," (",y.project.status,")"]})]}),y.leads.length>0&&e.jsxs("div",{children:[e.jsxs("dt",{className:"text-sm font-semibold text-slate-700 mb-2",children:["Leads (",y.leads.length,")"]}),e.jsxs("div",{className:"space-y-2",children:[y.leads.slice(0,5).map(b=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:b.title}),b.customerName&&e.jsx("p",{className:"text-xs text-slate-600",children:b.customerName})]}),e.jsx(js,{className:p(b.status),children:b.status})]},b.id)),y.leads.length>5&&e.jsxs("p",{className:"text-xs text-slate-500 text-center",children:["+",y.leads.length-5," more leads"]})]})]}),y.employeeGroups.length>0&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Employee Groups"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:y.employeeGroups.map(b=>e.jsx(js,{variant:"outline",children:b.name},b.id))})]})]})]},y.id))})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"h-5 w-5"}),"Employee Groups & Members (",n.employeeGroups.length," groups, ",n.employees.length," employees)"]})}),e.jsx(ee,{children:n.employeeGroups.length===0?e.jsx("p",{className:"text-slate-500 text-center py-4",children:"No employee groups found"}):e.jsx("div",{className:"space-y-4",children:n.employeeGroups.map(y=>e.jsxs(X,{className:"border-gray-200",children:[e.jsxs(oe,{className:"pb-3",children:[e.jsx(ce,{className:"text-base",children:y.name}),y.description&&e.jsx("p",{className:"text-sm text-slate-600",children:y.description})]}),e.jsx(ee,{children:y.members.length===0?e.jsx("p",{className:"text-sm text-slate-500",children:"No members in this group"}):e.jsx("div",{className:"space-y-2",children:y.members.map(b=>e.jsx("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:b.user.name||b.user.email}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[b.designation&&e.jsx("span",{className:"text-xs text-slate-600",children:b.designation}),b.department&&e.jsxs("span",{className:"text-xs text-slate-500",children:[" ",b.department]})]}),b.user.email&&e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:b.user.email})]})},b.id))})})]},y.id))})})]})]}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-slate-600",children:"Client not found"})})})]})]})}function cI({projectId:t,onClose:s}){const{data:n,isLoading:i,error:o}=we({queryKey:["project-detail",t],queryFn:async()=>t?(await vi.getProjectById(t)).data.data:null,enabled:!!t});if(!t)return null;const c=p=>{switch(p){case"Completed":return"bg-green-100 text-green-700";case"InProgress":return"bg-blue-100 text-blue-700";case"Submitted":return"bg-yellow-100 text-yellow-700";case"StartedWorking":return"bg-purple-100 text-purple-700";case"Draft":return"bg-gray-100 text-gray-700";case"Cancelled":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},u=p=>{switch(p){case"Paid":return"bg-green-100 text-green-700";case"Unpaid":return"bg-yellow-100 text-yellow-700";case"Overdue":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},m=p=>{switch(p){case"Approved":return"bg-green-100 text-green-700";case"Pending":return"bg-yellow-100 text-yellow-700";case"Rejected":return"bg-red-100 text-red-700";case"Cancelled":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-700"}},h=p=>{switch(p.toLowerCase()){case"sale":return"bg-green-100 text-green-700";case"reach":return"bg-blue-100 text-blue-700";case"research":return"bg-purple-100 text-purple-700";default:return"bg-gray-100 text-gray-700"}},f=p=>{switch(p){case"Won":return"bg-green-100 text-green-700";case"Lost":return"bg-red-100 text-red-700";case"New":return"bg-blue-100 text-blue-700";case"Negotiation":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:s}),e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col z-50 m-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-slate-50",children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-900",children:["Project Details: ",i?"Loading...":n?.title||"Unknown"]}),e.jsx(M,{variant:"outline",size:"sm",onClick:s,className:"h-8 w-8 p-0",children:e.jsx(Ye,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:i?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-slate-900"}),e.jsx("p",{className:"mt-4 text-slate-600",children:"Loading project details..."})]}):o?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-red-600",children:"Failed to load project details"})}):n?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Vt,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.stats.totalInvoices}),e.jsx("p",{className:"text-sm text-slate-600",children:"Invoices"})]})]})})}),e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Ri,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.stats.totalPayments}),e.jsx("p",{className:"text-sm text-slate-600",children:"Payments"})]})]})})}),e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Ws,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.stats.totalCampaigns}),e.jsx("p",{className:"text-sm text-slate-600",children:"Campaigns"})]})]})})}),e.jsx(X,{className:"shadow-sm border-gray-200",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(qr,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.stats.totalLeads}),e.jsx("p",{className:"text-sm text-slate-600",children:"Leads"})]})]})})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"h-5 w-5"}),"Project Information"]})}),e.jsx(ee,{children:e.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Title"}),e.jsx("dd",{className:"text-slate-900",children:n.title})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Status"}),e.jsx("dd",{children:e.jsx(js,{className:c(n.status),children:n.status})})]}),n.description&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("dt",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Description"}),e.jsx("dd",{className:"text-slate-900",children:n.description})]}),e.jsxs("div",{children:[e.jsxs("dt",{className:"text-sm font-semibold text-slate-700 mb-1 flex items-center gap-1",children:[e.jsx(ps,{className:"h-4 w-4"}),"Budget"]}),e.jsxs("dd",{className:"text-slate-900",children:["$",Number(n.budget).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsxs("dt",{className:"text-sm font-semibold text-slate-700 mb-1 flex items-center gap-1",children:[e.jsx(Jt,{className:"h-4 w-4"}),"Time"]}),e.jsx("dd",{className:"text-slate-900",children:n.time})]}),n.deliveryStartDate&&e.jsxs("div",{children:[e.jsxs("dt",{className:"text-sm font-semibold text-slate-700 mb-1 flex items-center gap-1",children:[e.jsx(Zs,{className:"h-4 w-4"}),"Delivery Start"]}),e.jsx("dd",{className:"text-slate-900",children:new Date(n.deliveryStartDate).toLocaleDateString()})]}),n.deliveryEndDate&&e.jsxs("div",{children:[e.jsxs("dt",{className:"text-sm font-semibold text-slate-700 mb-1 flex items-center gap-1",children:[e.jsx(Zs,{className:"h-4 w-4"}),"Delivery End"]}),e.jsx("dd",{className:"text-slate-900",children:new Date(n.deliveryEndDate).toLocaleDateString()})]})]})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-5 w-5"}),"Client Information"]})}),e.jsxs(ee,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Name"}),e.jsx("dd",{className:"text-slate-900",children:n.client.name||n.client.email})]}),e.jsxs("div",{children:[e.jsxs("dt",{className:"text-sm font-semibold text-slate-700 mb-1 flex items-center gap-1",children:[e.jsx(lo,{className:"h-4 w-4"}),"Email"]}),e.jsx("dd",{className:"text-slate-900",children:n.client.email})]}),n.client.phone&&e.jsxs("div",{children:[e.jsxs("dt",{className:"text-sm font-semibold text-slate-700 mb-1 flex items-center gap-1",children:[e.jsx(ca,{className:"h-4 w-4"}),"Phone"]}),e.jsx("dd",{className:"text-slate-900",children:n.client.phone})]})]}),n.signature&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("dt",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Client Signature"}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:[e.jsx("img",{src:n.signature,alt:"Client Signature",className:"max-w-full h-auto max-h-32 mx-auto"}),n.signedAt&&e.jsxs("p",{className:"text-xs text-slate-500 text-center mt-2",children:["Signed: ",new Date(n.signedAt).toLocaleString()]})]})]})]})]}),n.service&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(oa,{className:"h-5 w-5"}),"Service Information"]})}),e.jsx(ee,{children:e.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Service Title"}),e.jsx("dd",{className:"text-slate-900",children:n.service.title})]}),e.jsxs("div",{children:[e.jsxs("dt",{className:"text-sm font-semibold text-slate-700 mb-1 flex items-center gap-1",children:[e.jsx(ps,{className:"h-4 w-4"}),"Pricing"]}),e.jsxs("dd",{className:"text-slate-900",children:["$",Number(n.service.pricing).toLocaleString()]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("dt",{className:"text-sm font-semibold text-slate-700 mb-1",children:"Details"}),e.jsx("dd",{className:"text-slate-900",children:n.service.details})]})]})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"h-5 w-5"}),"Invoices (",n.invoices.length,")"]})}),e.jsx(ee,{children:n.invoices.length===0?e.jsx("p",{className:"text-slate-500 text-center py-4",children:"No invoices found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Invoice #"}),e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Issue Date"}),e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Due Date"}),e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Amount"}),e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Status"})]})}),e.jsx("tbody",{children:n.invoices.map(p=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2",children:p.invoiceNumber}),e.jsx("td",{className:"p-2",children:new Date(p.issueDate).toLocaleDateString()}),e.jsx("td",{className:"p-2",children:new Date(p.dueDate).toLocaleDateString()}),e.jsxs("td",{className:"p-2",children:["$",Number(p.totalAmount).toLocaleString()]}),e.jsx("td",{className:"p-2",children:e.jsx(js,{className:u(p.status),children:p.status})})]},p.id))})]})})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ri,{className:"h-5 w-5"}),"Payments (",n.payments.length,")"]})}),e.jsx(ee,{children:n.payments.length===0?e.jsx("p",{className:"text-slate-500 text-center py-4",children:"No payments found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Amount"}),e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Method"}),e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Gateway"}),e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Transaction ID"}),e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Status"}),e.jsx("th",{className:"text-left p-2 text-sm font-semibold",children:"Paid At"})]})}),e.jsx("tbody",{children:n.payments.map(p=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsxs("td",{className:"p-2",children:["$",Number(p.amount).toLocaleString()]}),e.jsx("td",{className:"p-2",children:p.paymentMethod}),e.jsx("td",{className:"p-2",children:p.paymentGateway?.name||"N/A"}),e.jsx("td",{className:"p-2",children:p.transactionId||"N/A"}),e.jsx("td",{className:"p-2",children:e.jsx(js,{className:m(p.status),children:p.status})}),e.jsx("td",{className:"p-2",children:p.paidAt?new Date(p.paidAt).toLocaleDateString():"N/A"})]},p.id))})]})})})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{className:"flex items-center gap-2",children:[e.jsx(Ws,{className:"h-5 w-5"}),"Connected Campaigns (",n.campaigns.length,")"]})}),e.jsx(ee,{children:n.campaigns.length===0?e.jsx("p",{className:"text-slate-500 text-center py-4",children:"No campaigns found"}):e.jsx("div",{className:"space-y-4",children:n.campaigns.map(p=>e.jsxs(X,{className:"border-gray-200",children:[e.jsx(oe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(ce,{className:"text-lg",children:p.name}),p.description&&e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:p.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(js,{className:h(p.type),children:p.type}),p.isActive?e.jsx(js,{className:"bg-green-100 text-green-700",children:"Active"}):e.jsx(js,{className:"bg-gray-100 text-gray-700",children:"Inactive"})]})]})}),e.jsxs(ee,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("dt",{className:"text-slate-600 mb-1 flex items-center gap-1",children:[e.jsx(Zs,{className:"h-4 w-4"}),"Start Date"]}),e.jsx("dd",{className:"font-semibold",children:new Date(p.startDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsxs("dt",{className:"text-slate-600 mb-1 flex items-center gap-1",children:[e.jsx(Zs,{className:"h-4 w-4"}),"End Date"]}),e.jsx("dd",{className:"font-semibold",children:new Date(p.endDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsxs("dt",{className:"text-slate-600 mb-1 flex items-center gap-1",children:[e.jsx(ps,{className:"h-4 w-4"}),"Budget"]}),e.jsxs("dd",{className:"font-semibold",children:["$",Number(p.budget).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsxs("dt",{className:"text-slate-600 mb-1 flex items-center gap-1",children:[e.jsx(qr,{className:"h-4 w-4"}),"Leads"]}),e.jsx("dd",{className:"font-semibold",children:p.leads.length})]})]}),p.leads.length>0&&e.jsxs("div",{children:[e.jsxs("dt",{className:"text-sm font-semibold text-slate-700 mb-2",children:["Leads (",p.leads.length,")"]}),e.jsxs("div",{className:"space-y-2",children:[p.leads.slice(0,5).map(y=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:y.title}),y.customerName&&e.jsx("p",{className:"text-xs text-slate-600",children:y.customerName})]}),e.jsx(js,{className:f(y.status),children:y.status})]},y.id)),p.leads.length>5&&e.jsxs("p",{className:"text-xs text-slate-500 text-center",children:["+",p.leads.length-5," more leads"]})]})]}),p.employeeGroups.length>0&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Employee Groups"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.employeeGroups.map(y=>e.jsx(js,{variant:"outline",children:y.name},y.id))})]})]})]},p.id))})})]})]}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-slate-600",children:"Project not found"})})})]})]})}function dI(){const t=gt(),[s,n]=v.useState("projects"),[i,o]=v.useState(""),[c,u]=v.useState(null),[m,h]=v.useState(null),{data:f,isLoading:p}=we({queryKey:["admin-projects",i],queryFn:async()=>(await vi.getAllProjects({search:i||void 0})).data.data||[]}),{data:y,isLoading:b}=we({queryKey:["admin-clients",i],queryFn:async()=>(await vi.getAllClients({search:i||void 0})).data.data||[]}),w=f||[],N=y||[],j=Te({mutationFn:S=>vi.deleteProject(S),onSuccess:()=>{t.invalidateQueries({queryKey:["admin-projects"]})}}),C=Te({mutationFn:S=>vi.deleteClient(S),onSuccess:()=>{t.invalidateQueries({queryKey:["admin-clients"]})}}),A=S=>{confirm("Are you sure you want to delete this project?")&&j.mutate(S)},E=S=>{confirm("Are you sure you want to delete this client?")&&C.mutate(S)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Projects & Clients"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Manage all projects and clients"})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{variant:s==="projects"?"default":"outline",onClick:()=>n("projects"),children:["Projects (",w.length,")"]}),e.jsxs(M,{variant:s==="clients"?"default":"outline",onClick:()=>n("clients"),children:["Clients (",N.length,")"]})]}),e.jsx("div",{className:"flex gap-2 w-64",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ar,{className:"absolute left-2 top-2.5 h-4 w-4 text-slate-400"}),e.jsx(me,{placeholder:"Search...",value:i,onChange:S=>o(S.target.value),className:"pl-8"})]})})]})}),e.jsx(ee,{children:s==="projects"?e.jsx("div",{className:"space-y-4",children:p?e.jsx("div",{className:"text-center py-8",children:"Loading..."}):w.length===0?e.jsx("div",{className:"text-center py-8 text-slate-500",children:"No projects found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"Title"}),e.jsx("th",{className:"text-left p-2",children:"Client"}),e.jsx("th",{className:"text-left p-2",children:"Company"}),e.jsx("th",{className:"text-left p-2",children:"Budget"}),e.jsx("th",{className:"text-left p-2",children:"Status"}),e.jsx("th",{className:"text-left p-2",children:"Actions"})]})}),e.jsx("tbody",{children:w.map(S=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2",children:S.title}),e.jsx("td",{className:"p-2",children:S.client?.email||"N/A"}),e.jsx("td",{className:"p-2",children:S.company?.name||"N/A"}),e.jsxs("td",{className:"p-2",children:["$",Number(S.budget).toLocaleString()]}),e.jsx("td",{className:"p-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs ${S.status==="Completed"?"bg-green-100 text-green-700":S.status==="InProgress"?"bg-blue-100 text-blue-700":S.status==="Submitted"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:S.status})}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{size:"sm",variant:"default",onClick:()=>h(S.id),children:[e.jsx(la,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>{},children:e.jsx($t,{className:"w-4 h-4"})}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>A(S.id),disabled:j.isPending,children:e.jsx(Ls,{className:"w-4 h-4"})})]})})]},S.id))})]})})}):e.jsx("div",{className:"space-y-4",children:b?e.jsx("div",{className:"text-center py-8",children:"Loading..."}):N.length===0?e.jsx("div",{className:"text-center py-8 text-slate-500",children:"No clients found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"Name"}),e.jsx("th",{className:"text-left p-2",children:"Company"}),e.jsx("th",{className:"text-left p-2",children:"Contact Info"}),e.jsx("th",{className:"text-left p-2",children:"Invoices"}),e.jsx("th",{className:"text-left p-2",children:"Actions"})]})}),e.jsx("tbody",{children:N.map(S=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2",children:S.name}),e.jsx("td",{className:"p-2",children:S.company?.name||"N/A"}),e.jsx("td",{className:"p-2",children:S.contactInfo&&typeof S.contactInfo=="object"&&(S.contactInfo.email||S.contactInfo.phone)||"N/A"}),e.jsx("td",{className:"p-2",children:S._count?.invoices||0}),e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{size:"sm",variant:"default",onClick:()=>u(S.id),children:[e.jsx(la,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>{},children:e.jsx($t,{className:"w-4 h-4"})}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>E(S.id),disabled:C.isPending,children:e.jsx(Ls,{className:"w-4 h-4"})})]})})]},S.id))})]})})})})]}),c&&e.jsx(oI,{clientId:c,onClose:()=>u(null)}),m&&e.jsx(cI,{projectId:m,onClose:()=>h(null)})]})}function uI(){const t=St(),{data:s,isLoading:n}=we({queryKey:["client-invoices"],queryFn:async()=>(await qu.getClientInvoices()).data.data||[]}),i=s||[],o=c=>{switch(c){case"Paid":return"bg-green-100 text-green-700";case"Unpaid":return"bg-yellow-100 text-yellow-700";case"Overdue":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Invoices"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"View your project invoices"})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{children:e.jsxs(ce,{children:["All Invoices (",i.length,")"]})}),e.jsx(ee,{children:n?e.jsx("div",{className:"text-center py-8",children:"Loading..."}):i.length===0?e.jsx("div",{className:"text-center py-8 text-slate-500",children:"No invoices yet"}):e.jsx("div",{className:"space-y-4",children:i.map(c=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Invoice #",c.invoiceNumber]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${o(c.status)}`,children:c.status})]}),c.project&&e.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:["Project: ",c.project.title]}),e.jsxs("div",{className:"flex gap-6 text-sm mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ps,{className:"w-4 h-4 text-indigo-600"}),e.jsxs("span",{className:"font-semibold text-indigo-600",children:["",Number(c.totalAmount).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zs,{className:"w-4 h-4 text-slate-500"}),e.jsxs("span",{className:"text-slate-600",children:["Due: ",new Date(c.dueDate).toLocaleDateString()]})]})]})]}),e.jsxs(M,{size:"sm",onClick:()=>t(`/client/invoices/${c.id}`),children:[e.jsx(Vt,{className:"w-4 h-4 mr-1"}),"View"]})]})},c.id))})})]})]})}const mI=Es({paymentGatewayId:vn().int().positive("Payment gateway is required"),amount:vn().positive("Amount must be greater than 0"),transactionId:Fe().min(1,"Transaction ID is required").max(100,"Transaction ID must be less than 100 characters"),paidBy:Fe().regex(/^01[3-9]\d{8}$/,"Invalid Bangladesh mobile number format (01XXXXXXXXX)").optional().or(Uc("")),notes:Fe().max(5e3).optional()});function hI(){const{id:t}=ln(),s=St(),{user:n}=We(),i=gt(),[o,c]=v.useState(!1),{data:u,isLoading:m}=we({queryKey:["invoice",t],queryFn:async()=>t?(await qu.getById(parseInt(t))).data.data:null,enabled:!!t}),{data:h}=we({queryKey:["payment-gateways-active"],queryFn:async()=>(await hc.getActive()).data.data||[]}),{data:f}=we({queryKey:["payments","invoice",t],queryFn:async()=>t?(await vc.getByInvoice(parseInt(t))).data.data||[]:[],enabled:!!t}),p=u,y=p?.project,b=h||[],w=f||[],{register:N,handleSubmit:j,formState:{errors:C},reset:A,watch:E}=Vs({resolver:Hs(mI),defaultValues:{paymentGatewayId:0,amount:p?Number(p.totalAmount):0,transactionId:"",paidBy:"",notes:""}}),S=E("paymentGatewayId"),R=b.find(F=>F.id===S),_=w.filter(F=>F.status==="Approved").reduce((F,de)=>F+Number(de.amount),0),L=p?Number(p.totalAmount)-_:0,I=Te({mutationFn:F=>vc.create(F),onSuccess:()=>{i.invalidateQueries({queryKey:["payments","invoice",t]}),i.invalidateQueries({queryKey:["invoice",t]}),A(),c(!1),alert("Payment submitted successfully! Waiting for admin approval.")},onError:F=>{alert(F.response?.data?.message||"Failed to submit payment")}}),q=F=>{p&&I.mutate({invoiceId:p.id,paymentGatewayId:F.paymentGatewayId,amount:F.amount,transactionId:F.transactionId,paidBy:F.paidBy||void 0,notes:F.notes||void 0})},$=F=>{switch(F){case"Approved":return"bg-green-100 text-green-700";case"Pending":return"bg-yellow-100 text-yellow-700";case"Rejected":return"bg-red-100 text-red-700";case"Cancelled":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-700"}},H=F=>{switch(F){case"Approved":return e.jsx(ma,{className:"w-4 h-4"});case"Pending":return e.jsx(Jt,{className:"w-4 h-4"});case"Rejected":return e.jsx(Wn,{className:"w-4 h-4"});default:return null}};if(m)return e.jsx("div",{className:"text-center py-8",children:"Loading..."});if(!p)return e.jsx("div",{className:"text-center py-8",children:"Invoice not found"});const G=F=>{switch(F){case"Paid":return"bg-green-100 text-green-700";case"Unpaid":return"bg-yellow-100 text-yellow-700";case"Overdue":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{variant:"ghost",onClick:()=>s("/client/invoices"),children:[e.jsx(ha,{className:"w-4 h-4 mr-2"}),"Back to Invoices"]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{className:"border-b border-gray-100",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-600 flex items-center justify-center text-white font-bold text-lg",children:"O"}),e.jsxs("div",{children:[e.jsxs(ce,{className:"text-2xl",children:["Invoice #",p.invoiceNumber]}),e.jsxs(Qe,{children:["Issued on ",new Date(p.issueDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-slate-50 px-3 py-2",children:[e.jsx(ps,{className:"w-4 h-4 text-indigo-600"}),e.jsxs("span",{className:"text-lg font-semibold text-slate-900",children:["",Number(p.totalAmount).toLocaleString()]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${G(p.status)}`,children:p.status}),e.jsxs(M,{variant:"outline",size:"sm",children:[e.jsx(Yl,{className:"w-4 h-4 mr-1"}),"Download"]})]})]})}),e.jsx(ee,{className:"pt-6",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"rounded-lg border border-gray-100 p-4 bg-slate-50",children:[e.jsx("h3",{className:"font-semibold mb-2 text-slate-900",children:"Bill To"}),e.jsxs("p",{className:"text-sm text-slate-600",children:[p.client?.name||"N/A",e.jsx("br",{}),p.client?.contactInfo&&typeof p.client.contactInfo=="object"&&e.jsxs(e.Fragment,{children:[p.client.contactInfo.email&&e.jsxs(e.Fragment,{children:[p.client.contactInfo.email,e.jsx("br",{})]}),p.client.contactInfo.phone&&p.client.contactInfo.phone]})]})]}),e.jsxs("div",{className:"rounded-lg border border-gray-100 p-4 bg-slate-50",children:[e.jsx("h3",{className:"font-semibold mb-2 text-slate-900",children:"Invoice Details"}),e.jsxs("div",{className:"text-sm text-slate-600 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zs,{className:"w-4 h-4"}),e.jsxs("span",{children:["Due Date: ",new Date(p.dueDate).toLocaleDateString()]})]}),p.project&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(PT,{className:"w-4 h-4 text-indigo-600"}),e.jsxs("span",{children:["Project: ",p.project.title]})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Items"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Service breakdown"})]}),e.jsx("div",{className:"border rounded-lg overflow-hidden shadow-sm",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3 text-xs font-semibold text-slate-600",children:"Description"}),e.jsx("th",{className:"text-right p-3 text-xs font-semibold text-slate-600",children:"Quantity"}),e.jsx("th",{className:"text-right p-3 text-xs font-semibold text-slate-600",children:"Unit Price"}),e.jsx("th",{className:"text-right p-3 text-xs font-semibold text-slate-600",children:"Total"})]})}),e.jsx("tbody",{children:p.items?.map((F,de)=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3 text-sm text-slate-800",children:F.description}),e.jsx("td",{className:"p-3 text-right text-sm text-slate-700",children:Number(F.quantity).toLocaleString()}),e.jsxs("td",{className:"p-3 text-right text-sm text-slate-700",children:["",Number(F.unitPrice).toLocaleString()]}),e.jsxs("td",{className:"p-3 text-right font-medium text-slate-900",children:["",Number(F.total).toLocaleString()]})]},de))}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"p-3 text-right font-semibold text-slate-800",children:"Total Amount:"}),e.jsx("td",{className:"p-3 text-right font-bold text-lg text-indigo-700",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(ps,{className:"w-5 h-5"}),Number(p.totalAmount).toLocaleString()]})})]})})]})})]}),p.notes&&e.jsxs("div",{className:"rounded-lg border border-gray-100 p-4 bg-slate-50",children:[e.jsx("h3",{className:"font-semibold mb-2 text-slate-900",children:"Notes"}),e.jsx("p",{className:"text-sm text-slate-600",children:p.notes})]})]}),e.jsxs("div",{className:"space-y-4",children:[y&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsx(oe,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ce,{className:"text-sm",children:"Linked Project"}),e.jsx(Qe,{children:y.title})]}),e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>s("/client/projects"),children:[e.jsx(Aw,{className:"w-4 h-4 mr-1"}),"View Projects"]})]})}),e.jsxs(ee,{className:"text-sm text-slate-700 space-y-2",children:[y.description&&e.jsx("p",{className:"text-slate-600 line-clamp-3",children:y.description}),y.service&&e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold text-slate-800",children:"Service:"})," ",y.service.title]}),e.jsxs("p",{className:"text-slate-600",children:["Budget: ",Number(p.totalAmount).toLocaleString()]})]})]}),n?.roleName==="Client"&&p.status!=="Paid"&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{children:[e.jsxs(ce,{className:"text-sm text-slate-800 flex items-center gap-2",children:[e.jsx(Ri,{className:"w-4 h-4"}),"Make Payment"]}),e.jsxs(Qe,{children:["Total: ",Number(p.totalAmount).toLocaleString()," | Paid: ",_.toLocaleString()," | Remaining: ",L.toLocaleString()]})]}),e.jsx(ee,{children:o?e.jsxs("form",{onSubmit:j(q),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"paymentGatewayId",children:"Payment Gateway *"}),e.jsxs("select",{id:"paymentGatewayId",...N("paymentGatewayId",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"0",children:"Select gateway"}),b.map(F=>e.jsxs("option",{value:F.id,children:[F.name," (",F.accountNumber,")"]},F.id))]}),C.paymentGatewayId&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:C.paymentGatewayId.message})]}),R&&R.instructions&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-1",children:"Instructions:"}),e.jsx("p",{className:"text-xs text-blue-800 whitespace-pre-wrap",children:R.instructions})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"amount",children:"Amount *"}),e.jsx(me,{id:"amount",type:"number",step:"0.01",...N("amount",{valueAsNumber:!0}),max:L}),C.amount&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:C.amount.message}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",L.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"transactionId",children:"Transaction ID *"}),e.jsx(me,{id:"transactionId",...N("transactionId"),placeholder:"Enter transaction ID from payment"}),C.transactionId&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:C.transactionId.message})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"paidBy",children:"Paid From (Optional)"}),e.jsx(me,{id:"paidBy",...N("paidBy"),placeholder:"01XXXXXXXXX",maxLength:11}),C.paidBy&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:C.paidBy.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your payment account number"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"notes",children:"Notes (Optional)"}),e.jsx("textarea",{id:"notes",...N("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Any additional information"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>{c(!1),A()},className:"flex-1",children:"Cancel"}),e.jsx(M,{type:"submit",disabled:I.isPending,className:"flex-1",children:I.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Payment"})]})]}):e.jsx("div",{className:"space-y-3",children:b.length===0?e.jsx("p",{className:"text-sm text-slate-600",children:"No payment gateways available"}):e.jsxs(e.Fragment,{children:[e.jsxs(M,{onClick:()=>c(!0),className:"w-full",disabled:L<=0,children:[e.jsx(Ri,{className:"w-4 h-4 mr-2"}),"Submit Payment"]}),L<=0&&e.jsx("p",{className:"text-xs text-green-600 text-center",children:"Invoice fully paid"})]})})})]}),w.length>0&&e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{children:[e.jsx(ce,{className:"text-sm text-slate-800",children:"Payment History"}),e.jsxs(Qe,{children:[w.length," payment(s) submitted"]})]}),e.jsx(ee,{className:"space-y-3",children:w.map(F=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[H(F.status),e.jsx("span",{className:"font-semibold text-sm",children:F.paymentMethod})]}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${$(F.status)}`,children:F.status})]}),e.jsxs("div",{className:"text-xs text-slate-600 space-y-1",children:[e.jsxs("p",{children:["Amount: ",Number(F.amount).toLocaleString()]}),F.transactionId&&e.jsxs("p",{children:["Transaction ID: ",F.transactionId]}),F.paidBy&&e.jsxs("p",{children:["Paid From: ",F.paidBy]}),F.notes&&e.jsxs("p",{children:["Notes: ",F.notes]}),F.adminNotes&&e.jsxs("p",{className:"text-amber-700",children:["Admin: ",F.adminNotes]}),e.jsx("p",{className:"text-slate-500",children:new Date(F.createdAt).toLocaleString()})]})]},F.id))})]}),e.jsxs(X,{className:"shadow-sm border-gray-200",children:[e.jsxs(oe,{children:[e.jsx(ce,{className:"text-sm text-slate-800",children:"Timeline"}),e.jsx(Qe,{children:"Static UI; will be dynamic later"})]}),e.jsxs(ee,{className:"space-y-4 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-slate-900",children:"Invoice Created"}),e.jsx("p",{className:"text-slate-600",children:new Date(p.issueDate).toLocaleString()})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-slate-900",children:"Accepted"}),e.jsx("p",{className:"text-slate-600",children:"Pending (will update when available)"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-1",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-slate-900",children:"Paid"}),e.jsx("p",{className:"text-slate-600",children:p.status==="Paid"?"Completed":"Pending"})]})]})]})]})]})]})})]})]})}function fI(){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx(Ui,{}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-16 space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm uppercase tracking-wide text-indigo-600 font-semibold",children:"About Omni"}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900",children:"Built for modern revenue and operations teams"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl",children:"Omni CRM is crafted to help teams orchestrate campaigns, leads, and projects in one connected workspace. We blend CRM, project delivery, and inbox visibility so your team can move from lead to closed-won to delivery without silos."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{title:"Mission",desc:"Help companies unify revenue, service, and delivery workflows in a single operating system."},{title:"Vision",desc:"A connected customer journey where every conversation, task, and milestone stays in sync."},{title:"Values",desc:"Clarity, reliability, and speed. We ship fast, stay transparent, and keep data secure."}].map(t=>e.jsxs("div",{className:"p-5 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:t.title}),e.jsx("p",{className:"text-sm text-slate-600 mt-2 leading-relaxed",children:t.desc})]},t.title))}),e.jsxs("div",{className:"p-6 rounded-xl border border-gray-200 bg-white shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-3",children:"What we deliver"}),e.jsxs("ul",{className:"list-disc list-inside text-slate-700 space-y-2",children:[e.jsx("li",{children:"Unified CRM with projects, finance, and campaigns in one place."}),e.jsx("li",{children:"Inbox visibility across channels with analytics on conversation health."}),e.jsx("li",{children:"Role-based permissions, auditability, and secure data handling."}),e.jsx("li",{children:"API-first integrations for Chatwoot, Facebook, and your tooling."})]})]})]})]})}function xI(){const{data:t}=we({queryKey:["theme-settings-public"],queryFn:async()=>{try{return(await Ni.getThemeSettings()).data.data}catch{return null}},retry:!1,staleTime:3e5}),s=t?.contactEmail||"hello@omnicrm.com",n=t?.contactPhone||"+1 (555) 123-4567",i=t?.contactAddress||"";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx(Ui,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-16 space-y-10",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm uppercase tracking-wide text-indigo-600 font-semibold",children:"Contact"}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900",children:"We'd love to hear from you"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl",children:"Reach out for product questions, demos, partnerships, or support. We respond quickly."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm space-y-3",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"General"}),e.jsx("p",{className:"text-sm text-slate-600",children:s}),e.jsx("p",{className:"text-sm text-slate-600",children:n}),e.jsx("p",{className:"text-sm text-slate-600",children:"9:00 AM - 6:00 PM (GMT)"})]}),e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm space-y-3",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Support"}),e.jsx("p",{className:"text-sm text-slate-600",children:s}),e.jsx("p",{className:"text-sm text-slate-600",children:"Status: status.omnicrm.com"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Help Center: docs.omnicrm.com"})]})]}),i&&e.jsxs("div",{className:"p-6 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Address"}),e.jsx("div",{className:"space-y-3 text-sm text-slate-700",children:e.jsx("p",{children:i})})]})]})]})}function pI(){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx(Ui,{}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-16 space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm uppercase tracking-wide text-indigo-600 font-semibold",children:"Legal"}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900",children:"Terms & Conditions"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl",children:"These terms explain how you can use Omni CRM products and services. By accessing the platform you agree to these conditions."})]}),e.jsxs("div",{className:"space-y-4 text-sm text-slate-700 leading-relaxed bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[e.jsx(cc,{title:"Use of service",children:"Users must maintain accurate account information and keep credentials secure. Access is role-based and may be revoked for misuse."}),e.jsx(cc,{title:"Data handling",children:"We protect customer data with encryption in transit and at rest. Usage is governed by our Privacy Policy and applicable data laws."}),e.jsx(cc,{title:"Payments and billing",children:"Fees are billed per agreement. Late payments may suspend access until resolved. Refunds follow our SLA and contract terms."}),e.jsx(cc,{title:"Acceptable use",children:"No unlawful, abusive, or harmful activity. Do not attempt to disrupt services, probe security, or misuse integrations."}),e.jsx(cc,{title:"Liability",children:"Omni CRM is provided as is subject to contractual SLAs. We are not liable for indirect or consequential damages except as required by law."})]})]})]})}function cc({title:t,children:s}){return e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-base font-semibold text-slate-900",children:t}),e.jsx("p",{children:s})]})}function gI(){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx(Ui,{}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-16 space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm uppercase tracking-wide text-indigo-600 font-semibold",children:"Privacy"}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900",children:"Privacy Policy"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl",children:"We respect your data. This policy outlines what we collect, how we use it, and your rights."})]}),e.jsxs("div",{className:"space-y-4 text-sm text-slate-700 leading-relaxed bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[e.jsx(dc,{title:"Data we collect",children:"Account details, usage analytics, and integration metadata to deliver the service. Sensitive data is minimized."}),e.jsx(dc,{title:"How we use data",children:"To provide features, support, security, and product improvements. We do not sell personal data."}),e.jsx(dc,{title:"Sharing",children:"Shared only with processors under contract (hosting, analytics) and as required by law."}),e.jsx(dc,{title:"Security",children:"Encryption in transit/at rest, least-privilege access, logging, and routine security reviews."}),e.jsx(dc,{title:"Your rights",children:"Access, correction, deletion, and export of your data. Contact privacy@omnicrm.com for requests."})]})]})]})}function dc({title:t,children:s}){return e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-base font-semibold text-slate-900",children:t}),e.jsx("p",{children:s})]})}function yI(){const t=[{title:"CRM & Pipeline",desc:"Lead capture, qualification, pipeline stages, and conversion with inbox context."},{title:"Campaign Operations",desc:"Plan, launch, and track campaigns with product links, budgets, and performance."},{title:"Project Delivery",desc:"Project timelines, milestones, signatures, and client portals for delivery."},{title:"Finance & Invoicing",desc:"Quotes, invoices, payments, and revenue tracking tied to deals and projects."},{title:"Analytics & Reporting",desc:"Conversation health, campaign insights, lead funnels, and financial summaries."},{title:"Integrations",desc:"Chatwoot, Facebook, webhooks, and API-first design to fit your stack."}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx(Ui,{}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-16 space-y-10",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm uppercase tracking-wide text-indigo-600 font-semibold",children:"Services"}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900",children:"Everything you need to run revenue and delivery"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl",children:"Modular capabilities so sales, marketing, support, and delivery teams stay aligned."})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(s=>e.jsxs("div",{className:"p-5 rounded-lg border border-gray-200 bg-white shadow-sm space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:s.title}),e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:s.desc})]},s.title))})]})]})}function vI(){const t=[{title:"Home",path:"/"},{title:"About",path:"/about"},{title:"Services",path:"/services"},{title:"Contact",path:"/contact"},{title:"Terms",path:"/terms"},{title:"Privacy",path:"/privacy"},{title:"Sitemap",path:"/sitemap"},{title:"Login",path:"/login"},{title:"Register",path:"/register"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx(Ui,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-16 space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm uppercase tracking-wide text-indigo-600 font-semibold",children:"Sitemap"}),e.jsx("h1",{className:"text-4xl font-bold text-slate-900",children:"All public pages"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl",children:"Quick access to every public-facing page on Omni CRM."})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map(s=>e.jsx("div",{className:"p-4 rounded-lg border border-gray-200 bg-white shadow-sm flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:s.title}),e.jsx("p",{className:"text-xs text-slate-500",children:s.path})]})},s.title))})]})]})}function jI(){return e.jsx(HA,{children:e.jsx($A,{children:e.jsx(aE,{children:e.jsx(r5,{children:e.jsxs(Ok,{children:[e.jsx(He,{path:"/install",element:e.jsx(g5,{})}),e.jsx(He,{path:"/login",element:e.jsx(Uw,{})}),e.jsx(He,{path:"/dashboard",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(d5,{})})})}),e.jsx(He,{path:"/inbox",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(O5,{})})})}),e.jsx(He,{path:"/settings",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(it,{permission:"can_manage_integrations",children:e.jsx(P5,{})})})})}),e.jsx(He,{path:"/companies",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(U5,{})})})}),e.jsx(He,{path:"/employees",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(B5,{})})})}),e.jsx(He,{path:"/employees/:id",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(H5,{})})})}),e.jsx(He,{path:"/employee-groups",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(db,{})})})}),e.jsx(He,{path:"/employee-groups/:id",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(db,{})})})}),e.jsx(He,{path:"/tasks",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(Q5,{})})})}),e.jsx(He,{path:"/tasks/:id",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(a6,{})})})}),e.jsx(He,{path:"/finance",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(n6,{})})})}),e.jsx(He,{path:"/payment-management",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(v6,{})})})}),e.jsx(He,{path:"/leads",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(r6,{})})})}),e.jsx(He,{path:"/leads/:id",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(i6,{})})})}),e.jsx(He,{path:"/meeting-schedule",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(it,{permission:"can_manage_leads",children:e.jsx(l6,{})})})})}),e.jsx(He,{path:"/call-schedule",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(it,{permission:"can_manage_leads",children:e.jsx(o6,{})})})})}),e.jsx(He,{path:"/my-calls",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(c6,{})})})}),e.jsx(He,{path:"/users",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(d6,{})})})}),e.jsx(He,{path:"/lead-config",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(u6,{})})})}),e.jsx(He,{path:"/system-settings",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(m6,{})})})}),e.jsx(He,{path:"/theme-design",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(it,{permission:"can_manage_root_items",children:e.jsx(f6,{})})})})}),e.jsx(He,{path:"/payment-settings",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(g6,{})})})}),e.jsx(He,{path:"/roles",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(j6,{})})})}),e.jsx(He,{path:"/task-config",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(w6,{})})})}),e.jsx(He,{path:"/integrations",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(S6,{})})})}),e.jsx(He,{path:"/campaigns",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(C6,{})})})}),e.jsx(He,{path:"/campaigns/new",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(it,{permission:"can_manage_campaigns",children:e.jsx($b,{})})})})}),e.jsx(He,{path:"/campaigns/:id/edit",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(it,{permission:"can_manage_campaigns",children:e.jsx($b,{})})})})}),e.jsx(He,{path:"/campaigns/:id",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(it,{permission:"can_manage_campaigns",children:e.jsx(sI,{})})})})}),e.jsx(He,{path:"/products",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(aI,{})})})}),e.jsx(He,{path:"/products/new",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(Kb,{})})})}),e.jsx(He,{path:"/products/:id/edit",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(Kb,{})})})}),e.jsx(He,{path:"/products/:id",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(nI,{})})})}),e.jsx(He,{path:"/product-categories",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(rI,{})})})}),e.jsx(He,{path:"/product-categories/new",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(iI,{})})})}),e.jsx(He,{path:"/services",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(it,{permission:"can_manage_products",children:e.jsx(lI,{})})})})}),e.jsx(He,{path:"/services/new",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(it,{permission:"can_manage_products",children:e.jsx(Qb,{})})})})}),e.jsx(He,{path:"/services/:id/edit",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(it,{permission:"can_manage_products",children:e.jsx(Qb,{})})})})}),e.jsx(He,{path:"/admin/projects-clients",element:e.jsx(Je,{children:e.jsx(dt,{children:e.jsx(it,{permission:"can_manage_companies",children:e.jsx(dI,{})})})})}),e.jsx(He,{path:"/",element:e.jsx(u5,{})}),e.jsx(He,{path:"/register",element:e.jsx(h5,{})}),e.jsx(He,{path:"/about",element:e.jsx(fI,{})}),e.jsx(He,{path:"/contact",element:e.jsx(xI,{})}),e.jsx(He,{path:"/terms",element:e.jsx(pI,{})}),e.jsx(He,{path:"/privacy",element:e.jsx(gI,{})}),e.jsx(He,{path:"/services",element:e.jsx(yI,{})}),e.jsx(He,{path:"/sitemap",element:e.jsx(vI,{})}),e.jsx(He,{path:"/client/dashboard",element:e.jsx(Je,{children:e.jsx(di,{children:e.jsx(S5,{})})})}),e.jsx(He,{path:"/client/projects",element:e.jsx(Je,{children:e.jsx(di,{children:e.jsx(C5,{})})})}),e.jsx(He,{path:"/client/campaigns",element:e.jsx(Je,{children:e.jsx(di,{children:e.jsx(E5,{})})})}),e.jsx(He,{path:"/client/leads",element:e.jsx(Je,{children:e.jsx(di,{children:e.jsx(A5,{})})})}),e.jsx(He,{path:"/client/projects/:id/sign",element:e.jsx(Je,{children:e.jsx(di,{children:e.jsx(_5,{})})})}),e.jsx(He,{path:"/client/invoices",element:e.jsx(Je,{children:e.jsx(di,{children:e.jsx(uI,{})})})}),e.jsx(He,{path:"/client/invoices/:id",element:e.jsx(Je,{children:e.jsx(di,{children:e.jsx(hI,{})})})}),e.jsx(He,{path:"/home",element:e.jsx(hx,{to:"/dashboard",replace:!0})})]})})})})})}const bI=new T4({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});l4.createRoot(document.getElementById("root")).render(e.jsx(v.StrictMode,{children:e.jsx(R4,{client:bI,children:e.jsx(jI,{})})}));
